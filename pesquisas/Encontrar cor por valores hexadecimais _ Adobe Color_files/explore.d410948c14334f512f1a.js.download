(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{1001:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return v}));var r=n(1),a=n(944),o={criteria:[{main:r.cb}],sources:[r.i,r.Rb,r.Bc]};function i(e){var t=config("BEHANCE_ENDPOINT").basePath;return"".concat(t).concat(config("BEHANCE_ENDPOINT").searchApi,"?q=").concat(encodeURIComponent(e.main),"&sort=featured_date&page=").concat(e.pageNumber)}function c(e,t){var n=t().user,a=config("KULER_ENDPOINT"),o=a.basePath,i=a.api,c=a.searchPath,s=(parseInt(e.pageNumber,10)-1)*r.Vb,u="".concat(o).concat(i).concat(c,"?q=%7B%22").concat(e.typeOfQuery?e.typeOfQuery:"term","%22%3A%22").concat(encodeURIComponent(e.main),"%22%7D");return n.isLoggedIn&&(u="".concat(u,"&metadata=all")),"".concat(u,"&startIndex=").concat(s,"&maxNumber=").concat(r.Vb)}function s(e){var t=config("STOCK_ENDPOINT").api,n=(parseInt(e.pageNumber,10)-1)*r.Jc;return"".concat(t,"?locale=en-US&search_parameters%5Bwords%5D=").concat(encodeURIComponent(e.main),"&search_parameters%5Bfilters%5D%5Bcontent_type%3Aphoto%5D=1&search_parameters%5Bfilters%5D%5Bpremium%5D=false&search_parameters%5Blimit%5D=").concat(r.Jc,"&search_parameters%5Boffset%5D=").concat(n)}function u(e){var t,n=e.user,a=e.search,o=new FormData,i=(parseInt(a.criteria[0].pageNumber,10)-1)*r.Jc;if(n.isLoggedIn){var c=config("UNIVERSAL_SEARCH_ENDPOINT"),s=c.basePath,u=c.api,l=c.similaritySearch;t="".concat(s).concat(u).concat(l)}else{var p=config("UNIVERSAL_SEARCH_PROXY"),f=p.basePath,h=p.similaritySearch;t="".concat(f).concat(h)}return o.append("request",'{"scope": ["stock"], "limit": '.concat(r.Jc,', "start_index": ').concat(i,', "asset_type": ["images"]}')),o.append("image",a.fileData),{url:t,formData:o}}var l=function(e){return function(t){return t(a.a(r.uc,e))}},p=function(e){return function(t){return t(a.b(r.uc,e))}},f=function(e){return function(t){return t(a.c(r.uc,e))}},h=function(){return function(e,t){var n=t().search,r=n.criteria,o=n.srcFilter,l=(n.fileData,n.showDefaultCriteria),p=n.defaultCriteria,f={},h=r;l&&(h=p),h.forEach((function(n){var r;f.kulerUrl=c(n,t),f.behanceUrl=i(n),f.stockUrl=s(n),r=u(t()),f.universalSearchUrl=r.url,f.formData=r.formData,e(a.o(JSON.stringify(n),o,f))}))}},d=function(){return function(e,t){var n=t().search,r=n.criteria,o=n.srcFilter,l=n.showDefaultCriteria,p=n.defaultCriteria,f={},h=r,d=null;return l&&(h=p),h.forEach((function(e){var n=e.pageNumber;e.pageNumber=n+1,f.kulerUrl=c(e,t),f.stockUrl=s(e),f.behanceUrl=i(e),d=u(t()),f.universalSearchUrl=d.url,e.pageNumber=n})),e(a.d(f,o,{universalSearchFormData:d.formData}))}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return function(t){return t(a.p(r.uc,e))}},b=function(e){return function(t){return t(a.x(r.uc,e))}},y=function(e,t){return function(n){return n(a.u(t,e))}},g=function(e,t){return function(n){return n(a.h(t,e))}},v=function(e,t){return function(n){return n(a.r(t,e))}}},1017:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(76),a=n(1);function o(e){return function(t){var n={"x-api-key":config("KULER_ENDPOINT").clientId,"Content-type":"application/json"},o=config("VADER_ENDPOINT").api,i=function(e){var t=e.dialog,n=e.themeData,r=config("VADER_ENDPOINT"),o=t.reportedOn===a.Fc?"":"-tag";return{serviceId:r.serviceId,applicationId:r.applicationId,adobeId:n.author.guid,assetList:[{asset:"".concat(n.id).concat(o)}],reportDate:new Date,reportDesc:"Description: ".concat(t.description,",\n").concat(t.report," reported: ").concat(t.reportedOn===a.Fc?n.name:n.tags.map((function(e){return e.value})).join(", "),"\nLink of the theme: ").concat(n.href),reportType:t.reason,reporterName:t.name,reportedEmail:t.email,reportMetadata:""}}(e);return Object(r.f)(o,n,JSON.stringify(i))}}},1018:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(106),c=n.n(i),s=n(40),u=n.n(s),l=n(3),p=n(798),f=n.n(p);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?b(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={isNextPageAvailable:!1},r.goToPreviousPage=r.goToPreviousPage.bind(b(r)),r.goToNextPage=r.goToNextPage.bind(b(r)),r.goToPage=r.goToPage.bind(b(r)),r.checkForNextPage=r.checkForNextPage.bind(b(r)),r.checkForAvailablePagesCalled=!1,r}return function(e,t,n){t&&d(e.prototype,t)}(n,[{key:"goToPage",value:function(e){var t=this.props.history;if(this.props.currentPage!==e){var n=c.a.parse(t.location.search.slice(1));n.page=e,t.push("".concat(t.location.pathname,"?").concat(c.a.stringify(n)))}}},{key:"goToPreviousPage",value:function(){1!==this.props.currentPage&&this.goToPage(this.props.currentPage-1)}},{key:"goToNextPage",value:function(){this.goToPage(this.props.currentPage+1)}},{key:"checkForNextPage",value:function(e,t){var n=this;e?this.props.checkForAvailablePages(t).then((function(e){var t=e.reduce((function(e,t){return t||e}),!1);n.setState({isNextPageAvailable:t})})):this.props.checkForAvailablePages().then((function(e){var t=e.reduce((function(e,t){return t||e}),!1);n.setState({isNextPageAvailable:t})}))}},{key:"componentWillReceiveProps",value:function(e){e.currentPage===this.props.currentPage&&Object(l.g)(this.props.sources,e.sources)&&this.props.showPagination===e.showPagination||(this.checkForNextPage(e.isGallery,e.galleryCriteria),this.checkForAvailablePagesCalled=!0)}},{key:"shouldComponentUpdate",value:function(e,t){return e.currentPage!==this.props.currentPage||this.props.showPagination!==e.showPagination||!Object(l.g)(this.props.sources,e.sources)||this.state.isNextPageAvailable!==t.isNextPageAvailable||this.props.locale!==e.locale}},{key:"render",value:function(){return!1!==this.state.isNextPageAvailable||this.checkForAvailablePagesCalled||this.checkForNextPage(this.props.isGallery,this.props.galleryCriteria),a.a.createElement("div",{className:this.props.showPagination?f.a.paginationContainer:f.a.hide},a.a.createElement(u.a,{quiet:!0,className:f.a.navigateButton,label:this.props.intl.formatMessage({id:"app.pagination.prev"}),"aria-label":this.props.intl.formatMessage({id:"app.pagination.prev"}),onClick:this.goToPreviousPage,disabled:1===this.props.currentPage}),a.a.createElement(u.a,{quiet:!0,flexible:!0,className:f.a.currentPage,label:"".concat(this.props.currentPage),"aria-label":"".concat(this.props.currentPage)}),a.a.createElement(u.a,{quiet:!0,className:f.a.navigateButton,label:this.props.intl.formatMessage({id:"app.pagination.next"}),"aria-label":this.props.intl.formatMessage({id:"app.pagination.next"}),onClick:this.goToNextPage,disabled:!this.state.isNextPageAvailable}))}}]),n}();g.defaultProps={isGallery:!1,galleryCriteria:{}},t.a=Object(o.d)(g)},1019:function(e,t,n){e.exports=function(){"use strict";var e=function(e){if(!e)throw new Error("No config object has been provided.");"boolean"!=typeof e.useTransform&&(e.useTransform=!0),"number"!=typeof e.gutter&&(e.gutter=25),e.container||t("container"),e.items||e.static||t("items or static")},t=function(e){throw new Error("Missing property '"+e+"' in MagicGrid config")},n=function(t){e(t),t.container instanceof HTMLElement?(this.container=t.container,this.containerClass=t.container.className):(this.containerClass=t.container,this.container=document.querySelector(t.container)),this.items=this.container.children,this.static=t.static||!1,this.size=t.items,this.gutter=t.gutter,this.maxColumns=t.maxColumns||!1,this.useMin=t.useMin||!1,this.useTransform=t.useTransform,this.animate=t.animate||!1,this.started=!1,this.init()};return n.prototype.init=function(){if(this.ready()&&!this.started){this.container.style.position="relative";for(var e=0;e<this.items.length;e++){var t=this.items[e].style;t.position="absolute",this.animate&&(t.transition=(this.useTransform?"transform":"top, left")+" 0.2s ease")}this.started=!0}},n.prototype.colWidth=function(){return this.items[0].getBoundingClientRect().width+this.gutter},n.prototype.setup=function(){var e=this.container.getBoundingClientRect().width,t=this.colWidth(),n=Math.floor(e/t)||1,r=[];this.maxColumns&&n>this.maxColumns&&(n=this.maxColumns);for(var a=0;a<n;a++)r[a]={height:0,index:a};return{cols:r,wSpace:e-n*t+this.gutter}},n.prototype.nextCol=function(e,t){return this.useMin?function(e){var t=e[0];for(var n of e)n.height<t.height&&(t=n);return t}(e):e[t%e.length]},n.prototype.positionItems=function(){var e=this.setup(),t=e.cols,n=e.wSpace,r=0,a=this.colWidth();n=Math.floor(n/2);for(var o=0;o<this.items.length;o++){var i=this.nextCol(t,o),c=this.items[o],s=i.height?this.gutter:0,u=i.index*a+n+"px",l=i.height+s+"px";this.useTransform?c.style.transform="translate("+u+", "+l+")":(c.style.top=l,c.style.left=u),i.height+=c.getBoundingClientRect().height+s,i.height>r&&(r=i.height)}this.container.style.height=r+"px"},n.prototype.ready=function(){return!!this.static||this.items.length>=this.size},n.prototype.getReady=function(){var e=this,t=setInterval((function(){e.container=document.querySelector(e.containerClass),e.items=e.container.children,e.ready()&&(clearInterval(t),e.init(),e.listen())}),100)},n.prototype.listen=function(){var e,t=this;this.ready()?(window.addEventListener("resize",(function(){e||(e=setTimeout((function(){t.positionItems(),e=null}),200))})),this.positionItems()):this.getReady()},n}()},1020:function(e,t,n){e.exports=n(1021)},1021:function(e,t,n){"use strict";var r=n(4),a=n(27);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,c,s=r(n(16)),u=r(n(15)),l=r(n(12)),p=r(n(13)),f=r(n(17)),h=r(n(18)),d=r(n(19)),m=r(n(11)),b=r(n(4)),y=r(n(31)),g=r(n(40)),v=r(n(22)),O=n(107),E=r(n(54)),w=r(n(55)),S=r(n(1053)),j=r(n(1022)),k=n(105),C=r(n(5)),P=a(n(0)),T=r(n(102)),N={"cs-CZ":(0,b.default)(n(1023)).default,"da-DK":(0,b.default)(n(1024)).default,"de-DE":(0,b.default)(n(1025)).default,"en-US":(0,b.default)(n(1026)).default,"es-ES":(0,b.default)(n(1027)).default,"fi-FI":(0,b.default)(n(1028)).default,"fr-FR":(0,b.default)(n(1029)).default,"hu-HU":(0,b.default)(n(1030)).default,"it-IT":(0,b.default)(n(1031)).default,"ja-JP":(0,b.default)(n(1032)).default,"ko-KR":(0,b.default)(n(1033)).default,"nb-NO":(0,b.default)(n(1034)).default,"nl-NL":(0,b.default)(n(1035)).default,"pl-PL":(0,b.default)(n(1036)).default,"pt-BR":(0,b.default)(n(1037)).default,"ru-RU":(0,b.default)(n(1038)).default,"sv-SE":(0,b.default)(n(1039)).default,"tr-TR":(0,b.default)(n(1040)).default,"uk-UA":(0,b.default)(n(1041)).default,"zh-CN":(0,b.default)(n(1042)).default,"zh-TW":(0,b.default)(n(1043)).default};n(800),n(801),n(802),n(803);var I=(0,k.messageFormatter)(N),R=function(e){return e||""},_=(0,E.default)(o=(0,y.default)((c=i=function(e){function t(e){var n;(0,l.default)(this,t),(n=(0,f.default)(this,(0,h.default)(t).call(this,e))).searchId=(0,w.default)();var r=e.value,a=e.defaultValue;return n.state={value:R(r||a)},n}return(0,d.default)(t,e),(0,p.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){R(e.value)!==this.state.value&&this.setState({value:e.value})}},{key:"handleTextKeyDown",value:function(e){var t=this.props,n=t.onSubmit,r=t.onKeyDown,a=t.disabled,o=this.state.value,i=e.which;13!==i&&27!==i||e.preventDefault(),a||(13===i&&n(o),27===i&&this.handleTextChange("",e,"escapeKey"),r&&r(e))}},{key:"handleTextChange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input",r=this.props,a=r.onChange;r.disabled||e===this.state.value||("value"in this.props||this.setState({value:e}),a(e,t,{from:n}))}},{key:"handleClearButtonClick",value:function(e){this.handleTextChange("",e,"clearButton"),this.searchbox&&this.searchbox.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,r=t.className,a=t.icon,o=t.id,i=void 0===o?this.searchId:o,c=(0,u.default)(t,["disabled","className","icon","id"]),l=this.state.value;return P.default.createElement("div",{className:(0,v.default)("spectrum-Search",{"is-disabled":n},r)},P.default.createElement(T.default,(0,s.default)({type:"search",ref:function(t){return e.searchbox=t},className:"spectrum-Search-input",value:l,disabled:n,id:i},c,{onKeyDown:this.handleTextKeyDown,onChange:this.handleTextChange})),(0,O.cloneIcon)(a,{className:"spectrum-Search-icon",size:"S"}),""!==l&&P.default.createElement(g.default,{"aria-label":I("Clear search"),"aria-labelledby":"".concat(i," ").concat(i,"-clear-button"),variant:"clear",icon:P.default.createElement(S.default,null),id:"".concat(i,"-clear-button"),disabled:n,onClick:this.handleClearButtonClick}))}}]),t}(P.Component),(0,m.default)(i,"propTypes",{value:C.default.string,defaultValue:C.default.string,icon:C.default.node}),(0,m.default)(i,"defaultProps",{icon:P.default.createElement(j.default,null),onChange:function(){},onSubmit:function(){}}),o=c))||o)||o;t.default=_,_.displayName="Search"},1022:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(28)),a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return a.default.createElement(r.default,e,a.default.createElement("svg",{className:"spectrum-UIIcon-Magnifier"},a.default.createElement("path",{d:"M15.77 14.709l-4.534-4.534a6.013 6.013 0 1 0-1.061 1.061l4.534 4.534a.75.75 0 1 0 1.061-1.061zM6.5 11A4.5 4.5 0 1 1 11 6.5 4.505 4.505 0 0 1 6.5 11z",className:"spectrum-UIIcon--medium"}),a.default.createElement("path",{d:"M19.77 18.709l-5.464-5.463a7.5 7.5 0 1 0-1.06 1.06l5.463 5.464a.75.75 0 1 0 1.061-1.061zM2.5 8.5a6 6 0 1 1 6 6 6.007 6.007 0 0 1-6-6z",className:"spectrum-UIIcon--large"})))};i.displayName="Magnifier",t.default=i},1023:function(e){e.exports=JSON.parse('{"Clear search":"Vymazat hledání"}')},1024:function(e){e.exports=JSON.parse('{"Clear search":"Ryd søgning"}')},1025:function(e){e.exports=JSON.parse('{"Clear search":"Suche zurücksetzen"}')},1026:function(e){e.exports=JSON.parse('{"Clear search":"Clear search"}')},1027:function(e){e.exports=JSON.parse('{"Clear search":"Borrar búsqueda"}')},1028:function(e){e.exports=JSON.parse('{"Clear search":"Tyhjennä haku"}')},1029:function(e){e.exports=JSON.parse('{"Clear search":"Effacer la recherche"}')},1030:function(e){e.exports=JSON.parse('{"Clear search":"Keresés törlése"}')},1031:function(e){e.exports=JSON.parse('{"Clear search":"Cancella ricerca"}')},1032:function(e){e.exports=JSON.parse('{"Clear search":"検索をクリア"}')},1033:function(e){e.exports=JSON.parse('{"Clear search":"검색 지우기"}')},1034:function(e){e.exports=JSON.parse('{"Clear search":"Tøm søk"}')},1035:function(e){e.exports=JSON.parse('{"Clear search":"Zoekactie wissen"}')},1036:function(e){e.exports=JSON.parse('{"Clear search":"Wyczyść zawartość wyszukiwania"}')},1037:function(e){e.exports=JSON.parse('{"Clear search":"Limpar pesquisa"}')},1038:function(e){e.exports=JSON.parse('{"Clear search":"Очистить поиск"}')},1039:function(e){e.exports=JSON.parse('{"Clear search":"Rensa sökning"}')},1040:function(e){e.exports=JSON.parse('{"Clear search":"Aramayı temizle"}')},1041:function(e){e.exports=JSON.parse('{"Clear search":"Очистити пошук"}')},1042:function(e){e.exports=JSON.parse('{"Clear search":"清除搜索"}')},1043:function(e){e.exports=JSON.parse('{"Clear search":"清除搜尋條件"}')},1044:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(28)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return o.default.createElement(a.default,r({},e,{icon:{18:n(1045),24:n(1046)}}))};c.displayName="Camera",t.default=c},1045:function(e,t,n){"use strict";var r=n(0);e.exports=r.createElement("svg",{viewBox:"0 0 36 36"},r.createElement("circle",{cx:"18",cy:"18",r:"6"}),r.createElement("path",{d:"M33 8h-6.05L23.6 4.326A1 1 0 0 0 22.859 4h-9.718a1 1 0 0 0-.739.326L9.05 8H3a1 1 0 0 0-1 1v20a1 1 0 0 0 1 1h30a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1zM18 26.2a8.2 8.2 0 1 1 8.2-8.2 8.2 8.2 0 0 1-8.2 8.2z"}))},1046:function(e,t,n){"use strict";var r=n(0);e.exports=r.createElement("svg",{viewBox:"0 0 48 48"},r.createElement("circle",{cx:"24",cy:"25",r:"7"}),r.createElement("path",{d:"M44 12h-6.75a2 2 0 0 1-1.664-.891l-4.992-4.218A2 2 0 0 0 28.93 6h-9.86a2 2 0 0 0-1.664.891l-4.867 4.219a2 2 0 0 1-1.664.89H4a2 2 0 0 0-2 2v26a2 2 0 0 0 2 2h40a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2zM24 36.3A11.3 11.3 0 1 1 35.3 25 11.3 11.3 0 0 1 24 36.3z"}))},1047:function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,a,o;a=[e,n(1),n(2),n(3),n(4),n(5),n(6)],void 0===(o="function"==typeof(r=function(e,t,n,r,a,o,i){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}var s=c(t),u=c(n),l=c(r),p=c(a),f=c(o),h=c(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return d(e,[{key:"attach",value:function(e,t){var n=this;return new Promise((function(r,a){var o=document.querySelector(e);o.setAttribute("accept","image/*"),o.addEventListener("change",(function(e){var a=n.compress([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.target.files)),t);r(a)}),!1)}))}},{key:"compress",value:function(e,t){return Promise.all(e.map((function(e){return function(e,t){var n=new f.default(t);return n.start=window.performance.now(),n.alt=e.name,n.ext=e.type,n.startSize=e.size,h.default.orientation(e).then((function(t){return n.orientation=t,l.default.load(e)})).then(function(e){return function(t){return p.default.load(t).then((function(t){if(e.startWidth=t.naturalWidth,e.startHeight=t.naturalHeight,e.resize){var n=p.default.resize(e.maxWidth,e.maxHeight)(t.naturalWidth,t.naturalHeight),r=n.width,a=n.height;e.endWidth=r,e.endHeight=a}else e.endWidth=t.naturalWidth,e.endHeight=t.naturalHeight;return u.default.imageToCanvas(e.endWidth,e.endHeight,e.orientation)(t)})).then((function(t){return e.iterations=1,e.base64prefix=s.default.prefix(e.ext),function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments[5],c=u.default.canvasToBase64(t,r),l=s.default.size(c);return i+=1,l>a||r>o?e(t,l,r-.1,a,o,i):c}(t,e.startSize,e.quality,e.size,e.minQuality,e.iterations)})).then((function(t){return e.finalSize=s.default.size(t),s.default.data(t)})).then((function(t){e.end=window.performance.now();var n=e.end-e.start;return{data:t,prefix:e.base64prefix,elapsedTimeInSeconds:n/1e3,alt:e.alt,initialSizeInMb:u.default.size(e.startSize).MB,endSizeInMb:u.default.size(e.finalSize).MB,ext:e.ext,quality:e.quality,endWidthInPx:e.endWidth,endHeightInPx:e.endHeight,initialWidthInPx:e.startWidth,initialHeightInPx:e.startHeight,sizeReducedInPercent:(e.startSize-e.finalSize)/e.startSize*100,iterations:e.iterations}}))}}(n))}(e,t)})))}}],[{key:"convertBase64ToFile",value:function(e,t){return u.default.base64ToFile(e,t)}}]),e}();e.exports=m})?r.apply(t,a):r)||(e.exports=o)},function(e,t,n){var r,a;void 0===(a="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={size:function(e){return(e.replace(/^data:image\/\w+;base64,/,"").length-814)/1.37},mime:function(e){return e.split(";")[0].match(/jpeg|png|gif/)[0]},data:function(e){return e.replace(/^data:image\/\w+;base64,/,"")},prefix:function(e){return"data:"+e+";base64,"}}})?r.apply(t,[t]):r)||(e.exports=a)},function(e,t,n){var r,a;void 0===(a="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={base64ToFile:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=window.atob(e),r=[],a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return new window.Blob([new Uint8Array(r)],{type:t})},imageToCanvas:function(e,t,n){var r=document.createElement("canvas"),a=r.getContext("2d");return r.width=e,r.height=t,function(o){if(!n||n>8)return a.drawImage(o,0,0,r.width,r.height),r;switch(n>4&&(r.width=t,r.height=e),n){case 2:a.translate(e,0),a.scale(-1,1);break;case 3:a.translate(e,t),a.rotate(Math.PI);break;case 4:a.translate(0,t),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-t);break;case 7:a.rotate(.5*Math.PI),a.translate(e,-t),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-e,0)}return n>4?a.drawImage(o,0,0,r.height,r.width):a.drawImage(o,0,0,r.width,r.height),r}},canvasToBase64:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75;return e.toDataURL("image/jpeg",t)},size:function(e){return{KB:e/1e3,MB:e/1e6}}}})?r.apply(t,[t]):r)||(e.exports=a)},function(e,t,n){var r,a;void 0===(a="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var r=new window.FileReader;r.addEventListener("load",(function(e){t(e.target.result)}),!1),r.addEventListener("error",(function(e){n(e)}),!1),r.readAsDataURL(e)}))}}})?r.apply(t,[t]):r)||(e.exports=a)},function(e,t,n){var r,a;void 0===(a="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var r=new window.Image;r.addEventListener("load",(function(){t(r)}),!1),r.addEventListener("error",(function(e){n(e)}),!1),r.src=e}))},resize:function(e,t){return function(n,r){if(!e&&!t)return{width:n,height:r};var a=n/r,o=void 0,i=void 0;return a>e/t?i=(o=Math.min(n,e))/a:o=(i=Math.min(r,t))*a,{width:o,height:i}}}}})?r.apply(t,[t]):r)||(e.exports=a)},function(e,t,n){var r,a;void 0===(a="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function e(t){var n=t.quality,r=void 0===n?.75:n,a=t.size,o=void 0===a?2:a,i=t.maxWidth,c=void 0===i?1920:i,s=t.maxHeight,u=void 0===s?1920:s,l=t.resize,p=void 0===l||l;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.start=window.performance.now(),this.end=null,this.alt=null,this.ext=null,this.startSize=null,this.startWidth=null,this.startHeight=null,this.size=1e3*o*1e3,this.endSize=null,this.endWidth=null,this.endHeight=null,this.iterations=0,this.base64prefix=null,this.quality=r,this.resize=p,this.maxWidth=c,this.maxHeight=u,this.orientation=1}})?r.apply(t,[t]):r)||(e.exports=a)},function(e,t,n){var r,a;void 0===(a="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={orientation:function(e){return new Promise((function(t,n){var r=new window.FileReader;r.onload=function(e){var n=new DataView(e.target.result);65496!==n.getUint16(0,!1)&&t(-2);for(var r=n.byteLength,a=2;a<r;){var o=n.getUint16(a,!1);if(a+=2,65505===o){1165519206!==n.getUint32(a+=2,!1)&&t(-1);var i=18761===n.getUint16(a+=6,!1);a+=n.getUint32(a+4,i);var c=n.getUint16(a,i);a+=2;for(var s=0;s<c;s++)274===n.getUint16(a+12*s,i)&&t(n.getUint16(a+12*s+8,i))}else{if(65280!=(65280&o))break;a+=n.getUint16(a,!1)}}t(-1)},r.readAsArrayBuffer(e.slice(0,65536))}))}}})?r.apply(t,[t]):r)||(e.exports=a)}])},1050:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1019),i=n.n(o),c=n(799),s=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["children"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,a.a.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?d(e):t}(this,n)}}(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),b(d(e=t.apply(this,arguments)),"positionItems",(function(){e.gridInstance&&e.gridInstance.items.length&&(e.gridInstance.positionItems(),e.onGridLayoutReposition())})),b(d(e),"onGridLayoutReposition",(function(){if("function"==typeof e.props.onRePositionCallback&&!e.repositionExecuted){var t=e.gridInstance.items[0].style.transform.match(/\d+/);e.repositionExecuted=!0,e.props.onRePositionCallback(+t[0])}})),b(d(e),"componentDidMount",e.recreateInstance),b(d(e),"componentWillUnmount",e.revokeInstance),e.wrapperRef=a.a.createRef(),e.repositionExecuted=!1,e}return function(e,t,n){t&&f(e.prototype,t)}(n,[{key:"componentDidUpdate",value:function(e){return this.props.children.length!==e.children.length?(this.recreateInstance(),!1):this.props.currentPage!==e.currentPage?(this.gridInstance?this.gridInstance.positionItems():this.recreateInstance(),!1):void 0}},{key:"areDifferentThemes",value:function(e,t){return e.props[this.props.componentDidMount]!==t.props[this.props.componentDidMount]}},{key:"revokeInstance",value:function(){this.gridInstance&&(this.gridInstance=void 0)}},{key:"recreateInstance",value:function(){if(this.wrapperRef.current){this.revokeInstance();var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({container:this.wrapperRef.current,items:!this.props.static&&this.props.children?[].concat(this.props.children).length:void 0},this.props),t=(e.children,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,l));if(t.static||t.items&&t.items>0)try{this.gridInstance=new i.a(t),this.gridInstance.listen(),this.onGridLayoutReposition()}catch(e){console.error(e)}}}},{key:"render",value:function(){return a.a.createElement("div",{ref:this.wrapperRef,className:s.a.masonry},this.props.children)}}]),n}();y.defaultProps={gutter:32,maxCols:5,maxColWidth:280,useMin:!1,animate:!1};var g=y,v=n(975),O=n(104),E=n(980),w=n(1),S=n(3);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var a=N(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?T(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(T(r=t.call(this,e)),"renderItem",(function(e){var t=Object.assign({},r.props);return t.pageName=Object(S.e)(r.props.pageName.toLowerCase()),a.a.createElement(v.a,k({},e,t))})),r.renderItem=r.renderItem.bind(T(r)),r.shuffle=r.shuffle.bind(T(r)),r.feed=r.shuffle(e.feed),r}return function(e,t,n){t&&C(e.prototype,t)}(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.feed;this.feed=this.shuffle(t)}},{key:"shuffle",value:function(e){for(var t=Object.keys(e),n=e[w.Oc],r={},a=t.slice(0,t.length-1),o=new Array(n),i=0,c=0,s=0,u=0;u<a.length;u++)r[u]=0;for(var l=0;l<a.length;l++)i<e[l].length&&(i=e[l].length,c=l);for(a.push(c);s<n;)a.forEach((function(t){r[t]<e[t].length&&(o[s]=e[t][r[t]],r[t]++,s++)}));return o}},{key:"render",value:function(){var e=this,t=this.feed;return a.a.createElement(a.a.Fragment,null,this.props.renderEmptyPage&&a.a.createElement(E.a,{pageName:this.props.emptyStatePageName}),this.props.renderEmptyPage||0!==t.length?a.a.createElement(g,{onRePositionCallback:this.props.onRePositionCallback,gutter:w.Ic,animate:!1,useMin:!0,currentPage:this.props.currentPage},t.map((function(t){return e.renderItem(t)}))):a.a.createElement(O.a,{style:{position:"absolute"},size:"L"}))}}]),n}();t.a=I},1051:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(36),i=n(52),c=n(1),s=n(7),u=n(37),l=n.n(u),p=n(46),f=n.n(p),h=n(1020),d=n.n(h),m=n(110),b=n(1052),y=n(40),g=n.n(y),v=n(1044),O=n.n(v),E=n(1047),w=n.n(E),S=n(23),j=n(3),k=n(804),C=n.n(k);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=new w.a,A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?R(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={fileName:e.search.fileData?e.search.fileData.name:"",value:e.searchBarInputValue,searchType:e.searchBarSearchType,options:[]},r.checkIfFileSizeGreaterThanOneMb=r.checkIfFileSizeGreaterThanOneMb.bind(R(r)),r.onChange=r.onChange.bind(R(r)),r.onSubmit=r.onSubmit.bind(R(r)),r.onClick=r.onClick.bind(R(r)),r.onFileInputFieldChange=r.onFileInputFieldChange.bind(R(r)),r.onDragOver=r.onDragOver.bind(R(r)),r.onDrop=r.onDrop.bind(R(r)),r.onImageTagClose=r.onImageTagClose.bind(R(r)),r.submitFile=r.submitFile.bind(R(r)),r.submitFileLessThanOneMB=r.submitFileLessThanOneMB.bind(R(r)),r.onSelectListOptionChange=r.onSelectListOptionChange.bind(R(r)),r.extractValueOfSearchField=r.extractValueOfSearchField.bind(R(r)),r.onListOptionChange=r.onListOptionChange.bind(R(r)),r.searchValueForHex=r.searchValueForHex.bind(R(r)),r}return function(e,t,n){t&&N(e.prototype,t)}(n,[{key:"componentWillReceiveProps",value:function(e){e.searchBarInputValue!==this.props.searchBarInputValue&&this.setState({value:e.searchBarInputValue}),e.searchBarSearchType!==this.props.searchBarSearchType&&this.setState({searchType:e.searchBarSearchType})}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.locale!==e.locale||this.props.isImageSearch!==e.isImageSearch||this.state.fileName!==t.fileName||this.state.value!==t.value}},{key:"checkIfFileSizeGreaterThanOneMb",value:function(e){return!!(e&&e.size>c.nc)}},{key:"searchValueForHex",value:function(e){if(1===e.length)return e.repeat(6);if(2===e.length)return e.repeat(3);if(3===e.length){var t,n="",r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;)n+=t.value.repeat(2)}catch(e){r.e(e)}finally{r.f()}return n}return e}},{key:"onChange",value:function(e){var t=this.extractValueOfSearchField(e);this.state.searchType.length>0&&e.startsWith(this.state.searchType)?e.length<=this.state.searchType.length+3?this.setState({options:[],value:"",searchType:""}):this.setState({options:[{label:"term: ".concat(t),value:"term"},{label:"tag: ".concat(t),value:"tag"},{label:"hex: ".concat(this.searchValueForHex(t)),value:"hex"},{label:"similarHex: ".concat(this.searchValueForHex(t)),value:"similarHex"}],value:e}):this.setState({options:e.length>0?[{label:"term: ".concat(t),value:"term"},{label:"tag: ".concat(t),value:"tag"},{label:"hex: ".concat(this.searchValueForHex(t)),value:"hex"},{label:"similarHex: ".concat(this.searchValueForHex(t)),value:"similarHex"}]:[],value:e})}},{key:"onClick",value:function(){this.fileInputRef.click()}},{key:"extractValueOfSearchField",value:function(e){return this.state.searchType.length>0&&e.startsWith(this.state.searchType)?e.slice(this.state.searchType.length+3):e}},{key:"onFileInputFieldChange",value:function(e){var t=e.target.files[0];if(t&&"image/png"===t.type||"image/jpeg"===t.type){var n={workflow:Object(j.e)(this.props.ingestWorkflow[0]),subcategory:c.Hb.INPUT_FIELD},r={name:t.name,type:t.type,extension:t.name.split(".").pop(),mimetype:t.type,category:c.Hb.IMAGE};Object(S.a)(c.Fb.SEARCH_IMAGE_BROWSE,{event:n,content:r},this.props.ingestWorkflow),this.searchRef.handleTextChange(""),this.submitFile(t)}this.fileInputRef.value=""}},{key:"onSubmit",value:function(e){if(this.setState({options:[]}),this.forceUpdate(),!Object(j.s)(e)){var t=this.props.history.location,n={workflow:Object(j.e)(this.props.ingestWorkflow[0]),subcategory:c.Hb.INPUT_FIELD,value:e};0===e.length?this.props.history.push("".concat(t.pathname)):Object(j.s)(this.state.searchType)||0===this.state.searchType.length?this.props.history.push("/".concat(this.props.locale,"/search?q=").concat(encodeURIComponent(this.extractValueOfSearchField(e)))):this.props.history.push("/".concat(this.props.locale,"/search?q=").concat(encodeURIComponent("hex"===this.state.searchType||"similarHex"===this.state.searchType?this.searchValueForHex(this.extractValueOfSearchField(e)):this.extractValueOfSearchField(e)),"&t=").concat(this.state.searchType)),Object(S.a)(c.Fb.SEARCH_KEYWORD,{event:n},this.props.ingestWorkflow)}}},{key:"onSelectListOptionChange",value:function(e){var t=this;this.setState({searchType:e,options:[],value:"".concat(e," : ").concat(this.extractValueOfSearchField(this.state.value))},(function(){t.forceUpdate(),t.onSubmit(t.state.value)}))}},{key:"onListOptionChange",value:function(e,t){var n=this;console.log("onListOptionChange",e,t),this.setState({searchType:t,options:[],value:"".concat(t," : ").concat(this.extractValueOfSearchField(this.state.value))},(function(){n.forceUpdate(),n.onSubmit(n.state.value)}))}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;if(t&&t.length&&"image/png"===t[0].type||"image/jpeg"===t[0].type){var n={workflow:Object(j.e)(this.props.ingestWorkflow[0]),subcategory:c.Hb.INPUT_FIELD},r={name:t[0].name,type:t[0].type,extension:t[0].name.split(".").pop(),mimetype:t[0].type,category:c.Hb.IMAGE};Object(S.a)(c.Fb.SEARCH_IMAGE_DRAG_AND_DROP,{event:n,content:r},this.props.ingestWorkflow),this.searchRef.handleTextChange(""),this.submitFile(t[0])}}},{key:"submitFile",value:function(e){var t=this;this.checkIfFileSizeGreaterThanOneMb(e)?M.compress([e],{size:1}).then((function(e){var n=e[0],r=n.data,a=n.ext,o=w.a.convertBase64ToFile(r,a);t.submitFileLessThanOneMB(o)})):this.submitFileLessThanOneMB(e)}},{key:"submitFileLessThanOneMB",value:function(e){var t=this;this.setState({fileName:e.name},(function(){t.props.uploadFile(e),t.props.changeSourceFilter([c.Qc]),t.props.changeCriteria([{main:"similaritySearch",pageNumber:1}]),t.props.fetchPage(),t.props.history.push("/".concat(t.props.locale,"/search?type=image"))}))}},{key:"onImageTagClose",value:function(){this.props.history.push("".concat(location.pathname))}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage({id:c.Nb?"app.header.search":"app.search.searchbar.placeholder"});return t=this.props.isImageSearch?"":t,a.a.createElement("div",{className:C.a.searchBarContainer,onDrop:this.onDrop,onDragOver:this.onDragOver},a.a.createElement("input",{className:C.a.fileInputField,type:"file",accept:"image/png, image/jpeg",onChange:this.onFileInputFieldChange,ref:function(t){e.fileInputRef=t}}),a.a.createElement("div",{className:C.a.searchBar},this.props.isImageSearch&&a.a.createElement(b.Tag,{className:C.a.imageSearchTag,value:"searchImage",icon:a.a.createElement(O.a,null),closable:!0,onClose:this.onImageTagClose},this.state.fileName),a.a.createElement(d.a,{className:C.a.bar,disabled:this.props.isImageSearch,placeholder:t,onChange:this.onChange,onSubmit:this.onSubmit,value:this.state.value,ref:function(t){e.searchRef=t}})),a.a.createElement("div",{className:C.a.searchOptionsDiv},0!==this.state.options.length?a.a.createElement(m.List,{className:C.a.searchOptionsList},this.state.options.map((function(t){return a.a.createElement(m.ListItem,{value:t.value,onSelect:e.onSelectListOptionChange,className:C.a.searchOptionsList},t.label)}))):null),a.a.createElement(l.a,{className:C.a.tooltip,placement:"bottom",trigger:["hover"]},a.a.createElement(g.a,{className:C.a.fileInputIcon,icon:a.a.createElement(O.a,{size:"S"}),onClick:this.onClick,variant:"primary",quiet:!0}),a.a.createElement(f.a,null,a.a.createElement(s.a,{id:"app.tooltip.search.searchfromimage"}))))}}]),n}();A.defaultProps={searchBarSearchType:""};var D=Object(s.d)(A),L=n(973),x=n(1001),B=n(805),U=n.n(B);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var a=G(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&H(e.prototype,t)}(n,[{key:"render",value:function(){return a.a.createElement("div",{className:U.a.searchAndLibrarySelectorContainer},a.a.createElement("div",{className:U.a.searchBarContainer},a.a.createElement(D,this.props)),a.a.createElement(L.a,{ingestWorkflow:this.props.ingestWorkflow,hideLabel:c.Nb,className:U.a.librarySelector}))}}]),n}(),V=Object(o.b)((function(e){var t=e.search;return{locale:e.user.locale,search:t}}),(function(e){return Object(i.b)({changeCriteria:x.a,changeDefaultCriteria:x.b,changeSourceFilter:x.c,fetchPage:x.f,initPage:x.g,saveThemeToLibrary:x.h,uploadFile:x.j,updateThemeLike:x.i},e)}))(z);t.a=V},1075:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(237),i=n(239),c=n.n(i),s=n(40),u=n.n(s),l=n(958),p=n.n(l),f=n(7),h=n(1),d=n(109),m=n.n(d),b=n(3),y=n(23);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S={};S[h.ib.MOST_POPULAR]=h.K.EXPLORE.MOST_POPULAR,S[h.ib.MOST_USED]=h.K.EXPLORE.MOST_USED,S[h.ib.ALL]=h.K.EXPLORE.ALL,S[h.ib.RANDOM]=h.K.EXPLORE.RANDOM,S[h.ib.MY_PUBLISHED]=h.K.EXPLORE.MY_PUBLISHED,S[h.ib.MY_APPRECIATIONS]=h.K.EXPLORE.MY_APPRECIATIONS;var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?E(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(E(r)),r.getCriteriaList=r.getCriteriaList.bind(E(r)),r}return function(e,t,n){t&&v(e.prototype,t)}(n,[{key:"getCriteriaList",value:function(){var e=this.props.isUserLoggedIn,t=h.Ub;return e&&(t=t.concat(h.Tb)),t}},{key:"onChange",value:function(e){this.props.clearSourcesSelected(),this.props.setLabelToKuler(),this.props.setMainFilter(e),this.props.history.push("".concat(this.props.history.location.pathname));var t={workflow:Object(b.e)(this.props.ingestWorkflow[0]),subcategory:this.props.pageName},n={filter:e,sort_order:h.Hb.DESCENDING};Object(y.a)(h.Fb.RULE_CHANGED,{event:t,ui:n},this.props.ingestWorkflow)}},{key:"render",value:function(){var e=this,t=this.props.disabled,n=this.getCriteriaList().map((function(t){return{label:e.props.intl.formatMessage({id:h.jb[t]}),value:S[t]}}));return a.a.createElement(m.a,{options:n,disabled:t,onChange:this.onChange,value:this.props.mainFilter,flexible:!0})}}]),n}(),k=Object(f.d)(j);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R={};R[h.ib.ALL_TIME]=h.K.EXPLORE.ALL_TIME,R[h.ib.THIS_MONTH]=h.K.EXPLORE.THIS_MONTH,R[h.ib.THIS_WEEK]=h.K.EXPLORE.THIS_WEEK;var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(N(r)),r}return function(e,t,n){t&&P(e.prototype,t)}(n,[{key:"onChange",value:function(e){this.props.clearSourcesSelected(),this.props.setLabelToKuler(),this.props.setTimeFilter(e),this.props.history.push("".concat(this.props.history.location.pathname));var t={workflow:Object(b.e)(this.props.ingestWorkflow[0]),subcategory:this.props.pageName},n={filter:e,sort_order:h.Hb.DESCENDING};Object(y.a)(h.Fb.RULE_CHANGED,{event:t,ui:n},this.props.ingestWorkflow)}},{key:"render",value:function(){var e=this,t=this.props.disabled,n=h.Wb.map((function(t){return{label:e.props.intl.formatMessage({id:h.jb[t]}),value:R[t]}}));return a.a.createElement(m.a,{options:n,disabled:t,value:this.props.timeFilter,onChange:this.onChange,flexible:!0})}}]),n}(),M=Object(f.d)(_);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=h.K.EXPLORE.MOST_POPULAR,H=h.K.EXPLORE.THIS_MONTH,W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var a=U(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?B(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={timeFilterDisabled:[h.K.EXPLORE.MY_PUBLISHED,h.K.EXPLORE.MY_APPRECIATIONS].includes(e.selectedState.mainFilter)},r.setMainFilter=r.setMainFilter.bind(B(r)),r.setTimeFilter=r.setTimeFilter.bind(B(r)),r.setDefaultFilters=r.setDefaultFilters.bind(B(r)),r}return function(e,t,n){t&&L(e.prototype,t)}(n,[{key:"setDefaultFilters",value:function(){this.setState({timeFilterDisabled:!1}),this.props.changeCriteria([{main:F,time:H,pageNumber:1}])}},{key:"setTimeFilter",value:function(e){var t={workflow:Object(b.e)(this.props.ingestWorkflow[0]),subcategory:this.props.pageName},n={filter:e,sort_order:h.Hb.DESCENDING};Object(y.a)(h.Fb.RULE_CHANGED,{event:t,ui:n},this.props.ingestWorkflow),this.setState({mainFilter:""===this.state.mainFilter?F:this.state.mainFilter,timeFilter:e}),this.props.changeCriteria([{main:""===this.props.selectedState.mainFilter?F:this.props.selectedState.mainFilter,time:e,pageNumber:1}])}},{key:"setMainFilter",value:function(e){var t={workflow:Object(b.e)(this.props.ingestWorkflow[0]),subcategory:this.props.pageName},n={filter:e,sort_order:h.Hb.DESCENDING};Object(y.a)(h.Fb.RULE_CHANGED,{event:t,ui:n},this.props.ingestWorkflow);var r="",a=!1;[h.K.EXPLORE.MY_PUBLISHED,h.K.EXPLORE.MY_APPRECIATIONS].includes(e)?(r="",a=!0):r=""===this.props.selectedState.timeFilter?H:this.props.selectedState.timeFilter,this.setState({timeFilterDisabled:a}),this.props.changeCriteria([{main:e,time:r,pageNumber:1}])}},{key:"render",value:function(){var e=this;return a.a.createElement(o.SubMenu,{label:this.props.label,onClick:function(t){t.stopPropagation(),e.props.setLabelToKuler(),e.setDefaultFilters(),e.props.history.push("".concat(e.props.history.location.pathname))}},a.a.createElement(k,D({},this.props,{mainFilter:this.props.selectedState.mainFilter,setMainFilter:this.setMainFilter})),a.a.createElement(o.MenuDivider,null),a.a.createElement(M,D({},this.props,{disabled:this.state.timeFilterDisabled,timeFilter:this.props.selectedState.timeFilter,setTimeFilter:this.setTimeFilter})))}}]),n}(),G=Object(f.d)(W),z=n(811),V=n.n(z);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee={};ee[h.ib.ALL_SOURCES]=h.b,ee[h.ib.COLOR_THEMES]=h.Rb,ee[h.ib.CREATIVE_PROJECTS]=h.i,ee[h.ib.STOCK_PHOTOS]=h.Bc;var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var a=$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?Z(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).sourceToIndexMap={},r.onSelect=r.onSelect.bind(Z(r)),r.clearSelectedState=r.clearSelectedState.bind(Z(r)),r.state={selectedLabel:"",selected:{ALL:!1,BEHANCE:!1,KULER:!1,STOCK:!1}},e.showColorFilters&&(r.state.kulerSelectedState={mainFilter:"",timeFilter:""}),r}return function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(n,[{key:"clearSelectedState",value:function(){var e=Object.assign({},this.state.selected);Object.keys(e).forEach((function(t){e[t]=!1})),this.setState({selected:e})}},{key:"onSelect",value:function(e){var t=Object.assign({},this.state.selected),n={workflow:Object(b.e)(this.props.ingestWorkflow[0]),subcategory:this.props.pageName},r={filter:h.zc[e],sort_order:h.Hb.DESCENDING},a={selectedLabel:this.labels.find((function(t){return t.value===e})).label};Object.keys(t).forEach((function(n){t[n]=n===e})),a.selected=t,this.props.showColorFilters&&(a.kulerSelectedState={mainFilter:"",timeFilter:""},this.props.history.push("".concat(this.props.history.location.pathname))),this.setState(a),e===h.b?this.props.changeSourceFilter([h.i,h.Rb,h.Bc]):this.props.changeSourceFilter([e]),this.props.fetchPage(),Object(y.a)(h.Fb.SOURCE_CHANGED,{event:n,ui:r},this.props.ingestWorkflow)}},{key:"shouldComponentUpdate",value:function(e){return this.props.locale!==e.locale||this.props.defaultSourceSelected!==e.defaultSourceSelected||this.props.criteria!==e.criteria||this.props.disabled!==e.disabled}},{key:"render",value:function(){var e=this;return this.labels=this.props.sourceList.map((function(t){return{label:e.props.intl.formatMessage({id:h.jb[t]}),value:ee[t]}})),a.a.createElement("div",{className:V.a.dropdown},a.a.createElement("span",{className:V.a.viewLabel},this.props.intl.formatMessage({id:"app.filter.view"})),a.a.createElement(c.a,{onSelect:this.onSelect},a.a.createElement(u.a,{dropdownTrigger:!0,quiet:!0,className:V.a.dropDownButton,label:this.state.selectedLabel,icon:a.a.createElement(p.a,{size:"S"}),disabled:!!this.props.disabled&&this.props.disabled}),a.a.createElement(o.Menu,{dropdownMenu:!0},this.labels.map((function(t,n){return t.value===h.Rb&&e.props.showColorFilters?a.a.createElement(G,X({setLabelToKuler:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state.selected),n={workflow:Object(b.e)(e.props.ingestWorkflow[0]),subcategory:e.props.pageName},r={filter:h.zc[h.Rb],sort_order:h.Hb.DESCENDING};Object.keys(t).forEach((function(e){t[e]=!1})),e.setState({selectedLabel:e.props.intl.formatMessage({id:h.jb.COLOR_THEMES}),selected:t}),Object(y.a)(h.Fb.SOURCE_CHANGED,{event:n,ui:r},e.props.ingestWorkflow),e.props.defaultSourceSelected!==h.ib.COLOR_THEMES&&e.props.changeSourceFilter([h.Rb])},selectedState:e.state.kulerSelectedState,clearSourcesSelected:e.clearSelectedState,key:n,label:Object(b.e)(t.label)},e.props)):a.a.createElement(o.MenuItem,{role:"menuitemradio",value:t.value,key:n,selected:e.state.selected[t.value]},t.label)})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=Object.assign({},t.selected);if(Object.keys(r).forEach((function(t){t===ee[e.defaultSourceSelected]?r[t]=!0:r[t]=!1})),n.selectedLabel=Object(b.s)(e.defaultSourceSelected)?"":e.intl.formatMessage({id:h.jb[e.defaultSourceSelected]}),n.selected=r,e.showColorFilters)if(e.defaultSourceSelected===h.ib.COLOR_THEMES){var a=Object.assign({},t.kulerSelectedState);a.mainFilter=JSON.parse(e.criteria).main,a.timeFilter=JSON.parse(e.criteria).time,n.kulerSelectedState=a}else{var o=Object.assign({},t.kulerSelectedState);o.mainFilter="",o.timeFilter="",n.kulerSelectedState=!1}return n}}]),n}();te.defaultProps={showColorFilters:!1},t.a=Object(f.d)(te)},1119:function(e,t,n){var r,a,o;a=[t,n(1447)],void 0===(o="function"==typeof(r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);e.default=n.default})?r.apply(t,a):r)||(e.exports=o)},1120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(22)),a={ROOT:function(e){return(0,r.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,r.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,r.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,r.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,r.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,r.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,r.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,r.default)({dot:!0,selected:e})}};t.default=a},1121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")"}},1122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return function(){return e},e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}(n(0)),a=u(n(1120)),o=n(1448),i=u(n(1121)),c=u(n(1119)),s=u(n(1123));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,n)}}(n);function n(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),b(d(a=t.call(this,e)),"itemsWrapperRef",void 0),b(d(a),"itemsListRef",void 0),b(d(a),"thumbsRef",void 0),b(d(a),"setItemsWrapperRef",(function(e){a.itemsWrapperRef=e})),b(d(a),"setItemsListRef",(function(e){a.itemsListRef=e})),b(d(a),"setThumbsRef",(function(e,t){a.thumbsRef||(a.thumbsRef=[]),a.thumbsRef[t]=e})),b(d(a),"updateSizes",(function(){if(a.props.children&&a.itemsWrapperRef&&a.thumbsRef){var e=r.Children.count(a.props.children),t=a.itemsWrapperRef.clientWidth,n=a.props.thumbWidth?a.props.thumbWidth:(0,o.outerWidth)(a.thumbsRef[0]),i=Math.floor(t/n),c=e-i,s=i<e;a.setState((function(e,t){return{itemSize:n,visibleItems:i,firstItem:s?a.getFirstItem(t.selectedItem):0,lastPosition:c,showArrows:s}}))}})),b(d(a),"handleClickItem",(function(e,t,n){if(!function(e){return e.hasOwnProperty("key")}(n)||"Enter"===n.key){var r=a.props.onSelectItem;"function"==typeof r&&r(e,t)}})),b(d(a),"onSwipeStart",(function(){a.setState({swiping:!0})})),b(d(a),"onSwipeEnd",(function(){a.setState({swiping:!1})})),b(d(a),"onSwipeMove",(function(e){var t=e.x;if(!a.state.itemSize||!a.itemsWrapperRef)return!1;var n=-a.state.firstItem*a.state.itemSize;0===n&&t>0&&(t=0),n===-a.state.visibleItems*a.state.itemSize&&t<0&&(t=0);var r=n+100/(a.itemsWrapperRef.clientWidth/t);return a.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){a.itemsListRef.style[e]=(0,i.default)(r,"%",a.props.axis)})),!0})),b(d(a),"slideRight",(function(e){a.moveTo(a.state.firstItem-("number"==typeof e?e:1))})),b(d(a),"slideLeft",(function(e){a.moveTo(a.state.firstItem+("number"==typeof e?e:1))})),b(d(a),"moveTo",(function(e){e=(e=e<0?0:e)>=a.state.lastPosition?a.state.lastPosition:e,a.setState({firstItem:e})})),a.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},a}return function(e,t,n){t&&f(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:e.selectedItem,firstItem:this.getFirstItem(e.selectedItem)})}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var o=a.default.ITEM(!1,n===e.state.selectedItem),i={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:o,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",p({},i,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,s=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,u=-this.state.firstItem*(this.state.itemSize||0),l=(0,i.default)(u,"px",this.props.axis),p=this.props.transitionTime+"ms";return t={WebkitTransform:l,MozTransform:l,MsTransform:l,OTransform:l,transform:l,msTransform:l,WebkitTransitionDuration:p,MozTransitionDuration:p,MsTransitionDuration:p,OTransitionDuration:p,transitionDuration:p,msTransitionDuration:p},r.default.createElement("div",{className:a.default.CAROUSEL(!1)},r.default.createElement("div",{className:a.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:a.default.ARROW_PREV(!o),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(c.default,{tagName:"ul",className:a.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef},this.renderItems()):r.default.createElement("ul",{className:a.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:a.default.ARROW_NEXT(!s),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}();t.default=y,b(y,"displayName","Thumbs"),b(y,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},1123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){return window}},1445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return a.default}});var r=o(n(1446)),a=o(n(1122));function o(e){return e&&e.__esModule?e:{default:e}}},1446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return function(){return e},e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}(n(0)),a=p(n(21)),o=p(n(1119)),i=p(n(1120)),c=p(n(1121)),s=p(n(1122)),u=p(n(1449)),l=p(n(1123));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(){},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,r.default.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}(this,n)}}(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),O(g(o=t.call(this,e)),"thumbsRef",void 0),O(g(o),"carouselWrapperRef",void 0),O(g(o),"listRef",void 0),O(g(o),"itemsRef",void 0),O(g(o),"timer",void 0),O(g(o),"setThumbsRef",(function(e){o.thumbsRef=e})),O(g(o),"setCarouselWrapperRef",(function(e){o.carouselWrapperRef=e})),O(g(o),"setListRef",(function(e){o.listRef=e})),O(g(o),"setItemsRef",(function(e,t){o.itemsRef||(o.itemsRef=[]),o.itemsRef[t]=e})),O(g(o),"autoPlay",(function(){r.Children.count(o.props.children)<=1||(o.clearAutoPlay(),o.timer=setTimeout((function(){o.increment()}),o.props.interval))})),O(g(o),"clearAutoPlay",(function(){o.timer&&clearTimeout(o.timer)})),O(g(o),"resetAutoPlay",(function(){o.clearAutoPlay(),o.autoPlay()})),O(g(o),"stopOnHover",(function(){o.setState({isMouseEntered:!0},o.clearAutoPlay)})),O(g(o),"startOnLeave",(function(){o.setState({isMouseEntered:!1},o.autoPlay)})),O(g(o),"isFocusWithinTheCarousel",(function(){return!(!o.carouselWrapperRef||(0,u.default)().activeElement!==o.carouselWrapperRef&&!o.carouselWrapperRef.contains((0,u.default)().activeElement))})),O(g(o),"navigateWithKeyboard",(function(e){if(o.isFocusWithinTheCarousel()){var t="horizontal"===o.props.axis,n=t?37:38;(t?39:40)===e.keyCode?o.increment():n===e.keyCode&&o.decrement()}})),O(g(o),"updateSizes",(function(){if(o.state.initialized&&o.itemsRef&&0!==o.itemsRef.length){var e="horizontal"===o.props.axis,t=o.itemsRef[0];if(t){var n=e?t.clientWidth:t.clientHeight;o.setState({itemSize:n}),o.thumbsRef&&o.thumbsRef.updateSizes()}}})),O(g(o),"setMountState",(function(){o.setState({hasMount:!0}),o.updateSizes()})),O(g(o),"handleClickItem",(function(e,t){0!==r.Children.count(o.props.children)&&(o.state.cancelClick?o.setState({cancelClick:!1}):(o.props.onClickItem(e,t),e!==o.state.selectedItem&&o.setState({selectedItem:e})))})),O(g(o),"handleOnChange",(function(e,t){r.Children.count(o.props.children)<=1||o.props.onChange(e,t)})),O(g(o),"handleClickThumb",(function(e,t){o.props.onClickThumb(e,t),o.moveTo(e)})),O(g(o),"onSwipeStart",(function(e){o.setState({swiping:!0}),o.props.onSwipeStart(e),o.clearAutoPlay()})),O(g(o),"onSwipeEnd",(function(e){o.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),o.props.onSwipeEnd(e),o.autoPlay()})),O(g(o),"onSwipeMove",(function(e,t){o.props.onSwipeMove(t);var n="horizontal"===o.props.axis,a=r.Children.count(o.props.children),i=o.getPosition(o.state.selectedItem),c=o.props.infiniteLoop?o.getPosition(a-1)-100:o.getPosition(a-1),s=n?e.x:e.y,u=s;0===i&&s>0&&(u=0),i===c&&s<0&&(u=0);var l=i+100/(o.state.itemSize/u),p=Math.abs(s)>o.props.swipeScrollTolerance;return o.props.infiniteLoop&&p&&(0===o.state.selectedItem&&l>-100?l-=100*a:o.state.selectedItem===a-1&&l<100*-a&&(l+=100*a)),(!o.props.preventMovementUntilSwipeScrollTolerance||p||o.state.swipeMovementStarted)&&(o.state.swipeMovementStarted||o.setState({swipeMovementStarted:!0}),o.setPosition(l)),p&&!o.state.cancelClick&&o.setState({cancelClick:!0}),p})),O(g(o),"setPosition",(function(e,t){var n=a.default.findDOMNode(o.listRef);n instanceof HTMLElement&&(["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(t){n.style[t]=(0,c.default)(e,"%",o.props.axis)})),t&&n.offsetLeft)})),O(g(o),"resetPosition",(function(){var e=o.getPosition(o.state.selectedItem);o.setPosition(e)})),O(g(o),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.moveTo(o.state.selectedItem-("number"==typeof e?e:1),t)})),O(g(o),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.moveTo(o.state.selectedItem+("number"==typeof e?e:1),t)})),O(g(o),"moveTo",(function(e,t){if("number"==typeof e){var n=r.Children.count(o.props.children)-1,a=o.props.infiniteLoop&&!t&&(e<0||e>n),i=e;e<0&&(e=o.props.infiniteLoop?n:0),e>n&&(e=o.props.infiniteLoop?0:n),a?o.setState({swiping:!0},(function(){i<0?o.props.centerMode&&o.props.centerSlidePercentage&&"horizontal"===o.props.axis?o.setPosition(-(n+2)*o.props.centerSlidePercentage-(100-o.props.centerSlidePercentage)/2,!0):o.setPosition(100*-(n+2),!0):i>n&&o.setPosition(0,!0),o.selectItem({selectedItem:e,swiping:!1})})):o.selectItem({selectedItem:e}),o.state.autoPlay&&!1===o.state.isMouseEntered&&o.resetAutoPlay()}})),O(g(o),"onClickNext",(function(){o.increment(1,!1)})),O(g(o),"onClickPrev",(function(){o.decrement(1,!1)})),O(g(o),"onSwipeForward",(function(){o.increment(1,!0),o.props.emulateTouch&&o.setState({cancelClick:!0})})),O(g(o),"onSwipeBackwards",(function(){o.decrement(1,!0),o.props.emulateTouch&&o.setState({cancelClick:!0})})),O(g(o),"changeItem",(function(e){return function(t){(function(e){return!!e&&e.hasOwnProperty("key")})(t)&&"Enter"!==t.key||o.moveTo(e)}})),O(g(o),"selectItem",(function(e,t){o.setState(e,t),o.handleOnChange(e.selectedItem,r.Children.toArray(o.props.children)[e.selectedItem])})),O(g(o),"getInitialImage",(function(){var e=o.props.selectedItem,t=o.itemsRef&&o.itemsRef[e];return(t&&t.getElementsByTagName("img")||[])[0]})),O(g(o),"getVariableItemHeight",(function(e){var t=o.itemsRef&&o.itemsRef[e];if(o.state.hasMount&&t&&t.children.length){var n=t.children[0].getElementsByTagName("img")||[];if(n.length>0){var r=n[0];r.complete||r.addEventListener("load",(function e(){o.forceUpdate(),r.removeEventListener("load",e)}))}var a=(n[0]||t.children[0]).clientHeight;return a>0?a:null}return null})),o.state={initialized:!1,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1},o}return function(e,t,n){t&&b(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.resetPosition(),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,u.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,u.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"getPosition",value:function(e){if(this.props.infiniteLoop&&++e,0===e)return 0;var t=r.Children.count(this.props.children);if(this.props.centerMode&&"horizontal"===this.props.axis){var n=-e*this.props.centerSlidePercentage,a=t-1;return e&&(e!==a||this.props.infiniteLoop)?n+=(100-this.props.centerSlidePercentage)/2:e===a&&(n+=100-this.props.centerSlidePercentage),n}return 100*-e}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,a){var o={ref:function(e){return t.setItemsRef(e,a)},key:"itemKey"+a+(e?"clone":""),className:i.default.ITEM(!0,a===t.state.selectedItem),onClick:t.handleClickItem.bind(t,a,n)},c={};return t.props.centerMode&&"horizontal"===t.props.axis&&(c.style={minWidth:t.props.centerSlidePercentage+"%"}),r.default.createElement("li",m({},o,c),t.props.renderItem(n,{isSelected:a===t.state.selectedItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,a=t.labels,o=t.renderIndicator,i=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(i,(function(t,n){return o&&o(e.changeItem(n),n===e.state.selectedItem,n,a.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,a=this.props.showArrows&&r.Children.count(this.props.children)>1,s=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,l={},p=this.getPosition(this.state.selectedItem),f=(0,c.default)(p,"%",this.props.axis),h=this.props.transitionTime+"ms";l={WebkitTransform:f,MozTransform:f,MsTransform:f,OTransform:f,transform:f,msTransform:f},this.state.swiping||(l=d(d({},l),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h}));var b=this.renderItems(!0),y=b.shift(),g=b.pop(),v={className:i.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,tolerance:this.props.swipeScrollTolerance},O={};if(n){if(v.onSwipeLeft=this.onSwipeForward,v.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var E=this.getVariableItemHeight(this.state.selectedItem);v.style.height=E||"auto",O.height=E||"auto"}}else v.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,v.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,v.style.height=this.state.itemSize,O.height=this.state.itemSize;return r.default.createElement("div",{className:i.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:0},r.default.createElement("div",{className:i.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,s,this.props.labels.leftArrow),r.default.createElement("div",{className:i.default.WRAPPER(!0,this.props.axis),style:O},t?r.default.createElement(o.default,m({tagName:"ul",innerRef:this.setListRef},v,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&g,this.renderItems(),this.props.infiniteLoop&&y):r.default.createElement("ul",{className:i.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:l},this.props.infiniteLoop&&g,this.renderItems(),this.props.infiniteLoop&&y)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}();t.default=w,O(w,"displayName","Carousel"),O(w,"defaultProps",{axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:E,onClickThumb:E,onChange:E,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:i.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:i.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,a){return r.default.createElement("li",{className:i.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(a," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:function(e,t){return"".concat(e," of ").concat(t)},selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%"})},1447:function(e,t,n){var r,a,o;a=[t,n(0),n(5)],void 0===(o="function"==typeof(r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=u;var r=o(t),a=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=!1;function u(e){s=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){u(!0)}}))}catch(e){}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return s?e:e.capture}function p(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var f=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o._handleSwipeStart=o._handleSwipeStart.bind(o),o._handleSwipeMove=o._handleSwipeMove.bind(o),o._handleSwipeEnd=o._handleSwipeEnd.bind(o),o._onMouseDown=o._onMouseDown.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o._onMouseUp=o._onMouseUp.bind(o),o._setSwiperRef=o._setSwiperRef.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,l({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,l({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=p(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=p(e),n=t.x,r=t.y,a=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:a,y:o},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:a,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,a=e.children,o=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,i({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},o),a)}}]),t}(t.Component);f.displayName="ReactSwipe",f.propTypes={tagName:a.default.string,className:a.default.string,style:a.default.object,children:a.default.node,allowMouseEvents:a.default.bool,onSwipeUp:a.default.func,onSwipeDown:a.default.func,onSwipeLeft:a.default.func,onSwipeRight:a.default.func,onSwipeStart:a.default.func,onSwipeMove:a.default.func,onSwipeEnd:a.default.func,innerRef:a.default.func,tolerance:a.default.number.isRequired},f.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=f})?r.apply(t,a):r)||(e.exports=o)},1448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0,t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+(parseInt(n.marginLeft)+parseInt(n.marginRight))}},1449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){return document}},1461:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(36),i=n(52),c=n(7),s=n(106),u=n.n(s),l=n(1),p=n(1018),f=n(1050),h=n(3),d=n(1075),m=n(944),b=new Map,y={sources:[l.i,l.Rb,l.Bc],criteria:[{main:l.Y,time:l.K.EXPLORE.THIS_MONTH}]};function g(e){var t=config("BEHANCE_ENDPOINT").basePath,n=void 0===b.get(e.main).behance?b.get(l.Y).behance:b.get(e.main).behance;return"".concat(t).concat(config("BEHANCE_ENDPOINT").searchApi,"?q=").concat(n,"&sort=featured_date&page=").concat(e.pageNumber)}function v(e,t){var n=config("KULER_ENDPOINT"),r=n.api,a=n.basePath,o=n.themePath,i=t().user,c=b.get(e.main).kuler,s=void 0===e.time?"month":b.get(e.time),u=(parseInt(e.pageNumber,10)-1)*l.Vb,p="".concat(a).concat(r).concat(o);switch(c){case l.Sb.MOST_POPULAR:case l.Sb.MOST_USED:case l.Sb.RANDOM:case l.Sb.ALL_THEMES:p="".concat(p,"?filter=public&sort=").concat(c,"&time=").concat(s);break;case l.Sb.MY_PUBLISHED:case l.Sb.MY_APPRECIATIONS:p="".concat(p,"?filter=").concat(c)}return i.isLoggedIn&&(p="".concat(p,"&metadata=all")),"".concat(p,"&startIndex=").concat(u,"&maxNumber=").concat(l.Vb)}function O(e){var t=config("STOCK_ENDPOINT").api,n=void 0===b.get(e.main).stock?b.get(l.Y).stock:b.get(e.main).stock,r=(parseInt(e.pageNumber,10)-1)*l.Jc;return"".concat(t,"?locale=en-US&search_parameters%5Bwords%5D=").concat(n,"&search_parameters%5Bfilters%5D%5Bcontent_type%3Aphoto%5D=1&search_parameters%5Bfilters%5D%5Bpremium%5D=false&search_parameters%5Blimit%5D=").concat(l.Jc,"&search_parameters%5Boffset%5D=").concat(r)}b.set(l.K.EXPLORE.MOST_POPULAR,{behance:"landscape",kuler:l.Sb.MOST_POPULAR,stock:"colorful"}),b.set(l.K.EXPLORE.ALL,{kuler:l.Sb.ALL_THEMES}),b.set(l.K.EXPLORE.MOST_USED,{kuler:l.Sb.MOST_USED}),b.set(l.K.EXPLORE.RANDOM,{kuler:l.Sb.RANDOM}),b.set(l.K.EXPLORE.MY_PUBLISHED,{kuler:l.Sb.MY_PUBLISHED}),b.set(l.K.EXPLORE.MY_APPRECIATIONS,{kuler:l.Sb.MY_APPRECIATIONS}),b.set(l.K.EXPLORE.ALL_TIME,l.Sb.ALL_TIME),b.set(l.K.EXPLORE.THIS_MONTH,l.Sb.THIS_MONTH),b.set(l.K.EXPLORE.THIS_WEEK,l.Sb.THIS_WEEK);var E=function(e){return function(t){return t(m.a(l.mb,e))}},w=function(e){return function(t,n){var r=n().explore.criteria;t(m.c(l.mb,e)),e.includes(l.Rb)||r[0].main===l.Y||r[0].time===l.K.EXPLORE.THIS_MONTH||t(m.a(l.mb,[{main:l.Y,time:l.K.EXPLORE.THIS_MONTH,pageNumber:1}]))}},S=function(){return function(e,t){var n=t().explore,r=n.criteria,a=n.srcFilter,o={};r.forEach((function(n){var r=n.pageNumber;Object(h.s)(n.main)&&(n.main=l.Y),n.main===l.Y&&n.time===l.K.EXPLORE.THIS_MONTH&&1===r?(o.curatedDataUrl=config("CURATED_ENDPOINT"),e(m.j(JSON.stringify(n),o))):(n.main===l.Y&&n.time===l.K.EXPLORE.THIS_MONTH&&(n.pageNumber=r-1),o.kulerUrl=v(n,t),o.stockUrl=O(n),o.behanceUrl=g(n),n.pageNumber=r,e(m.o(JSON.stringify(n),a,o)))}))}},j=function(){return function(e,t){var n=t().explore,r=n.criteria,a=n.srcFilter,o={};return r.forEach((function(e){var n=e.pageNumber;e.main===l.Y&&e.time===l.K.EXPLORE.THIS_MONTH?e.pageNumber=n-1+1:e.pageNumber=n+1,o.kulerUrl=v(e,t),o.stockUrl=O(e),o.behanceUrl=g(e),e.pageNumber=n})),e(m.d(o,a))}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return function(t){return t(m.p(l.mb,e))}},C=function(e,t){return function(n){return n(m.u(t,e))}},P=function(e,t){return function(n){return n(m.h(t,e))}},T=function(e,t){return function(n){return n(m.r(t,e))}},N=n(103),I=n(1017),R=n(23),_=n(991),M=n(812),A=n.n(M);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).ingestWorkflow=[l.mb],r.showNextPageLoader=!1;var a=u.a.parse(e.history.location.search.slice(1)),o={workflow:Object(h.e)(r.ingestWorkflow[0]),subcategory:l.Hb.NAVIGATION,value:l.Hb.DEFAULT};return r.page=a.page?parseInt(a.page,10):1,r.haveLibrariesBeenFetched=!1,e.changeSourceFilter([l.i,l.Rb,l.Bc]),e.changeCriteria([{main:l.Y,time:l.K.EXPLORE.THIS_MONTH,pageNumber:r.page}]),r.noDataReturnedForCriteria=!1,Object(R.a)(l.Fb.DEFAULT,{event:o},r.ingestWorkflow),r.sourceChanged=!1,r}return function(e,t,n){t&&B(e.prototype,t)}(n,[{key:"componentWillReceiveProps",value:function(e){var t=u.a.parse(this.props.history.location.search.slice(1)),n=t.page?parseInt(t.page,10):1;if(this.page!==n){this.page=n;var r={main:JSON.parse(e.criteria).main,time:JSON.parse(e.criteria).time,pageNumber:n};this.props.changeCriteria([r])}this.props.criteria!==e.criteria&&(this.page=n,this.props.fetchPage()),this.showPagination=0!==e.feed[l.Oc]}},{key:"getDefaultSourceSelected",value:function(){var e=this.props.sourcesSelected;return 3===e.length?l.ib.ALL_SOURCES:l.zc[e[0]]}},{key:"render",value:function(){var e=this.getDefaultSourceSelected(),t=this.ingestWorkflow,n=this.props,r=n.changeCriteria,o=n.changeSourceFilter,i=n.criteria,c=n.deleteTheme,s=n.feed,u=n.fetchPage,m=n.history,b=n.isUserLoggedIn,y=n.loggedInUser,g=n.notification,v=n.reportAbuse,O=n.saveThemeToLibrary,E=n.updateThemeLike,w=n.userId,S=Object(h.s)(i)?"":JSON.parse(i).main,j=JSON.stringify({"@context":"https://schema.org","@type":"WebSite",url:"https://color.adobe.com/explore",potentialAction:{"@type":"SearchAction",target:"https://color.adobe.com/search?q={search_term_string}&t=term","query-input":"required name=search_term_string"}});return this.props.feedFetched&&0===this.props.feed[l.Oc]?this.noDataReturnedForCriteria=!0:this.noDataReturnedForCriteria=!1,a.a.createElement("div",{className:A.a.filtersAndFeedContainer},a.a.createElement(_.Helmet,null,a.a.createElement("title",null,this.props.intl.formatMessage({id:"app.explore.title"})),a.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.explore.description"})}),a.a.createElement("link",{rel:"canonical",href:"https://color.adobe.com/explore"}),a.a.createElement("script",{type:"application/ld+json"},j)),a.a.createElement("div",{className:A.a.filtersContainer},a.a.createElement(d.a,{disabled:!this.showPagination,sourceList:l.yc,locale:this.props.locale,showColorFilters:!0,pageName:Object(h.e)(l.mb.toLowerCase()),changeCriteria:r,changeSourceFilter:o,criteria:i,defaultSourceSelected:e,fetchPage:u,history:m,ingestWorkflow:t,isUserLoggedIn:b})),a.a.createElement("div",{className:A.a.gridContainer},a.a.createElement(f.a,{currentPage:this.page,renderEmptyPage:this.noDataReturnedForCriteria,emptyStatePageName:S,pageName:l.mb,criteria:i,deleteTheme:c,feed:s,history:m,ingestWorkflow:t,isUserLoggedIn:b,loggedInUser:y,notification:g,reportAbuse:v,saveThemeToLibrary:O,updateThemeLike:E,userId:w})),a.a.createElement(p.a,{showPagination:this.showPagination,sources:this.props.sourcesSelected,checkForAvailablePages:this.props.checkForAvailablePages,currentPage:this.page,history:this.props.history,locale:this.props.locale}))}}]),n}(),W=Object(o.b)((function(e){var t,n=e.explore,r=e.criteriaDataCollection,a=e.user,o=n.srcFilter,i=n.criteria,c={},s={0:[],1:[],2:[],TOTAL_COUNT:0};return o.forEach((function(e){c[e]=!1})),i.forEach((function(e){var t;if(t=r[JSON.stringify(e)],!Object(h.s)(t)&&o){var n=t,a=n.kuler,i=n.behance,s=n.stock;o.includes(l.i)&&Object(h.b)(i.fetchStatus)&&(c[l.i]=!0),o.includes(l.Rb)&&Object(h.b)(a.fetchStatus)&&(c[l.Rb]=!0),o.includes(l.Bc)&&Object(h.b)(s.fetchStatus)&&(c[l.Bc]=!0)}})),(t=0!==o.length&&!o.some((function(e){return!1===c[e]})))&&i.forEach((function(e){var t;if(t=r[JSON.stringify(e)],!Object(h.s)(t)&&o){var n=t,a=n.kuler,i=n.behance,c=n.stock;o.includes(l.i)&&(s[0]=[].concat(L(s[0]),L(i.themeList))),o.includes(l.Rb)&&(s[1]=[].concat(L(s[1]),L(a.themeList))),o.includes(l.Bc)&&(s[2]=[].concat(L(s[2]),L(c.themeList)))}})),[0,1,2].forEach((function(e){s[l.Oc]+=s[e].length})),{criteria:JSON.stringify(i[0]),feed:s,feedFetched:t,userId:a.guid,isAllowedToPublish:a.isAllowedToPublish,imsReady:a.IMSReady,isUserLoggedIn:a.isLoggedIn,locale:a.locale,sourcesSelected:o,loggedInUser:{name:a.isLoggedIn?"".concat(a.firstName," ").concat(a.lastName):"",email:a.email}}}),(function(e){return Object(i.b)({changeCriteria:E,changeSourceFilter:w,checkForAvailablePages:j,deleteTheme:P,fetchPage:S,initPage:k,notification:N.a,reportAbuse:I.a,saveThemeToLibrary:T,updateThemeLike:C},e)}))(H),G=Object(c.d)(W),z=n(1445),V=n(24),K=[{redirect_url:"app.explore.banner.link2",img_src:V.c,alt:"app.images.banner2.alt"},{redirect_url:"app.explore.banner.link3",img_src:V.d,alt:"app.images.banner3.alt"},{redirect_url:"app.explore.banner.link4",img_src:V.e,alt:"app.images.banner4.alt"},{redirect_url:"app.explore.banner.link5",img_src:V.f,alt:"app.images.banner5.alt"}],X=n(913),J=n.n(X),q=(n(914),Object(c.d)((function(e){return a.a.createElement(z.Carousel,{className:J.a.hero,infiniteLoop:!0,showThumbs:!1,autoPlay:!0,showStatus:!1,showArrows:!1},K.map((function(t,n){return a.a.createElement("a",{key:n,href:e.intl.formatMessage({id:t.redirect_url}),target:"_blank",onClick:function(){return function(e,t){var n={workflow:Object(h.e)(t[0]),subcategory:l.Hb.NAVIGATION,value:e};Object(R.a)(l.Fb.BANNER,{event:n},t)}(e.intl.formatMessage({id:t.redirect_url}),e.ingestWorkflow)}},a.a.createElement("img",{src:t.img_src,style:{backgroundSize:"center"},alt:e.intl.formatMessage({id:t.alt})}))})))}))),Y=n(1051),Q=n(963),Z=n(961);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var a=re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e),Object(h.y)("explore"),r}return function(e,t,n){t&&te(e.prototype,t)}(n,[{key:"componentWillUnmount",value:function(){Q.a.clearQueue(),this.props.isLoggedIn&&this.props.clearLibraries()}},{key:"render",value:function(){var e=this.props.imsReady;return a.a.createElement("div",{className:A.a.exploreWithBanner,"data-scroll-container":!0},e&&a.a.createElement(Y.a,ee({ingestWorkflow:[l.mb]},this.props)),a.a.createElement(q,{ingestWorkflow:[l.mb]}),e&&a.a.createElement(G,this.props))}}]),n}(),oe=Object(o.b)((function(e){var t=e.user;return{imsReady:t.IMSReady,isLoggedIn:t.isLoggedIn,locale:t.locale}}),(function(e){return Object(i.b)({clearLibraries:Z.b},e)}))(ae);t.default=oe},939:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return O})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return w})),n.d(t,"d",(function(){return S}));var r=n(2),a=n(959),o=n(960),i=n(76),c=n(1),s=n(30),u=n(3);function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.save,n=e.create,r={};return r.name=t.themeName?t.themeName:c.X,r.tags=t.tagsToSave,r.swatches=n.order.map((function(e){return Object(s.o)(n.swatches[e])})),r.harmony={baseSwatchIndex:n.order.indexOf(n.baseColorIndex),mood:n.colorMood,rule:n.harmonyRule},n.workflow===c.J.ACCESSIBILITY&&n.isAccessible&&(r.accessibilityData={colorBlindSafe:n.isAccessible}),r.colorMode=n.colorMode,r}function h(e){var t=e.save,n=e.colorContrast,r={};return r.name=t.themeName,r.tags=t.tagsToSave,r.colorMode=c.V,r.swatches=[Object(s.o)(n.foregroundSwatch),Object(s.o)(n.backgroundSwatch)],r.harmony={baseSwatchIndex:0,mood:"CUSTOM",rule:"CUSTOM"},r.accessibilityData={wcagLevel:Object(u.o)(n.contrastRatio)},r}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.b,payload:e}}function m(){return{type:r.i}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.Z,payload:e}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.V,payload:e}}function g(e){return function(t,n){var a=config("AUTOTAG_ENDPOINT").basePath,o=config("AUTOTAG_ENDPOINT").api,s=n(),p=s.create,f=s.colorContrast,h=[],d=new URLSearchParams,m=function(e){var t=e.user,n={"Content-Type":"application/json"};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}(n()),b=[];e===c.J.COLOR_CONTRAST?(b.push(f.foregroundSwatch),b.push(f.foregroundSwatch),b.push(f.backgroundSwatch),b.push(f.backgroundSwatch),b.push(f.backgroundSwatch)):b=p.swatches,b.forEach((function(e){return h.push([e.rgb.r/c.z.MAX.RGB.R,e.rgb.g/c.z.MAX.RGB.G,e.rgb.b/c.z.MAX.RGB.B])}));var y="".concat(a).concat(o);return d.append("q",JSON.stringify({values:h.concat.apply([],h)})),y="".concat(a).concat(o,"?").concat(d.toString()),Object(i.c)(y,m).then((function(n){var a=n.tags.map((function(e){return Object(u.d)(e)}));e===c.J.ACCESSIBILITY?a=[].concat(l(c.u),l(a)).slice(0,5):e===c.J.COLOR_CONTRAST&&(a=[].concat(l(c.w),l(a)).slice(0,5)),t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:r.bb,payload:e}}(a))}))}}function v(e,t){switch(e){case c.g.GRADIENT:return function(n,r){var o=r().save,i=function(e){var t=e.save,n=e.create,r={};return r.name=t.themeName?t.themeName:c.U,r.interpolation=c.ab.interpolation,r.angle=c.ab.angle,r.aspectRatio=c.ab.aspectRatio,r.type=c.ab.type,r.stops=[],n.order.forEach((function(e){var t=n.swatches[e],a=[{mode:c.V,value:{r:t.rgb.r,g:t.rgb.g,b:t.rgb.b}}];r.stops.push({color:a,offset:t.offset,midpoint:t.midpoint})})),r}(r());return n(Object(a.f)("",{gradient:i},e,t)).then((function(){return o.library.name})).catch((function(e){throw console.log(e),e}))};default:return function(n,r){var i=r(),s=i.save,u=i.user,l=t===c.J.COLOR_CONTRAST?h(r()):f(r()),p=n(Object(a.f)("",{theme:l},e,t));return s.publishToKuler&&u.isAllowedToPublish?(l.libraryid=s.library.id,p.then((function(e){var t=e.response,r={};return r.id=t.elements[0].id,n(Object(o.f)(l,r)),s.library.name})).catch((function(e){throw console.error(e),e}))):p.then((function(){return s.library.name})).catch((function(e){throw console.error(e),e}))}}}function O(e,t){return function(n,r){var i=r().save,s=t===c.J.COLOR_CONTRAST?h(r()):f(r());s.cclibraryThemeUpdateLibId=i.cclibraryThemeUpdateLibId,s.cclibraryThemeUpdateAssetId=i.cclibraryThemeUpdateAssetId;var u=n(Object(a.h)(e,s));return i.publishToKuler?(s.libraryid=i.library.id,u.then((function(e){var t=e.response;return n(Object(o.f)(s,t)),i.library.name})).catch((function(e){return console.error(e)}))):u.then((function(){return i.library.name})).catch((function(e){return console.error(e)}))}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.eb,payload:e}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:r.ob,payload:e}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:r.B,payload:e}}},940:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return b}));var r=n(2);function a(e,t,n){return{type:r.h,payload:n,srcName:t,criteria:e}}function o(e,t,n){return{type:r.j,payload:n,srcName:t,criteria:e}}function i(e,t,n){return{type:r.lb,payload:n,srcName:t,criteria:e}}function c(e,t,n){return{type:r.jb,payload:n,srcName:t,criteria:e}}function s(e,t,n){return{type:r.kb,payload:n,srcName:t,criteria:e}}function u(e,t,n){return{type:r.z,payload:n,srcName:t,criteria:e}}function l(e,t,n){return{type:r.a,payload:n,srcName:t,criteria:e}}function p(e,t,n){return{type:r.fb,criteria:e,payload:n,srcName:t}}function f(e,t,n){return{type:r.qb,criteria:e,payload:n,srcName:t}}function h(e,t,n){return function(a){return a({type:r.sb,srcName:t,criteria:e,payload:n})}}function d(e,t,n){return{type:r.tb,payload:n,srcName:t,criteria:e}}function m(e,t,n){return{type:r.rb,payload:n,srcName:t,criteria:e}}function b(e,t,n){return{type:r.pb,payload:n,srcName:t,criteria:e}}},941:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(1),c=n(23),s=n(772),u=n.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?b(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onDragStart=r.onDragStart.bind(b(r)),r.onClick=r.onClick.bind(b(r)),r.onDrop=r.onDrop.bind(b(r)),r}return function(e,t,n){t&&d(e.prototype,t)}(n,[{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onClick",value:function(){this.props.active||this.props.setActiveSwatch(this.props.id)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("draggedSwatchId",this.props.id),e.dataTransfer.dropEffect="copy",e.dataTransfer.effectAllowed="move";var t={workflow:Object(o.e)(this.props.ingestWorkflow[0]),subcategory:i.Hb.SWATCH};Object(c.a)(i.Fb.SWATCH_DRAG,{event:t},this.props.ingestWorkflow)}},{key:"onDrop",value:function(e){e.preventDefault();var t=parseInt(e.dataTransfer.getData("draggedSwatchId"),10),n=this.props.id;Object(o.q)()?this.props.changeSwatchesOrder():Object(o.s)(t)||isNaN(t)||Object(o.s)(n)||t===n||this.props.changeSwatchesOrder({draggedSwatchId:t,destinationSwatchId:n})}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({background:""===this.props.hex?"":"#".concat(this.props.hex)},this.props.styles);return a.a.createElement("div",p({className:[this.props.className,u.a.swatch].join(" "),style:e,onClick:this.props.onClick},this.props.draggable&&{draggable:this.props.draggable,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDrop:this.onDrop,onClick:this.onClick}),this.props.children)}}]),n}();g.defaultProps={active:!1,className:u.a.swatch,draggable:!1,ingestWorkflow:[i.I]},t.a=g},944:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"j",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"l",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"k",(function(){return S})),n.d(t,"n",(function(){return j})),n.d(t,"m",(function(){return k})),n.d(t,"i",(function(){return C})),n.d(t,"p",(function(){return P})),n.d(t,"x",(function(){return T})),n.d(t,"u",(function(){return N})),n.d(t,"t",(function(){return I})),n.d(t,"q",(function(){return R})),n.d(t,"h",(function(){return _})),n.d(t,"r",(function(){return M})),n.d(t,"g",(function(){return A})),n.d(t,"w",(function(){return D})),n.d(t,"v",(function(){return L})),n.d(t,"s",(function(){return x})),n.d(t,"e",(function(){return B}));var r=n(2),a=n(1);function o(e){return{type:r.o,criteria:e}}var i=n(960),c=n(976),s=n(977),u=n(959),l=n(940),p=n(76),f=n(3);function h(e){return e.themes=[],e.result_sets&&e.result_sets[0]&&e.result_sets[0].items&&(e.themes=e.result_sets[0].items,delete e.result_sets[0].items),e}function d(e){var t=e.user,n={"x-api-key":config("CLIENT_ID"),"x-product":config("UNIVERSAL_SEARCH_ENDPOINT").xProduct,"x-product-location":config("UNIVERSAL_SEARCH_ENDPOINT").xProductLocation};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}function m(e,t){return{type:r.c,pageName:e,payload:t}}function b(e,t){return{type:r.d,pageName:e,payload:t}}function y(e,t){return{type:r.f,pageName:e,payload:t}}function g(e,t){return function(n,r){var i=r().criteriaDataCollection;Object(f.s)(i[e])&&n(o(e)),Object(f.s)(t.curatedDataUrl)||n(function(e,t){return function(n,r){var o=r().criteriaDataCollection;if(!Object(f.s)(o[e])&&!Object(f.B)(o[e].behance.fetchStatus)||!Object(f.B)(o[e].kuler.fetchStatus)||!Object(f.B)(o[e].stock.fetchStatus))return n(Object(l.h)(e,a.i)),n(Object(l.h)(e,a.Rb)),n(Object(l.h)(e,a.Bc)),Object(p.c)(t.endPoint).then((function(t){var r=t,o={themes:[]},i={themes:[]},c={themes:[]};r&&r.files&&(i.themes=r.files.filter((function(e){return e.source===a.i})),o.themes=r.files.filter((function(e){return e.source===a.Rb})),c.themes=r.files.filter((function(e){return e.source===a.Bc})),n(Object(l.d)(e,a.i,i)),n(Object(l.d)(e,a.Rb,o)),n(Object(l.d)(e,a.Bc,c))),n(Object(l.f)(e,a.i)),n(Object(l.f)(e,a.Rb)),n(Object(l.f)(e,a.Bc))})).catch((function(t){console.log("error ".concat(t));var r=a.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),n(Object(l.g)(e,a.i,r)),n(Object(l.g)(e,a.Rb,r)),n(Object(l.g)(e,a.Bc,r))}))}}(e,{endPoint:t.curatedDataUrl}))}}function v(e,t,n){return function(r,m){var b=m().criteriaDataCollection;Object(f.s)(b[e])&&r(o(e)),t.forEach((function(t){t!==a.i||Object(f.s)(n.behanceUrl)?t!==a.Rb||Object(f.s)(n.kulerUrl)?t!==a.Bc||Object(f.s)(n.stockUrl)?t!==a.p||Object(f.s)(n.ccLibraryUrl)?t!==a.Qc||Object(f.s)(n.universalSearchUrl)||r(function(e,t){return function(n,r){return n(Object(l.h)(e,a.Qc)),Object(p.f)(t.endPoint,d(r()),t.formData).then((function(t){var r=h(t);n(Object(l.d)(e,a.Qc,r)),n(Object(l.f)(e,a.Qc))})).catch((function(t){var r=a.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),console.log("error ".concat(t)),n(Object(l.g)(e,a.Qc,r))}))}}(e,{endPoint:n.universalSearchUrl,formData:n.formData})):r(Object(u.e)(e,{endPointTheme:n.ccLibraryUrl})):r(Object(c.c)(e,{endPoint:n.stockUrl})):r(Object(i.d)(e,{endPoint:n.kulerUrl})):r(Object(s.c)(e,{endPoint:n.behanceUrl}))}))}}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,o){var u={};return t.includes(a.i)&&!Object(f.s)(e.behanceUrl)&&(u.BEHANCE=Object(s.d)(e.behanceUrl)),t.includes(a.Rb)&&!Object(f.s)(e.kulerUrl)&&(u.KULER=Object(i.e)(e.kulerUrl,o())),t.includes(a.Bc)&&!Object(f.s)(e.stockUrl)&&(u.STOCK=Object(c.d)(e.stockUrl)),t.includes(a.Qc)&&!Object(f.s)(e.universalSearchUrl)&&(u.UNIVERSAL_SEARCH=function(e,t,n){return Object(p.f)(e,d(n()),t).then((function(e){return h(e).themes.length>0})).catch((function(e){return!1}))}(e.universalSearchUrl,n.universalSearchFormData,o)),Promise.all(Object.keys(u).map((function(e){return u[e]})))}}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,u){var l=u().criteriaDataCollection;Object(f.s)(l[e])&&i(o(e)),t.forEach((function(t){t!==a.i||Object(f.s)(n.behanceUrl)?t!==a.Bc||Object(f.s)(n.stockUrl)||i(Object(c.c)(e,{endPoint:n.stockUrl})):i(Object(s.c)(e,{endPoint:n.behanceUrl},r))}))}}function w(e,t){return function(n){t.forEach((function(t){t===a.i?n(Object(s.a)(e)):t===a.Bc?n(Object(c.a)(e)):t===a.Rb&&n(Object(i.a)(e))}))}}function S(e,t){return function(n,r){var a=r().criteriaDataCollection;Object(f.s)(a[e])&&n(o(e)),n(Object(s.b)(e,{endPoint:t.behanceUrl})),n(Object(c.b)(e,{}))}}function j(e,t){return function(n,r){var a=r().criteriaDataCollection;Object(f.s)(t.kulerUrl)||(Object(f.s)(a[e])&&n(o(e)),n(Object(i.c)(e,{endPoint:t.kulerUrl})))}}function k(e,t,n){return function(r,a){var i=a().criteriaDataCollection;return Object(f.s)(i[e])&&r(o(e)),r(Object(u.d)(e,{firstEndPoint:t,secondEndPoint:n}))}}function C(e,t,n){return function(r,a){var i=a().criteriaDataCollection;return Object(f.s)(i[e])&&r(o(e)),r(Object(u.c)(e,{url:t,signal:n}))}}function P(e,t){return{type:r.p,pageName:e,payload:t}}function T(e,t){return{type:r.ub,pageName:e,payload:t}}function N(e,t){return function(n){if(t.source===a.Rb)return n(Object(i.h)(e,t))}}function I(e,t,n){return function(r){switch(n){case a.g.GRADIENT:return r(Object(u.g)(t));default:return r(Object(u.h)(e,t))}}}function R(e,t){return function(n){return n(Object(i.f)(e,t))}}function _(e,t){return function(n){switch(t.source){case a.p:return n(Object(u.b)(e,t));case a.Rb:return n(Object(i.b)(e,t))}}}function M(e,t){return function(n){return n(Object(u.f)(e,t,a.g.THEME))}}function A(e){return function(t){return t(Object(u.a)(e))}}function D(e,t,n){return function(r){switch(t){case a.p:r(Object(u.j)(e,n))}}}function L(e,t,n){return function(r){switch(t){case a.p:r(Object(u.i)(e,n))}}}function x(e){return function(t){return t(Object(i.g)(e))}}function B(e){return function(t){return t(o(e))}}},945:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return E}));var r=n(950),a=n(1),o=n(3),i=n(23),c=n(126),s=n(127),u=function(e,t,n){var r=t;e.setUint16(r,n.length+1),r+=2;for(var a=0;a<n.length;++a){var o=n.charCodeAt(a);e.setInt16(r,o),r+=2}return e.setInt16(r,0),r+2},l=function(e){for(var t=e.name,n=e.swatches,r=e.colorMode,a=function(e,t,n){var r=12,a=3;"cmyk"===n.toLowerCase()&&(a=4);var o=4;t.forEach((function(e){Object(s.a)(e)&&(o+=2*(s.d.length+e.pantone.length))}));var i=4+4*a+2+o;return r+=6,r+=4+2*e.length,(r+=(6+i)*t.length)+6}(t,n,r),o=new ArrayBuffer(a),i=new DataView(o),c=0,l=n.length,p=0;p<"ASEF".length;++p)i.setInt8(c,"ASEF".charCodeAt(p)),c++;i.setInt32(c,65536),c+=4,l+=2,i.setUint32(c,l),c+=4,i.setUint16(c,parseInt("0xC001",16)),c+=2,i.setInt32(c,0);var f=c+=4;c=u(i,c,t),i.setInt32(f-4,c-f);for(var h=0;h<n.length;h++){var d="RGB ",m=3;i.setUint16(c,1),c+=2,i.setInt32(c,0);var b=c+=4,y=n[h],g=new Array(4);if(Object(s.a)(y)){var v=y.pantone.substr(0,8)===s.d?y.pantone:s.d+y.pantone;c=u(i,c,v)}else c=u(i,c,"");switch(g[0]=g[1]=g[2]=g[3]=0,r.toLowerCase()){case"hsv":g[0]=y.rgb.r,g[1]=y.rgb.g,g[2]=y.rgb.b;break;case"rgb":d="RGB ",g[0]=y.rgb.r,g[1]=y.rgb.g,g[2]=y.rgb.b;break;case"cmyk":d="CMYK",g[0]=y.cmyk.c,g[1]=y.cmyk.m,g[2]=y.cmyk.y,g[3]=y.cmyk.k,m=4;break;case"lab":d="LAB ",g[0]=y.lab.l,g[1]=255*y.lab.a-128,g[2]=255*y.lab.b-128}for(var O=0;O<d.length;++O)i.setInt8(c,d.charCodeAt(O)),c++;for(var E=0;E<m;++E)i.setFloat32(c,g[E]),c+=4;Object(s.a)(y)?y.isSpotColor?i.setUint16(c,1):i.setUint16(c,0):i.setUint16(c,2),c+=2,i.setInt32(b-4,c-b)}return i.setUint16(c,parseInt("0xC002",16)),c+=2,i.setInt32(c,0),c+=4,o},p=n(24),f=n(30),h=n(53),d=n.n(h),m=function(e){var t={workflow:Object(o.e)(e[0]),subcategory:a.Hb.NAVIGATION};Object(i.a)(a.Fb.USER_SIGN_IN,{event:t},e),window.adobeIMS.signIn()},b=function(e,t,n){if("msSaveBlob"in navigator)void 0===n?navigator.msSaveBlob(e,t):navigator.msSaveBlob(Object(o.i)(e),t,n);else{var r=window.URL||window.webkitURL||window,a=document.createElement("a"),i=new MouseEvent("click",{cancelable:!0});a.href=void 0===n?r.createObjectURL(e):e,a.download=t,a.dispatchEvent(i),r.revokeObjectURL(a.href)}},y=function(e,t,n,r){if(t){var u=l(n),p=new Uint8Array(u),f=new Blob([p],{type:"application/vnd.adobe.color-swatch"}),h={workflow:Object(o.e)(e[0]),subcategory:Object(o.s)(r)?e[0]:r},d=Object(s.b)(n.swatches)?"AdobeColorPantone ".concat(n.name,".ase"):"AdobeColor ".concat(n.name,".ase"),y={mimetype:"",extension:"ase"};y.mimetype=Object(s.b)(n.swatches)?a.Hb.PANTONE:n.colorMode,y=Object.assign(y,Object(c.a)(n)),Object(i.a)(a.Fb.DOWNLOAD,{event:h,content:y},e),b(f,d)}else window.adobeIMS&&m(e)},g=function(e,t,n,r){t?Object(s.c)(n.swatches).then((function(t){var s=t.toDataURL("image/jpeg",1),u={workflow:Object(o.e)(e[0]),subcategory:Object(o.s)(r)?e[0]:r},l={mimetype:a.Hb.PANTONE,extension:"jpeg"};l=Object.assign(l,Object(c.a)(n)),Object(i.a)(a.Fb.DOWNLOAD_AS_JPEG,{event:u,content:l},e),b(s,"AdobeColorPantone ".concat(n.name,".jpeg"),"image/jpeg")})):window.adobeIMS&&m(e)},v=function(e,t,n,s,u){if(t){var l=Object(r.c)(n.swatches,s),p=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),f="AdobeColorGradient ".concat(n.name,".svg"),h={workflow:Object(o.e)(e[0]),subcategory:Object(o.s)(u)?e[0]:u},d={mimetype:n.colorMode,extension:"svg"};(d=Object.assign(d,Object(c.a)(n))).size="".concat(s.width," x ").concat(s.height),Object(i.a)(a.Fb.DOWNLOAD_AS_SVG,{event:h,content:d},e),b(p,f)}else window.adobeIMS&&m(e)},O=function(e,t,n,s){if(t){var u=a.e.width,l=a.e.height,p=Object(r.a)(n.swatches),f=document.createElement("canvas"),h=f.getContext("2d"),d=h.createLinearGradient(0,0,u,0),y={workflow:Object(o.e)(e[0]),subcategory:Object(o.s)(s)?e[0]:s},g={mimetype:n.colorMode,extension:"png"};f.width=u,f.height=l,p.map((function(e,t){d.addColorStop(e.offset,"rgb(".concat(e.R,", ").concat(e.G,", ").concat(e.B,")"))})),h.fillStyle=d,h.fillRect(0,0,u,l);var v=f.toDataURL("image/png;base64");(g=Object.assign(g,Object(c.a)(n))).size="".concat(u," x ").concat(l),Object(i.a)(a.Fb.DOWNLOAD_AS_PNG,{event:y,content:g},e),b(v,"AdobeColorGradient ".concat(n.name,".png"),"image/png;base64")}else window.adobeIMS&&m(e)},E=function(e,t,n){if(t){var r=!Object(o.s)(n.accessibilityData.wcagLevel);(function(e,t,n){var r=document.createElement("canvas"),o=r.getContext("2d"),i=a.e.width,c=a.e.height,s=e.length;r.width=i,r.height=c,o.fillStyle="#ffffff",o.fillRect(0,0,i,c);for(var u,l=1,h=0;h<s;h++)o.beginPath(),u=h<i%s?Math.ceil(i/s):Math.floor(i/s),o.rect(l,1,u,c-210),o.fillStyle="#".concat(e[h].hex),o.fill(),t&&0===h&&(o.fillStyle=Object(f.s)(e[h].rgb)>a.zb.RGB?"#4b4b4b":"#ffffff",o.font="700 150px ".concat(d.a.serifFont),o.fillText("T",u/2-50,(c-210)/2)),t&&"FFFFFF"===e[h].hex&&(o.lineWidth=1.5,o.strokeStyle="#DEDEDE",o.strokeRect(l+(0===h?2:0),1,u-(1===h?4:0),c-210)),o.fillStyle="#4b4b4b",o.font="300 35px Adobe Clean",o.fillText("#".concat(e[h].hex).toUpperCase(),l+u/2-50,c-135),l+=u;if(o.fillStyle="#c2c2c2",o.font="300 35px Adobe Clean",o.fillText("color.adobe.com",30,c-40),t){o.fillStyle="FAIL"===n?"#c9252d":"#1473e6";var m="FAIL"===n?"WCAG Certification failed":"WCAG ".concat(n," certified");o.fillText(m,i-470,c-40+10)}o.lineWidth=2,o.strokeStyle="#eaeaea",function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n),e.lineTo(t+r,n+a-o),e.quadraticCurveTo(t+r,n+a,t+r-o,n+a),e.lineTo(t+o,n+a),e.quadraticCurveTo(t,n+a,t,n+a-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t,n),e.closePath(),e.stroke()}(o,0,0,i,c,20);var b=new Image;return b.src=p.b,new Promise((function(e){b.onload=function(){o.drawImage(b,i-60,c-60,38,38),e(r.toDataURL("image/jpeg"))},b.onerror=function(){e(r.toDataURL("image/jpeg"))}}))})(n.swatches,r,n.accessibilityData.wcagLevel).then((function(t){var s={workflow:Object(o.e)(e[0]),subcategory:e[0]},u=a.e.width,l=a.e.height,p={mimetype:n.assetType,extension:"jpeg"};(p=Object.assign(p,Object(c.a)(n))).size="".concat(u," x ").concat(l),Object(i.a)(a.Fb.DOWNLOAD_AS_JPEG,{event:s,content:p},e),b(t,r?"AdobeColorContrast":"AdobeColor-".concat(n.name,".jpeg"),"image/jpeg")}))}else window.adobeIMS&&m(e)}},946:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(2);function a(e){return{type:r.I,payload:e}}function o(){return{type:r.mb}}function i(){return{type:r.A}}function c(e){return{type:r.J,payload:e}}function s(e){return{type:r.K,payload:e}}},948:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n(36),o=n(3),i=n(961),c=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Object(a.d)((function(e){return e.user.IMSReady})),c=Object(a.d)((function(e){return e.user.isLoggedIn})),s=Object(a.d)((function(e){return e.libraries})),u=Object(a.d)((function(e){return e.create.isEditWorkflow})),l=Object(a.d)((function(e){return e.colorContrast.isEditWorkflow})),p=u||l,f=Object(a.d)((function(e){return e.criteriaDataCollection[JSON.stringify(s.criteria[0])]})),h=Object(a.c)(),d=!Object(o.s)(f)&&Object(o.b)(f.cclibrary.fetchStatus),m=i.g(0,t),b=[],y="";return Object(r.useEffect)((function(){n&&c&&(h(i.h()),p&&h(i.d()))}),[n,c,p]),d&&(b=f.cclibrary.themeList.slice().sort((function(e,t){return new Date(t.editedAt)-new Date(e.editedAt)})),e||(b=b.filter((function(e){return!e.readOnly}))),b=b.map((function(e){return{name:e.name,id:e.id}}))),{libraries:b,haveLibrariesBeenFetched:d,fetchData:function(e,t){if(n&&c)return h(i.c(e,t)).then((function(e){y=e._links&&e._links.next?i.f(e._links.next.href):null;var t=e.themes.map((function(e){return{name:e.name,id:e.library_urn}})),n={};return n.listData=t,n.hrefNext=y,n}))},initialLibFetchUrl:m}}},949:function(e,t,n){"use strict";var r=n(0),a=n(36),o=n(939),i=n(1),c=n(3),s=function(e){return!(Object(c.s)(e)||0===e.length)},u=function(e,t,n,r){var a="",o="";switch(e){case i.g.THEME:a=n({id:"app.savepanel.enterthemename"}),o=function(e,t){var n="";switch(e){case i.J.ACCESSIBILITY:n=i.O;break;case i.J.IMAGE:n=s(t)?"color theme_".concat(t.split(".")[0]):i.X;break;case i.J.COLOR_CONTRAST:n=i.v;break;default:n=i.X}return n}(t,r);break;case i.g.GRADIENT:a=n({id:"app.savepanel.entergradientname"}),o=s(r)?"gradient_".concat(r.split(".")[0]):i.U}return{placeholder:a,defaultAssetName:o}};t.a=function(e,t,n){var c=Object(a.c)(),s=n?i.J.COLOR_CONTRAST:Object(a.d)((function(e){return e.create.workflow})),l=Object(a.d)((function(e){return e.create.imageName})),p=u(e,s,t.formatMessage,l),f=p.placeholder,h=p.defaultAssetName,d=function(e,t){c(o.h({themeName:e,isUserEnteredName:t}))},m=Object(a.d)((function(e){return e.save.isUserEnteredName})),b=Object(a.d)((function(e){return e.save.themeName}));return Object(r.useEffect)((function(){m&&""!==b||d(h,!1)}),[s,e]),{assetName:b,updateAssetName:d,defaultAssetName:h,placeholder:f}}},950:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(1),a=n(30),o=function(e){var t=[],n={};return e.map((function(e,a){var o={offset:e.offset,R:parseInt(e.rgb.r*r.z.MAX.RGB.R,10),G:parseInt(e.rgb.g*r.z.MAX.RGB.G,10),B:parseInt(e.rgb.b*r.z.MAX.RGB.B,10)};0===a||e.midpoint!==r.Z&&t.push({offset:"".concat(n.offset+(e.offset-n.offset)*e.midpoint),R:Math.round("".concat((n.R+o.R)/2)),G:Math.round("".concat((n.G+o.G)/2)),B:Math.round("".concat((n.B+o.B)/2))}),n=o,t.push(o)})),t},i=function(e){var t="",n="",o=0;return e.forEach((function(e,i){var c="rgba(".concat(Math.round(e.rgb.r*r.z.MAX.RGB.R),", ").concat(Math.round(e.rgb.g*r.z.MAX.RGB.G),", ").concat(Math.round(e.rgb.b*r.z.MAX.RGB.B),", 1)"),s=Object(a.x)("rgb",Object(a.n)([e.rgb.r*r.z.MAX.RGB.R,e.rgb.g*r.z.MAX.RGB.G,e.rgb.b*r.z.MAX.RGB.B]));if(0===i)t=t.concat("".concat(c," ").concat(100*e.offset,"%")),n=n.concat("#".concat(s," ").concat(100*e.offset,"%")),o=100*e.offset;else{var u=(100*e.offset-o)*e.midpoint,l=o+u;t=t.concat(", ".concat(l,"%, ").concat(c," ").concat(100*e.offset,"%")),n=n.concat(", ".concat(l,"%, #").concat(s," ").concat(100*e.offset,"%")),o=100*e.offset}})),{linearGradientDataRGBA:t,linearGradientDataHEX:n}},c=function(e,t){var n=o(e),r='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(t.width,'" height="').concat(t.height,'">\n');return r+="<defs>\n",r+='<linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%"> ',n.forEach((function(e,t){r+='<stop offset="'.concat(100*e.offset,'%" style="stop-color:rgb(').concat(e.R,",").concat(e.G,",").concat(e.B,');stop-opacity:1" /> ')})),r+="</linearGradient>\n",r+="</defs>\n",r+='<rect width="'.concat(t.width,'" height="').concat(t.height,'" fill="url(#gradient)"/>\n'),r+="</svg>"}},952:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(1),c=n(773),s=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(f(r=t.call(this,e)),"setResetButtonState",(function(e){r.currentMarkerMoved&&(r.currentMarkerMoved=e,r.props.shouldResetBeDisabled(e))})),r.mouseDown=r.mouseDown.bind(f(r)),r.mouseUp=r.mouseUp.bind(f(r)),r.touchStart=r.touchStart.bind(f(r)),r.touchEnd=r.touchEnd.bind(f(r)),r.updateMarkerPosition=r.updateMarkerPosition.bind(f(r)),r.getMarkerPosition=r.getMarkerPosition.bind(f(r)),r.currentMarkerMoved=!1,r}return function(e,t,n){t&&l(e.prototype,t)}(n,[{key:"getMarkerPosition",value:function(e){var t=e;Object(o.s)(e.touches)||0===e.touches.length||(t=e.touches[0]);var n=this.marker.offsetLeft,r=this.marker.offsetTop;this.hitOffset={x:t.pageX-n,y:t.pageY-r,diameter:1,markerRadius:Object(o.l)()},this.props.setActiveSwatch(this.props.id)}},{key:"mouseDown",value:function(e){return!Object(o.r)(e)&&(this.getMarkerPosition(e),document.body.addEventListener("mousemove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("mouseup",this.mouseUp),Object(o.z)(!0),!0)}},{key:"touchStart",value:function(e){this.getMarkerPosition(e),document.body.addEventListener("touchmove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("touchend",this.touchEnd,{passive:!0}),Object(o.z)(!0)}},{key:"updateMarkerPosition",value:function(e){var t=e;return Object(o.s)(e.touches)||0===e.touches.length||(t=e.touches[0]),{x:(t.pageX-this.hitOffset.x+this.hitOffset.markerRadius)/this.hitOffset.diameter,y:(t.pageY-this.hitOffset.y+this.hitOffset.markerRadius)/this.hitOffset.diameter}}},{key:"mouseUp",value:function(e){document.body.removeEventListener("mousemove",this.updateMarkerPosition),document.body.removeEventListener("mouseup",this.mouseUp),Object(o.z)(!1)}},{key:"touchEnd",value:function(e){document.body.removeEventListener("touchmove",this.updateMarkerPosition),document.body.removeEventListener("touchend",this.touchEnd),Object(o.z)(!1)}},{key:"children",value:function(){return""}},{key:"render",value:function(){var e=this,t=this.props.id===this.props.activeSwatch?s.a.activeMarker:s.a.marker;switch(this.props.assetType){case i.g.GRADIENT:t=s.a.gradientMarker}if(!Object(o.s)(this.props.markerType))switch(this.props.markerType){case i.wb.MIDPOINT:t=s.a.gradientMidpointMarker;break;case i.wb.COLORSTOP:t=this.props.isCreate?[this.props.order[this.props.id]===this.props.activeSwatch?s.a.gradientCreateColorStopMarkerActive:s.a.gradientCreateColorStopMarker]:s.a.gradientOneUpColorStopMarker}return a.a.createElement("div",{className:t,onMouseDown:this.mouseDown,onTouchStart:this.touchStart,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,ref:function(t){e.marker=t}},this.children())}}]),n}();t.a=d},953:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return v}));var r=n(1),a=n(2),o=n(944),i=n(3);function c(e,t){var n=config("CCLIBRARIES_ENDPOINT"),a=n.melvilleBasePath,o=n.librariesApi,i=n.themesApi,c=r.Nb?"".concat(encodeURIComponent(r.Gc)):"".concat(encodeURIComponent(r.Gc),",").concat(encodeURIComponent(r.ub));return"".concat(a).concat(o,"/").concat(e.main).concat(i,"?start=").concat(t,"&limit=").concat(r.dc,"&selector=representations&type=").concat(c)}var s=function(e){return function(t){return t(o.a(r.ec,e))}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.ib.LAST_MODIFIED;return function(t){return t({type:a.e,pageName:r.ec,payload:e})}},l=function(){return function(e,t){var n=t().mythemes,a=n.criteria,s=n.srcFilter,u={},l=t().criteriaDataCollection,p=t().libraries.criteria[0],f=2*r.cc,h=0;Object(i.s)(l[JSON.stringify(p)])||Object(i.s)(l[JSON.stringify(p)]).cclibrary||(h=l[JSON.stringify(p)].cclibrary.startIndex,h=Math.floor((h-1)/f)*f),a.slice(h,a.length).forEach((function(t){u.ccLibraryUrl=c(t,0),e(o.o(JSON.stringify(t),s,u))}))}},p=function(){return function(e,t){var n=t().mythemes,r=n.criteria,a=n.srcFilter,i={},s=r[0];i.ccLibraryUrl=c(s,0),e(o.o(JSON.stringify(s),a,i))}},f=function(e){return function(t,n){var r=n().mythemes.srcFilter,a={},i=n().criteriaDataCollection[e].cclibrary.startIndex;a.ccLibraryUrl=c(JSON.parse(e),i),t(o.o(e,r,a))}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initState;return function(t){return t(o.p(r.ec,e))}},d=function(e,t){return function(n){return n(o.h(t,e))}},m=function(e,t){return function(n){return n(o.q(e,t))}},b=function(e,t){return function(n,r){var a=r().mythemes.srcFilter;return n(o.w(e,a[0],t))}},y=function(e,t){return function(n,r){var a=r().mythemes.srcFilter;return n(o.v(e,a[0],t))}},g=function(e){return function(t){var n=function(e){var t=config("KULER_ENDPOINT"),n=t.basePath,r=t.api,a=t.searchPath;return"".concat(n).concat(r).concat(a,'?q={"asset_id":"').concat(e,'"}&maxNumber=1')}(e);return t(o.s(n))}},v=function(e,t,n){return function(r){return r(o.t(e,t,n))}}},954:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(36),i=n(52),c=n(37),s=n.n(c),u=n(46),l=n.n(u),p=n(40),f=n.n(p),h=n(7),d=n(1005),m=n.n(d),b=n(1006),y=n.n(b),g=n(1),v=n(3),O=n(23),E=n(126),w=n(101),S=n(236),j=n.n(S),k=n(767),C=n.n(k);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?R(e):t}(this,n)}}(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(R(e=t.call.apply(t,[this].concat(o))),"onClick",(function(t){var n=e.props,r=n.criteria,o=(n.intl,n.isUserLoggedIn),i=n.ingestWorkflow,c=n.isPantone,s=n.notification,u=(n.pageName,n.saveThemeToLibrary),l=n.themeData;if(t.stopPropagation(),o){var p={workflow:Object(v.e)(i[0].replace("_"," ")),subcategory:Object(v.s)(e.props.ingestSubcategory)?i[0]:e.props.ingestSubcategory},f={mimetype:c?g.Hb.PANTONE:l.colorMode},d={};f=Object.assign(f,Object(E.a)(l)),c||(d.harmony=l.harmony.rule),Object(O.a)(g.Fb.ADD_TO_LIBRARY,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event:p,content:f},d),i),e.props.setColorMode(l.colorMode.toUpperCase()),u({theme:l,isPantone:c},r).then((function(t){var n=t.libraryName;c&&e.props.setUnsetTick(!0),s({variant:g.Dc,message:a.a.createElement(h.a,{id:"app.addtolibararynotification.toast.success.message",values:{name:n}})})})).catch((function(){s({variant:g.lb,message:a.a.createElement(h.a,{id:"app.addtolibararynotification.toast.error.message"})})}))}else if(window.adobeIMS){var m={workflow:Object(v.e)(i[0].replace("_"," ")),subcategory:g.Hb.NAVIGATION};Object(O.a)(g.Fb.USER_SIGN_IN,{event:m},i),window.adobeIMS.signIn()}else console.error("window.adobeIMS is not defined")})),e}return function(e,t,n){t&&N(e.prototype,t)}(n,[{key:"render",value:function(){var e=this.props,t=e.themeData.themeSavedToCCLibraries.value&&!e.isPantone?"app.grid.card.actionsmenu.addedtolibrary":"app.grid.card.actionsmenu.addtolibrary",n=a.a.createElement(m.a,null),r={fill:j.a.addToLibraryCheckmarkFillColor},o={};e.isPantone&&(t=e.showTickIcon?"app.grid.card.actionsmenu.addedtolibrary":"app.grid.card.actionsmenu.addtolibrary"),(!e.isPantone&&e.themeData.themeSavedToCCLibraries.value||e.isPantone&&e.showTickIcon)&&(o.pointerEvents="none",n=a.a.createElement(y.a,{style:r}));var i=a.a.createElement(f.a,{disabled:this.props.disabled,style:o,className:e.disabled?C.a.disabled:e.className,icon:n,label:e.isExpanded?e.intl.formatMessage({id:t}):"",onClick:this.onClick,variant:"primary",quiet:!0});return e.isExpanded?i:a.a.createElement(s.a,{className:C.a.tooltip,placement:"bottom",trigger:["hover"]},i,a.a.createElement(l.a,null,a.a.createElement(h.a,{id:t})))}}]),n}(),D=Object(o.b)((function(e){return{locale:e.user.locale}}),(function(e){return Object(i.b)({setColorMode:w.setColorMode},e)}))(A);t.a=D},959:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return k})),n.d(t,"b",(function(){return C})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return T}));var r=n(1),a=n(76),o=n(3),i=n(940),c=n(127),s=n(30),u=n(48),l=n(35),p=n.n(l);function f(e){var t=e.user,n={"x-api-key":config("CLIENT_ID")};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}function h(e,t,n,a){var o=function(e){return e.themes=e.libraries,delete e.libraries,e}(e);o.oldThemes=t,a(Object(i.d)(n,r.p,o)),a(Object(i.f)(n,r.p))}function d(e,t){return function(n,c){var s=c(),u=s.criteriaDataCollection;if(!Object(o.s)(u[e]))return n(Object(i.h)(e,r.p)),Object(a.d)(t.url,f(s),t.signal).then((function(t){return h(t,u[e].cclibrary.themeList,e,n),c(),t})).catch((function(t){var a=r.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),n(Object(i.g)(e,r.p,a)),[]}))}}function m(e,t){return function(n,c){var s=c(),u=s.criteriaDataCollection;if(!Object(o.s)(u[e]))return n(Object(i.h)(e,r.p)),Object(a.c)(t.firstEndPoint,f(s)).then((function(t){return h(t,u[e].cclibrary.themeList,e,n),c().criteriaDataCollection[e].cclibrary.themeList})).then((function(r){return Object(a.c)(t.secondEndPoint,f(s)).then((function(t){return h(t,r,e,n),c().criteriaDataCollection[e].cclibrary.themeList}))})).catch((function(t){var a=r.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),n(Object(i.g)(e,r.p,a)),[]}))}}function b(e,t){return function(n,c){var s=c(),u=s.criteriaDataCollection;if(s.user,!Object(o.s)(u[e])&&u[e].cclibrary.fetchStatus!==r.h.REQUESTED)return n(Object(i.h)(e,r.p)),function(e,t){return Object(a.c)(e,t).then((function(e){return e.elements})).catch((function(e){return[]}))}(t.endPointTheme,f(s)).then((function(t){var a=[],o=[];t.forEach((function(e){switch(e.type){case r.Gc:a.push(e);break;case r.ub:r.Nb||o.push(e)}}));var c={themes:a,oldThemes:u[e].cclibrary.themeList,gradients:o};n(Object(i.f)(e,r.p)),n(Object(i.d)(e,r.p,c))})).catch((function(t){var a=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),n(Object(i.g)(e,r.p,a))}))}}function y(e){return function(t,n){var o=f(n()),c=n().libraries.criteria,s=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,u=config("CCLIBRARIES_ENDPOINT").librariesApi,l="".concat(s).concat(u);return o=Object.assign(o,{Accept:"application/json","Content-Type":"application/json"}),Object(a.e)(l,o,{name:e.libraryName}).then((function(e){var n={themes:[e]};return c.forEach((function(e){return t(Object(i.a)(JSON.stringify(e),r.p,n))})),{name:e.name,id:e.library_urn}})).catch((function(e){console.log("error ".concat(e))}))}}function g(e){var t=e.criteriaDataCollection,n=e.libraries,a=(e.user,n.criteria),o=null;return(void 0===t[JSON.stringify(a[0])]?[]:t[JSON.stringify(a[0])].cclibrary.themeList.slice().reverse()).some((function(e){return!!(isNaN(e.totalElements)||e.totalElements<r.r)&&(o=e,!0)})),o}function v(e){var t={};return Object(c.a)(e)&&(e.isSpotColor?t.type="spot":t.type="process",t.spotColorName="PANTONE ".concat(e.pantone)),t}function O(e){var t=[],n=e.swatches,a=e.colorMode;return n.forEach((function(e){var n=[],o={};a.toUpperCase()!==r.V&&n.push(function(e,t){var n={};switch(t){case r.x.CMYK:n.mode=r.y.CMYK,n.value={c:parseInt(Math.round(e.cmyk.c*r.z.MAX.CMYK.C),10),m:parseInt(Math.round(e.cmyk.m*r.z.MAX.CMYK.M),10),y:parseInt(Math.round(e.cmyk.y*r.z.MAX.CMYK.Y),10),k:parseInt(Math.round(e.cmyk.k*r.z.MAX.CMYK.K),10)};break;case r.x.HSV:n.mode=r.y.HSB,n.value={h:parseInt(Math.round(e.hsv.h*r.z.MAX.HSV.H),10),s:parseInt(Math.round(e.hsv.s*r.z.MAX.HSV.S),10),b:parseInt(Math.round(e.hsv.v*r.z.MAX.HSV.V),10)};break;case r.x.LAB:var a=Object(s.e)([e.lab.l,e.lab.a,e.lab.b]);n.mode=r.y.LAB,n.value={l:Math.round(a[0]),a:Math.round(a[1]),b:Math.round(a[2])}}return Object.assign(n,v(e)),n}(e,a)),o.mode=r.y.RGB,o.value={r:parseInt(Math.round(e.rgb.r*r.z.MAX.RGB.R),10),g:parseInt(Math.round(e.rgb.g*r.z.MAX.RGB.G),10),b:parseInt(Math.round(e.rgb.b*r.z.MAX.RGB.B),10)},Object.assign(o,v(e)),n.push(o),t.push(n)})),t}function E(e,t,n){return function(c,s){if(null!==g(s())){var u=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,l=config("CCLIBRARIES_ENDPOINT").librariesApi,p=config("CCLIBRARIES_ENDPOINT").themesApi,h=s().save,d=Object(o.s)(h.library)?g(s()):h.library,m="".concat(u).concat(l,"/").concat(d.id).concat(p),b=f(s()),y={};switch(b=Object.assign(b,{Accept:"application/json","Content-Type":"application/json"}),n){case r.g.GRADIENT:y=t.gradient;break;default:y=t.theme}return Object(a.e)(m,b,function(e,t){r.Nb?r.fb.MOBILE:r.fb.WEB;var n={name:e.name,client:{deviceId:window.adobeIMS.getUserProfile().userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(r.d)},representations:[]},a={};switch(t){case r.g.GRADIENT:n.type=r.ub,a=function(e,t){var n={rel:"primary"};return n.type=r.xb,n[t]={interpolation:e.interpolation,angle:e.angle,aspectRatio:e.aspectRatio,type:e.type,stops:e.stops},n}(e,r.vb);break;case r.g.THEME:n.type=r.Gc,a=function(e,t){var n={rel:"primary"};return n.type=r.Kc,n[t]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:O(e),tags:e.tags.map((function(e){return e.value}))},e.accessibilityData&&(n[t].accessibilityData=e.accessibilityData),n}(e,r.Hc)}return n.representations.push(a),n}(y,n)).then((function(n){return c(Object(i.e)(e,y.source,t)),{response:n,libraryName:d.name}})).catch((function(e){throw console.log("error ".concat(e)),e}))}console.error("All Libraries full. User needs to create new library")}}function w(e,t,n){return function(r,a){return function(e){var t=e.criteriaDataCollection,n=e.libraries.criteria,r=t[JSON.stringify(n[0])],a=[];return r&&(a=r.cclibrary.themeList),0===a.length}(a())?r(y({libraryName:"My Library"})).then((function(){r(E(e,t,n))})):r(E(e,t,n))}}function S(e,t){var n=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,r=config("CCLIBRARIES_ENDPOINT").librariesApi,o=config("CCLIBRARIES_ENDPOINT").themesApi,i=config("CCLIBRARIES_ENDPOINT").metadataApi,c=e.cclibraryThemeUpdateLibId,s="".concat(n).concat(r,"/").concat(c).concat(o).concat(i),u=t;return u=Object.assign(u,{Accept:"application/json","Content-Type":"application/json"}),Object(a.i)(s,u,JSON.stringify(function(e){var t={elements:[]},n={id:e.cclibraryThemeUpdateAssetId};return void 0!==e.name&&(n.name=e.name),t.elements.push(n),t}(e))).then((function(e){return{response:e}}))}function j(e){return function(t,n){return S(e,f(n()))}}function k(e,t){return function(n,o){var c=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,s=config("CCLIBRARIES_ENDPOINT").librariesApi,l=config("CCLIBRARIES_ENDPOINT").themesApi,h=t.cclibraryThemeUpdateLibId,d="".concat(c).concat(s,"/").concat(h).concat(l,"/").concat(t.cclibraryThemeUpdateAssetId,"/representations"),m=f(o()),b=u.a;return m=Object.assign(m,{Accept:"application/json","Content-Type":"application/json"}),(b=Object.assign(b,t)).id=t.cclibraryThemeUpdateAssetId,b.source=r.p,b.uniqueID=p.a.v4(),Object(a.h)(d,m,JSON.stringify(function(e){r.Nb?r.fb.MOBILE:r.fb.WEB;var t={client:{deviceId:window.adobeIMS.getUserProfile().userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(r.d)},type:"application/vnd.adobe.element.colortheme+dcx",representations:[]},n={rel:"primary",type:"application/vnd.adobe.colortheme+json","colortheme#trackingdata":"color-web-service","colortheme#optype":"colorThemePanel"};return n["colortheme#data"]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:O(e),tags:e.tags.map((function(e){return e.value}))},e.accessibilityData&&(n["colortheme#data"].accessibilityData=e.accessibilityData),t.representations.push(n),t}(t))).then((function(a){return a.id=b.id,S(t,f(o())),n(Object(i.i)(JSON.stringify(e),r.p,b)),{response:a,libraryName:h.name}}))}}function C(e,t){return function(n,r){var o=f(r()),c=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,s=config("CCLIBRARIES_ENDPOINT").librariesApi,u=config("CCLIBRARIES_ENDPOINT").themesApi,l="".concat(c).concat(s,"/").concat(JSON.parse(e).main).concat(u,"/").concat(t.id);return o=Object.assign(o,{Accept:"application/json","Content-Type":"application/json"}),Object(a.b)(l,o).then((function(r){return n(Object(i.c)(e,t.source,t)),{response:r,themeName:t.name}}))}}function P(e,t){return Object(i.m)(e,r.p,t)}function T(e,t){return Object(i.k)(e,r.p,t)}},960:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return b}));var r=n(1),a=n(76),o=n(940),i=n(3);function c(e){return Object(o.b)(e,r.Rb)}function s(e){var t=e.user,n={"x-api-key":config("KULER_ENDPOINT").clientId};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}function u(e,t){var n=t.user;return Object(a.c)(e,s({user:n})).then((function(e){return function(e){var t={themes:[]};return e&&e.themes&&e.themes.length>0&&t.themes.push(e),t}(e).themes.length>0})).catch((function(e){return!1}))}function l(e,t){return function(n,i){var c=i();n(Object(o.h)(e,r.Rb)),Object(a.c)(t.endPoint,s(c)).then((function(t){var a={themes:[t]};n(Object(o.d)(e,r.Rb,a)),n(Object(o.f)(e,r.Rb))})).catch((function(t){var a=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),n(Object(o.g)(e,r.Rb,a))}))}}function p(e,t){return function(n,c){var u=c(),l=u.criteriaDataCollection;Object(i.s)(l[e])||l[e].kuler.fetchStatus===r.h.REQUESTED||(n(Object(o.h)(e,r.Rb)),Object(a.c)(t.endPoint,s(u)).then((function(t){n(Object(o.d)(e,r.Rb,t)),n(Object(o.f)(e,r.Rb))})).catch((function(t){var a=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),n(Object(o.g)(e,r.Rb,a))})))}}function f(e){var t=e.swatches,n=e.colorMode,a=[];return t.forEach((function(e){var t={};t.mode=n.toLowerCase(),t.values=function(e,t){switch(t){case r.x.RGB:return[e.rgb.r,e.rgb.g,e.rgb.b];case r.x.CMYK:return[e.cmyk.c,e.cmyk.m,e.cmyk.y,e.cmyk.k];case r.x.HSV:return[e.hsv.h,e.hsv.s,e.hsv.v];case r.x.LAB:return[e.lab.l,e.lab.a,e.lab.b]}return otherMode}(e,n),a.push(t)})),a}function h(e,t){return function(n,r){var o=s(r()),i=config("KULER_ENDPOINT").basePath,c=config("KULER_ENDPOINT").api,u=config("KULER_ENDPOINT").themePath,l="".concat(i).concat(c).concat(u),p=Object.assign({},e),h=r().save;return o=Object.assign(o,{Accept:"application/json, text/javascript, */*","Content-Type":"application/json"}),Object(a.e)(l,o,function(e,t){var n={};return n.name=e.name?e.name:"My Color Theme",n.swatches=f(e),n.assets={assetid:t.id,libraryid:e.libraryid},n.harmony={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood.toLowerCase(),rule:e.harmony.rule.toLowerCase(),sourceURL:""},n}(p,t)).then((function(e){return h.tagsToSave.length>0&&n(function(e){return function(t,n){var r=s(n()),o=n().save.tagsToSave,i=config("KULER_ENDPOINT").basePath,c=config("KULER_ENDPOINT").api,u=config("KULER_ENDPOINT").themePath,l=config("KULER_ENDPOINT").tagsPath,p="".concat(i).concat(c).concat(u,"/").concat(e.id).concat(l);return r=Object.assign(r,{Accept:"application/json, text/javascript, */*","Content-Type":"application/json"}),Object(a.e)(p,r,o).then((function(){return e.name})).catch((function(e){return console.error(e)}))}}(e)),e}))}}function d(e,t){return function(n,i){var c=s(i()),u=config("KULER_ENDPOINT").basePath,l=config("KULER_ENDPOINT").api,p=config("KULER_ENDPOINT").themePath,f="".concat(u).concat(l).concat(p,"/").concat(t.id,"/like");return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),t.like.user?Object(a.a)(f,c).then((function(a){JSON.parse(e).main===r.K.EXPLORE.MY_APPRECIATIONS&&n(Object(o.c)(e,t.source,t)),n(Object(o.j)(e,r.Rb,t))})).catch((function(e){console.error("Error while updating status")})):Object(a.e)(f,c,{}).then((function(a){return n(Object(o.j)(e,r.Rb,t))})).catch((function(e){console.error("Error while updating status")}))}}function m(e,t){return function(n,i){var c=s(i()),u=config("KULER_ENDPOINT").basePath,l=config("KULER_ENDPOINT").api,p=config("KULER_ENDPOINT").themePath,f="".concat(u).concat(l).concat(p,"/").concat(t.id);return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),Object(a.a)(f,c).then((function(a){return n(Object(o.c)(e,r.Rb,t)),{response:a,themeName:t.name}})).catch((function(e){console.log("error ".concat(e))}))}}function b(e){return function(t,n){var r=n();return Object(a.c)(e,s(r)).then((function(e){return e.themes})).catch((function(e){return[]}))}}},961:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(1),a=n(944),o=n(3),i={sources:[r.p],criteria:[{main:"libraries"}]};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.ib.LAST_MODIFIED,n=config("CCLIBRARIES_ENDPOINT"),a=n.melvilleBasePath,o=n.librariesApi,i=t===r.ib.LAST_MODIFIED?r.Zb:r.hc;return"".concat(a).concat(o,"?start=").concat(e,"&limit=").concat(r.cc,"&selector=details&orderBy=").concat(i,"&toolkit=none")}function s(e,t){var n=config("CCLIBRARIES_ENDPOINT"),a=n.melvilleBasePath,o=n.librariesApi,i=r.Zb,c="".concat(a).concat(o,"?start=").concat(e,"&limit=").concat(r.cc,"&orderBy=").concat(i,"&toolkit=none");return t?c:"".concat(c,"&selector=details")}function u(e){var t=config("CCLIBRARIES_ENDPOINT").melvilledomainPath;return"".concat(t).concat(e,"&toolkit=none")}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.ib.LAST_MODIFIED;return function(t,n){var i=n().libraries.criteria,s=n().criteriaDataCollection,u=0;Object(o.s)(s[JSON.stringify(i[0])])||(u=s[JSON.stringify(i[0])].cclibrary.startIndex);var l=c(u,e),p=c(u+r.cc,e);return t(a.m(JSON.stringify(i[0]),l,p))}},p=function(e,t){return function(n,r){var o=r().libraries.criteria;return r().criteriaDataCollection,n(a.i(JSON.stringify(o[0]),e,t))}},f=function(){return function(e,t){var n=t().libraries.criteria,r=t().criteriaDataCollection;return Object(o.s)(r[JSON.stringify(n[0])])?[]:r[JSON.stringify(n[0])].cclibrary.themeList}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(t){return t(a.p(r.ac,e))}},d=function(){return function(e,t){var n=t().libraries.criteria;return e(a.e(JSON.stringify(n[0])))}}},963:function(e,t,n){"use strict";var r=n(1);function a(e,t){this.worker=new Worker(e),this.worker.addEventListener("message",this.onmessage.bind(this)),this.thisThreadPool=t,this.callback=null}function o(e,t){this.threads=[],this.tasks=[];for(var n=0;n<t;n++)this.threads.push(new a(e,this))}a.prototype.run=function(e){this.worker.postMessage(e.task),this.callback=e.callback},a.prototype.onmessage=function(e){this.callback(e.data),this.callback=null,this.thisThreadPool.afterTask(this)},o.prototype.queueTask=function(e){var t={task:e.startMessage,callback:e.onExtractionComplete};this.threads.length>0?this.threads.shift().run(t):this.tasks.push(t)},o.prototype.afterTask=function(e){this.tasks.length>0?e.run(this.tasks.shift()):this.threads.push(e)},o.prototype.clearQueue=function(){this.tasks.length=0};var i=new o("/extract.js",r.Mc);t.a=i},964:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(950),i=n(3),c=n(1),s=n(23),u=n(126),l=n(7),p=n(30),f=n(101),h=n(36),d=n(52),m=n(53),b=n.n(m),y=n(769),g=n.n(y),v=n(236),O=n.n(v),E=n(952);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,E.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var a=N(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?P(e):t}(this,n)}}(n);function n(e){var r,o,p,f,h;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),I(P(h=t.call(this,e)),"onClick",(function(e){var t=Object(i.h)("#".concat(e)),n={workflow:Object(i.e)(h.props.themeData.ingestWorkflow[0]),subcategory:c.Hb.ONEUP,value:"#".concat(e)},r=Object(u.a)(h.props.themeData);t?(h.props.notification({variant:c.Dc,message:a.a.createElement(l.a,{id:"app.oneupactions.toast.success.message"})}),Object(s.a)(c.Fb.COPY_HEX,{content:r,event:n},[c.Hb.ONEUP])):h.props.notification({variant:c.lb,message:a.a.createElement(l.a,{id:"app.oneupactions.toast.error.message"})})})),I(P(h),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?T((r=P(h),N(n.prototype)),"mouseDown",r).call(r,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),I(P(h),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?T((o=P(h),N(n.prototype)),"touchStart",o).call(o,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),I(P(h),"mouseOver",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(h.props.id)})),I(P(h),"mouseOut",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(-1)})),I(P(h),"updateMarkerPosition",(function(e){var t,n=e;Object(i.s)(e.touches)||0===e.touches.length||(n=e.touches[0]),t=n.pageX-h.hitOffsetX+h.radius,t=Math.round(t);var r=(t=Math.min(h.props.canvas.width-1,Math.max(0,t)))/h.props.canvas.width,a=r>.998?1:r,o=-1===h.leftMarkerPos?h.props.stops[h.thisMarkerPos].midpoint:h.props.stops[h.leftMarkerPos].offset+(a-h.props.stops[h.leftMarkerPos].offset)*h.props.stops[h.thisMarkerPos].midpoint,s=-1===h.rightMarkerPos?"":a+(h.props.stops[h.rightMarkerPos].offset-a)*h.props.stops[h.rightMarkerPos].midpoint,u=h.props.order.indexOf(h.thisMarkerPos),l=!1;if(h.props.setSwatch({i:h.thisMarkerPos,swatch:{offset:a,positionOfMidpoint:o},assetType:c.g.GRADIENT}),-1!==h.rightMarkerPos&&h.props.setSwatch({i:h.rightMarkerPos,swatch:{midpoint:h.props.stops[h.rightMarkerPos].midpoint,positionOfMidpoint:s},assetType:c.g.GRADIENT}),-1!==h.leftMarkerPos&&a<=h.props.stops[h.leftMarkerPos].offset?(h.props.swapStopsAndMarkersOrder({source:u,destination:u-1}),h.leftMarkerPos=1===u?-1:h.props.order[u-2],h.rightMarkerPos=h.props.order[u],l=!0):-1!==h.rightMarkerPos&&a>=h.props.stops[h.rightMarkerPos].offset&&(h.props.swapStopsAndMarkersOrder({source:u,destination:u+1}),h.leftMarkerPos=h.props.order[u],h.rightMarkerPos=u===h.props.stops.length-2?-1:h.props.order[u+2],l=!0),l){var p=0,f=0;h.props.order.forEach((function(e,t){var n=h.props.stops[e];0!==t&&(f=p+(n.offset-p)*n.midpoint),h.props.setSwatch({i:e,swatch:{positionOfMidpoint:f},assetType:c.g.GRADIENT}),p=n.offset})),h.props.drawConnectingLines}h.currentMarkerMoved=!0})),I(P(h),"getMarkerPosition",(function(e){var t=e;Object(i.s)(e.touches)||0===e.touches.length||(t=e.touches[0]),h.hitOffsetX=t.pageX-h.marker.offsetLeft,h.thisMarkerPos=h.props.order[h.props.id],h.leftMarkerPos=0===h.props.id?-1:h.props.order[h.props.id-1],h.rightMarkerPos=h.props.id===h.props.stops.length-1?-1:h.props.order[h.props.id+1],h.props.setActiveSwatch(h.props.order[h.props.id])})),I(P(h),"mouseUp",(function(e){h.props.isCreate&&(T((p=P(h),N(n.prototype)),"mouseUp",p).call(p,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),I(P(h),"touchEnd",(function(e){h.props.isCreate&&(T((f=P(h),N(n.prototype)),"touchEnd",f).call(f,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),h.radius=parseInt(b.a.colorStopRadius,10),h.colorStopOneUpDiameter=b.a.colorStopOneUpDiameter,h.colorStopCreateDiameter=b.a.colorStopDiameter,h.colorStopCreateDiameterActive=b.a.colorStopDiameterActive,h}return function(e,t,n){t&&k(e.prototype,t)}(n,[{key:"paint",value:function(){if(this.props.isOneUp){var e="rgb(",t=Math.round("".concat(100*this.props.stop.offset)),n=j({},this.props.stop.rgb);e=e.concat("".concat(parseInt(n.r*c.z.MAX.RGB.R,10),",")," ".concat(parseInt(n.g*c.z.MAX.RGB.G,10),",")," ".concat(parseInt(n.b*c.z.MAX.RGB.B,10),")")),this.marker.style.backgroundColor=e,this.marker.style.top="calc(50% - ".concat(this.colorStopOneUpDiameter/2,"px)"),this.hexValue.textContent="#".concat(this.props.stop.hex),this.copyHexContainer.style.color=Object(p.s)(n)>c.zb.RGB?"".concat(O.a.oneUpThemeDetailsTextColorDark):"".concat(O.a.oneUpThemeDetailsTextColorLight),0===Math.round(t)?this.marker.style.left="calc(".concat(t,"% + 1px)"):100===Math.round(t)?(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter,"px - 1px)"),this.copyHexContainer.style.marginLeft="-40px"):(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter/2,"px)"),this.copyHexContainer.style.marginLeft="-15px")}else if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var r="rgba(",a="".concat(100*this.colorStop.offset),o=j({},this.colorStop.rgb);r=r.concat("".concat(o.r,", ").concat(o.g,", ").concat(o.b,", 1)")),this.marker.style.backgroundColor=r,this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.left="calc(".concat(a,"% - ").concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.borderColor=O.a.defaultGradientColorStopBorder,this.props.activeSwatch===this.props.order[this.props.id]&&(this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.left="calc(".concat(a,"% - ").concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.borderColor=O.a.selectedGradientColorStopBorder)}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.I),subcategory:"".concat(c.Hb.GRADIENT,"_").concat(c.Hb.OFFSET,"_").concat(c.Hb.MARKER)};Object(s.a)(c.Fb.MARKER_MOVE,{event:e},[c.Hb.OFFSET])}},{key:"children",value:function(){var e=this;return a.a.createElement("div",{className:g.a.copyHexContainer,ref:function(t){e.copyHexContainer=t}},a.a.createElement("div",{className:g.a.copy},a.a.createElement(l.a,{id:"app.oneup.copy"})),a.a.createElement("div",{className:g.a.hex,ref:function(t){e.hexValue=t}}))}}]),n}();R.defaultProps={markerType:c.wb.COLORSTOP};var _=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order,activeSwatch:t.activeSwatch}}),(function(e){return Object(d.b)({setSwatch:f.setSwatch,swapStopsAndMarkersOrder:f.swapStopsAndMarkersOrder,setActiveSwatch:f.setActiveSwatch},e)}))(R),M=n(24);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(n,E.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var a=U(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?x(e):t}(this,n)}}(n);function n(e){var r,a,o,s,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),F(x(u=t.call(this,e)),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),B((r=x(u),U(n.prototype)),"mouseDown",r).call(r,e),u.props.setActiveSwatch(100)})),F(x(u),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),B((a=x(u),U(n.prototype)),"touchStart",a).call(a,e),u.props.setActiveSwatch(100)})),F(x(u),"updateMarkerPosition",(function(e){var t,n=e;Object(i.s)(e.touches)||0===e.touches.length||(n=e.touches[0]),t=n.pageX-u.hitOffsetX+1,t=Math.round(t);var r=(t=Math.min(u.props.canvas.width-1,Math.max(0,t)))/u.props.canvas.width,a=(r-u.props.stops[u.props.order[u.props.id-1]].offset)/(u.props.stops[u.props.order[u.props.id]].offset-u.props.stops[u.props.order[u.props.id-1]].offset);r>u.props.stops[u.props.order[u.props.id-1]].offset&&r<u.props.stops[u.props.order[u.props.id]].offset&&u.props.setSwatch({i:u.props.order[u.props.id],swatch:{midpoint:a,positionOfMidpoint:r},assetType:c.g.GRADIENT}),u.currentMarkerMoved=!0})),F(x(u),"getMarkerPosition",(function(e){var t=e;Object(i.s)(e.touches)||0===e.touches.length||(t=e.touches[0]),u.hitOffsetX=t.pageX-u.marker.offsetLeft})),F(x(u),"mouseUp",(function(e){B((o=x(u),U(n.prototype)),"mouseUp",o).call(o,e),u.sendMarkerMoveIngestEvent(),u.setResetButtonState(!1),u.props.setActiveSwatch(-1)})),F(x(u),"touchEnd",(function(e){B((s=x(u),U(n.prototype)),"touchEnd",s).call(s,e),u.sendMarkerMoveIngestEvent(),u.setResetButtonState(!1),u.props.setActiveSwatch(-1)})),u.radius=parseInt(b.a.colorStopRadius,10),u}return function(e,t,n){t&&D(e.prototype,t)}(n,[{key:"paint",value:function(){if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var e="".concat(100*this.colorStop.positionOfMidpoint);this.marker.style.left="calc(".concat(e,"% - ").concat(b.a.midpointHeight/2,"px)"),this.marker.style.top="calc(50% - ".concat(b.a.midpointHeight/2,"px)")}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.I),subcategory:"".concat(c.Hb.GRADIENT,"_").concat(c.Hb.MIDPOINT,"_").concat(c.Hb.MARKER)};Object(s.a)(c.Fb.MARKER_MOVE,{event:e},[c.Hb.MIDPOINT])}},{key:"children",value:function(){return a.a.createElement("img",{src:M.w,className:g.a.midpointMarker})}}]),n}();H.defaultProps={markerType:c.wb.MIDPOINT};var W=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order}}),(function(e){return Object(d.b)({setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch},e)}))(H);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var a=K(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={gradientRendered:!1},r}return function(e,t,n){t&&z(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){this.canvas.width=this.gradientContainer.offsetWidth,this.canvas.height=this.gradientContainer.offsetHeight,this.setState({gradientRendered:!0})}},{key:"componentWillUnmount",value:function(){this.props.gradientProps.isOneUp&&(this.props.gradientProps.isOneUp=!1)}},{key:"setColorStopsMarkers",value:function(){var e=this,t=[],n=this.props.gradientProps,r=n.isCreate,o=n.isOneUp;return r?Object(i.s)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(n,i){t.push(a.a.createElement(_,{key:i,id:i,canvas:e.canvas,isCreate:r,isOneUp:o,notification:e.props.notification,shouldResetBeDisabled:e.props.shouldResetBeDisabled,drawConnectingLines:e.drawConnectingLines}))})):this.props.stops.forEach((function(n,i){t.push(a.a.createElement(_,{key:i,id:i,canvas:e.canvas,stop:n,themeData:e.props.themeData,isCreate:r,isOneUp:o,notification:e.props.notification}))})),t}},{key:"setMidpointMarkers",value:function(){var e=this,t=[];return Object(i.s)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(n,r){0!==r&&t.push(a.a.createElement(W,{key:r,id:r,canvas:e.canvas,themeData:e.props.themeData,isCreate:e.props.gradientProps.isCreate,shouldResetBeDisabled:e.props.shouldResetBeDisabled}))})),t}},{key:"drawConnectingLine",value:function(){var e=this.canvas.getContext("2d");e.beginPath(),e.moveTo(0,this.canvas.height/2),e.lineTo(this.canvas.width,this.canvas.height/2),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.stroke()}},{key:"render",value:function(){var e=this,t={},n=this.props,r=n.gradientProps,i=n.stops;if("linear"===r.type&&i.length>1){var c=Object(o.b)(i).linearGradientDataRGBA;t.background="linear-gradient(".concat(r.angle+90,"deg, ").concat(c,")")}return a.a.createElement("div",{className:g.a.gradientContainer,ref:function(t){e.gradientContainer=t}},a.a.createElement("canvas",{className:r.isSave?g.a.gradientCanvasSavePanel:g.a.gradientCanvas,style:t,ref:function(t){e.canvas=t}}),(r.isCreate&&!r.isSave||r.isOneUp)&&this.state.gradientRendered&&this.setColorStopsMarkers(),r.isCreate&&!r.isSave&&this.state.gradientRendered&&this.setMidpointMarkers(),r.isCreate&&!r.isSave&&this.state.gradientRendered&&this.drawConnectingLine())}}]),n}();t.a=X},965:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(52),c=n(36),s=n(998),u=n.n(s),l=n(1),p=n(37),f=n.n(p),h=n(46),d=n.n(h),m=n(3),b=n(939),y=n(775),g=n.n(y);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&O(e.prototype,t)}(n,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{className:g.a.tooltip,placement:l.Nb?"right":"bottom",trigger:Object(m.D)()},a.a.createElement(u.a,{className:g.a.publishSwitcher,onChange:function(t){return e.props.setPublishToKuler(t)},checked:this.props.publish,label:this.props.intl.formatMessage({id:"app.savepanel.publishtocolor"}),disabled:this.props.disabled}),a.a.createElement(d.a,{variant:"info"},a.a.createElement("div",{className:g.a.publishSwitcherTooltipTitle},a.a.createElement(o.a,{id:"app.savepanel.publishswitcher.title.tooltip"})),a.a.createElement("div",{className:g.a.publishSwitcherTooltipInfo},a.a.createElement(o.a,{id:"app.savepanel.publishswitcher.info.tooltip",values:{name:this.props.themeName}})))))}}]),n}(),j=Object(c.b)((function(e){var t=e.save;return{locale:e.user.locale,publish:t.publishToKuler,themeName:t.themeName}}),(function(e){return Object(i.b)({setPublishToKuler:b.g},e)}))(S),k=Object(o.d)(j),C=n(973),P=n(40),T=n.n(P),N=n(102),I=n.n(N),R=n(768),_=n.n(R),M=Object(o.d)(Object(r.memo)((function(e){var t=e.assetName,n=e.placeholder,r=e.isSwatchesEmpty,i=e.updateAssetName;return a.a.createElement("div",{className:_.a.savePanelRow},a.a.createElement(o.a,{id:"app.savepanel.name"}),a.a.createElement(I.a,{className:_.a.themeName,quiet:!0,placeholder:n,value:t,onChange:function(e){return i(e,!0)},disabled:r}))}))),A=n(978);t.a=Object(o.d)((function(e){var t=e.intl,n=e.children,r=e.showLargeView,i=e.ingestWorkflow,c=e.closeDialog,s=e.isUserLoggedIn,u=e.isEditWorkflow,l=e.isSwatchesEmpty,p=e.usageMessage,f=e.isAllowedToPublish,h=e.signintocreativecloudmessage,d=e.message,m=e.tags,b=e.updateAssetName,y=e.assetName,g=e.placeholder;return a.a.createElement("div",{className:"".concat(r&&_.a.modalSavePanel||""," ").concat(l?[_.a.savePanel,_.a.disabled].join(" "):_.a.savePanel)},n,s&&a.a.createElement(a.a.Fragment,null,!u&&a.a.createElement("div",{className:_.a.savePanelRow},a.a.createElement(o.a,{id:"app.savepanel.saveto"}),a.a.createElement(C.a,{ingestWorkflow:i,showLargeView:r,disabled:l,className:l?[_.a.librarySelector,_.a.disabled].join(" "):_.a.librarySelector})),a.a.createElement(M,{isSwatchesEmpty:l,assetName:y,placeholder:g,updateAssetName:b}),!l&&m,f&&a.a.createElement(k,{disabled:l})),!s&&a.a.createElement("div",null,a.a.createElement("h2",{className:_.a.signInToCreativeCloudMessage},h),a.a.createElement("h3",{className:_.a.signInToCreativeCloudMessage},p)),d,a.a.createElement("div",{className:_.a.helpSaveContainer},r&&a.a.createElement(T.a,{variant:"primary",onClick:c,label:t.formatMessage({id:"app.reportabuse.dialog.cancel"}),"aria-label":t.formatMessage({id:"app.reportabuse.dialog.cancel"})}),a.a.createElement(A.a,{ingestWorkflow:i})))}))},966:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(37),i=n.n(o),c=n(46),s=n.n(c),u=n(40),l=n.n(u),p=n(7),f=n(987),h=n.n(f),d=n(23),m=n(126),b=n(1),y=n(3),g=n(767),v=n.n(g);t.a=Object(p.d)((function(e){var t=a.a.createElement(l.a,{className:e.className,icon:e.userLikeStatus?a.a.createElement(h.a,{style:{fill:"#d7373f"}}):a.a.createElement(h.a,null),label:e.isExpanded?e.intl.formatMessage({id:"app.grid.card.actionsmenu.appreciateaction"}):"",onClick:function(t){return function(e,t){e.stopPropagation();var n=t.criteria,r=t.themeData,a=t.isUserLoggedIn,o=t.ingestWorkflow,i=t.updateThemeLike,c=t.userLikeStatus;if(t.pageName,t.notification,a){var s={workflow:Object(y.e)(o[0]),subcategory:Object(y.s)(t.ingestSubcategory)?o[0]:t.ingestSubcategory,value:c?b.Hb.UNLIKE:b.Hb.LIKE},u=Object(m.a)(r);c?Object(d.a)(b.Fb.UNFAVOURITE,{event:s,content:u},o):Object(d.a)(b.Fb.FAVOURITE,{event:s,content:u},o),i(r,n)}else if(window.adobeIMS){var l={workflow:Object(y.e)(o[0]),subcategory:b.Hb.NAVIGATION};Object(d.a)(b.Fb.USER_SIGN_IN,{event:l},o),window.adobeIMS.signIn()}else console.log("window.adobeIMS is not defined")}(t,e)},variant:"primary",quiet:!0});return e.isExpanded?t:a.a.createElement(i.a,{className:v.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(s.a,null,a.a.createElement(p.a,{id:"app.grid.card.actionsmenu.appreciateaction"})))}))},967:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(7),c=n(37),s=n.n(c),u=n(40),l=n.n(u),p=n(237),f=n(958),h=n.n(f),d=n(780),m=n.n(d);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?v(e):t}(this,n)}}(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(v(e=t.call.apply(t,[this].concat(a))),"onSelect",(function(t){e.props.onSelect(t)})),E(v(e),"onClick",(function(e){e.stopPropagation()})),e}return function(e,t,n){t&&y(e.prototype,t)}(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{trigger:this.props.overlayTriggerAction,placement:"bottom"},a.a.createElement(l.a,{className:[this.props.className,m.a.button].join(" "),label:this.props.isExpanded?a.a.createElement("div",{className:m.a.buttonLabel},a.a.createElement("div",null,this.props.intl.formatMessage({id:this.props.buttonLabel})),a.a.createElement(h.a,{className:m.a.downarrow,size:"S"})):"",icon:this.props.buttonIcon,onClick:this.onClick,quiet:!0}),a.a.createElement(p.Menu,{onSelect:this.onSelect},a.a.createElement(p.MenuHeading,null,Object(o.s)(this.props.menuHeader)?"":a.a.createElement(i.a,{id:this.props.menuHeader})),this.props.labels.map((function(e,t){return a.a.createElement(p.MenuItem,{role:"menuitemradio",key:t,value:e},e)})))))}}]),n}();w.defaultProps={actionText:"app.grid.card.actionsmenu.downloadaction",isExpanded:!0},t.a=Object(i.d)(w)},968:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(37),c=n.n(i),s=n(46),u=n.n(s),l=n(40),p=n.n(l),f=n(943),h=n.n(f),d=n(127),m=n(945),b=n(767),y=n.n(b),g=function(e){var t=a.a.createElement(p.a,{className:e.className,icon:a.a.createElement(h.a,null),label:e.isExpanded?e.intl.formatMessage({id:"app.oneup.pantoneactions.downloadasjpeg"}):"",onClick:function(t){t.stopPropagation(),Object(d.b)(e.themeData.swatches)?Object(m.d)(e.ingestWorkflow,e.isUserLoggedIn,e.themeData,e.ingestSubcategory):Object(m.e)(e.ingestWorkflow,e.isUserLoggedIn,e.themeData,e.ingestSubcategory)},variant:"primary",quiet:!0});return e.isExpanded?t:a.a.createElement(c.a,{className:y.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(u.a,null,a.a.createElement(o.a,{id:"app.oneup.pantoneactions.downloadasjpeg"})))};g.defaultProps={isExpanded:!0},t.a=Object(o.d)(Object(r.memo)(g))},969:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(782),c=n.n(i),s=n(53),u=n.n(s);t.a=function(e){var t=e.cardType,n=e.height,r=e.src,i=e.width,s=c.a.image,l={backgroundImage:"url('".concat(r,"')")};switch(t){case o.n:l.height=n/i*parseInt(o.Nb?u.a.cardWidthLarge:u.a.cardWidth,10);break;case o.m:case o.o:l.height=n,l.width=i,s=c.a.imageCollectionList;break;case o.oc:l.width=u.a.oneUpImageWidth,s=c.a.imageCollectionList}return a.a.createElement("div",{className:s,role:o.Db,style:l})}},970:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(40),c=n.n(i),s=n(981),u=n.n(s),l=n(36),p=n(955),f=n.n(p),h=n(1),d=n(23),m=n(3),b=n(939),y=n(774),g=n.n(y);function v(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=Object(o.d)((function(e){var t=Object(l.c)(),n=Object(l.d)((function(e){return e.save.suggestedTags})),i=Object(l.d)((function(e){return e.save.tagsToSave})),s=Object(l.d)((function(e){return e.create.workflow})),p=[];return Object(r.useEffect)((function(){t(b.i([]))}),[s]),i&&i.length>0&&(p=i.map((function(e){return e.value}))),a.a.createElement("div",{className:"".concat(g.a.tags," ").concat(e.showLargeView&&g.a.tagsGrid)},a.a.createElement(o.a,{id:"app.savepanel.tags"}),a.a.createElement("div",{className:g.a.tagsContent},a.a.createElement(u.a,{placeholder:e.intl.formatMessage({id:"app.savepanel.tags.textfield.placeholder"}),value:p,onChange:function(n){var r={workflow:Object(m.e)(e.ingestWorkflow[0]),subcategory:"".concat(h.Hb.TAG_BOX,":").concat(e.ingestWorkflow[1])};n.length<i.length?(r.value=v(i).filter((function(e){return!n.some((function(t){return t===e}))})),Object(d.a)(h.Fb.TAG_REMOVE,{event:r},[h.I])):n.length>i.length&&(r.value=v(n).filter((function(e){return!i.some((function(t){return t===e}))})),Object(d.a)(h.Fb.TAG_ADD,{event:r},[h.I])),t(b.i(function(e){return e.map((function(e){return{value:e}}))}(n)))},quiet:!0,className:g.a.tagsBox,disabled:e.disabled}),a.a.createElement("div",{className:g.a.suggestedTags},n.map((function(e,n){return a.a.createElement(c.a,{key:n,onClick:function(){return function(e){t(b.i([].concat(v(i),[{value:e}]))),t(b.d(e))}(e)},className:g.a.suggestedTag,variant:"action",label:e,value:e,icon:a.a.createElement(f.a,{className:g.a.add,size:"XS"})})})))))}))},971:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),a.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),a.a.createElement("path",{class:"a",d:"M9.05,1.1A7.95,7.95,0,1,0,17,9.05,7.95,7.95,0,0,0,9.05,1.1Zm0,14.906A6.956,6.956,0,1,1,16.006,9.05,6.956,6.956,0,0,1,9.05,16.006Zm4.49072-9.68845-5.436,6.98773a.5.5,0,0,1-.74839.04628L4.2779,10.28586a.50035.50035,0,0,1,.00021-.70736l.66226-.66226a.5.5,0,0,1,.70709,0l1.939,1.92155,4.43735-5.701a.50006.50006,0,0,1,.70176-.08744h0l.72764.56642A.50016.50016,0,0,1,13.54072,6.31755Z"}))}},973:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(36),i=n(955),c=n.n(i),s=n(40),u=n.n(s),l=n(102),p=n.n(l),f=(n(86),n(776)),h=n.n(f),d=n(7),m=n(1);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?v(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={libraryName:"",createButtonClicked:!1,cancelClicked:!1},r.checkForEnter=r.checkForEnter.bind(v(r)),r.resetState=r.resetState.bind(v(r)),r.onSubmit=r.onSubmit.bind(v(r)),r}return function(e,t,n){t&&y(e.prototype,t)}(n,[{key:"onSubmit",value:function(){var e=this;this.state.cancelClicked||0===this.state.libraryName.length||(this.props.closeDropDown(),this.props.createLibrary({libraryName:this.state.libraryName}).then((function(t){e.props.setSaveLibrary(t),e.resetState()})))}},{key:"resetState",value:function(){this.setState({libraryName:"",createButtonClicked:!1,cancelClicked:!1})}},{key:"checkForEnter",value:function(e){e.charCode===m.Qb.ENTER&&this.onSubmit()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:h.a.createNewLibrary},a.a.createElement("div",{className:h.a.newLibrary},a.a.createElement(d.a,{id:"app.createnewlibrary.newlibrary"})),a.a.createElement(p.a,{className:h.a.libraryName,placeholder:this.props.intl.formatMessage({id:"app.createnewlibrary.placeholder"}),value:this.state.libraryName,onChange:function(t){return e.setState({libraryName:t})},onKeyPress:function(t){return e.checkForEnter(t)}}),a.a.createElement(u.a,{label:this.props.intl.formatMessage({id:"app.header.create"}),variant:"cta",className:h.a.createButton,onClick:this.onSubmit}))}}]),n}(),w=Object(d.d)(E),S=n(37),j=n.n(S),k=n(89),C=n.n(k),P=n(3),T=n(23),N=n(939),I=n(771),R=n.n(I),_=n(948),M=n(944),A=n(984),D=n(990),L=n(982);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}var F=!0;t.a=Object(d.d)((function(e){var t=Object(_.a)(!0,!1),n=t.libraries,i=t.haveLibrariesBeenFetched,s=t.fetchData,l=t.initialLibFetchUrl,p=Object(o.d)((function(e){return e.save.library})),f=Object(o.d)((function(e){return e.user.IMSReady})),h=Object(o.d)((function(e){return e.user.isLoggedIn})),b={},y=Object(o.c)(),g=Object(r.useRef)(),v=function(){g.current.hide()};if(f&&!h)return"";var O=[];return n.forEach((function(e){b[e.id]=e.name})),i&&Object.keys(b).length&&""===p.id&&y(N.f({name:b[Object.keys(b)[0]],id:Object.keys(b)[0]})),O=Object(L.a)({load:function(t){return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,c,"next",e)}function c(e){U(o,r,a,i,c,"throw",e)}i(void 0)}))}}(regeneratorRuntime.mark((function n(){var r,a,o,i,c,u,p,f,h,d,m,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.signal,a=t.cursor,n.next=3,s(a||l,r);case 3:if(o=n.sent,i=[],!o.listData.length){n.next=45;break}F=!1,c=x(o.listData),n.prev=8,c.s();case 10:if((u=c.n()).done){n.next=34;break}p=u.value,f=!1,h=x(O.items),n.prev=14,h.s();case 16:if((d=h.n()).done){n.next=23;break}if(m=d.value,p.id!==m.id){n.next=21;break}return f=!0,n.abrupt("break",23);case 21:n.next=16;break;case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(14),h.e(n.t0);case 28:return n.prev=28,h.f(),n.finish(28);case 31:f||i.push(p);case 32:n.next=10;break;case 34:n.next=39;break;case 36:n.prev=36,n.t1=n.catch(8),c.e(n.t1);case 39:return n.prev=39,c.f(),n.finish(39);case 42:return n.abrupt("return",{items:i,cursor:o.hrefNext});case 45:if(!F){n.next=52;break}return F=!1,n.next=49,y(M.g({libraryName:e.intl.formatMessage({id:"app.defaultlibraryname.mylibrary"})}));case 49:return(b=n.sent).id=b.id.toLowerCase(),n.abrupt("return",{items:[b],cursor:null});case 52:case"end":return n.stop()}}),n,null,[[8,36,39,42],[14,25,28,31]])})))()}}),a.a.createElement(a.a.Fragment,null,a.a.createElement(A.a,{UNSAFE_className:R.a.picker,isQuiet:!0,"aria-label":a.a.createElement(d.a,{id:"app.savepanel.saveto"}),items:O.items,isLoading:O.isLoading,selectedKey:p.id,onSelectionChange:function(t){return function(t){var n={workflow:Object(P.e)(e.ingestWorkflow[0]),subcategory:m.Hb.LIBRARY_SELECTOR},r=b[t];Object(T.a)(m.Fb.LIBRARY_CHANGED,{event:n},e.ingestWorkflow),r&&y(N.f({name:r,id:t})),v()}(t)},onLoadMore:O.loadMore},(function(e){return a.a.createElement(D.a,{key:e.id},e.name)})),a.a.createElement(j.a,{trigger:["click"],placement:"right",className:R.a.dropdownContainer,ref:g},a.a.createElement(u.a,{icon:a.a.createElement(c.a,null),quiet:!0,variant:"primary",className:R.a.button}),a.a.createElement(C.a,{variant:"default",trapFocus:!0},a.a.createElement(w,{closeDropDown:function(){return v()},setSaveLibrary:function(e){return function(e){e.id=e.id.toLowerCase(),y(N.f(e)),O.prepend(e)}(e)},createLibrary:function(e){return y(M.g(e))}}))))}))},975:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(5),c=n.n(i),s=n(21),u=n.n(s),l=n(108),p=n.n(l),f=n(36),h=n(3),d=n(779),m=n.n(d);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=e.children,n=e.open,r=e.closeModal,o=e.backdropClass,i=e.closeCallback,c=Object(f.d)((function(e){return e.user.colorScheme})),s=Object(h.m)(location.pathname);return null===t&&n&&r(),n?u.a.createPortal(a.a.createElement(p.a,{typekitId:"lin0jjb",theme:c,scale:s},a.a.createElement("div",{className:m.a.modal},a.a.createElement("div",{className:[m.a.backdrop,o].join(" "),onClick:Object(h.f)(i,r)}),t)),document.body):null};y.defaultProps={backdropClass:""};var g=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(r.useState)(!1),2),n=t[0],o=t[1],i=function(){n?Object(h.A)(""):Object(h.A)("hidden"),o(!n)},c=e.children[0],s=e.children[1];return Object(r.useEffect)((function(){if(n)return function(){return Object(h.A)("")}}),[n]),a.a.createElement(a.a.Fragment,null,a.a.cloneElement(c,{onClick:Object(h.f)(c.props.onClick,i)}),a.a.createElement(y,{backdropClass:e.backdropClass,open:n,closeModal:i,closeCallback:e.onClose},s))},v=n(88),O=n.n(v),E=n(52),w=n(954),S=n(966),j=n(1),k=n(967),C=n(945),P=n(943),T=n.n(P),N=n(968),I=n(781),R=n.n(I);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?L(e):t}(this,n)}}(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(L(e=t.call.apply(t,[this].concat(a))),"onSelect",(function(t){switch(t){case"SVG":Object(C.c)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData,j.f,null);break;case"PNG":Object(C.b)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData,null);break;case"ASE":Object(C.a)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData);break;case"JPEG":Object(C.e)(e.props.ingestWorkflow,e.props.isUserLoggedIn,e.props.themeData)}})),e}return function(e,t,n){t&&A(e.prototype,t)}(n,[{key:"render",value:function(){var e=this.props,t=e.cardHeight,n=e.isImageCard,r=e.themeData,o=e.userId,i=e.isUserLoggedIn,c=n&&t>=j.l&&!j.Pb,s=!(n||i&&r.author.guid===o||r.source===j.p),u=!!Object(h.s)(e.showAddToLibrary)||e.showAddToLibrary,l=r.assetType===j.g.THEME,p=r.assetType===j.g.GRADIENT,f={menuHeader:"app.oneup.pantoneactions.download",labels:["PNG","SVG"],overlayTriggerAction:"hover",buttonIcon:a.a.createElement(T.a,null),buttonLabel:"app.grid.card.actionsmenu.downloadaction"};return a.a.createElement("div",{className:c?R.a.actionsMenuExpanded:R.a.actionsMenu},u&&a.a.createElement(w.a,M({className:c?R.a.actionButtonExpanded:R.a.actionButton},e,{isExpanded:c})),s&&a.a.createElement(S.a,M({className:c?R.a.actionButtonExpanded:R.a.actionButton},e,{isExpanded:c})),l&&a.a.createElement(N.a,M({className:c?R.a.actionButtonExpanded:R.a.actionButton},e,{isExpanded:c})),p&&a.a.createElement(k.a,M({className:R.a.actionButton,isExpanded:c,onSelect:this.onSelect},f)))}}]),n}(),U=Object(o.d)(B),F=n(969),H=n(104),W=n(941),G=n(964),z=n(30),V=n(985),K=n(783),X=n.n(K);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var q=function(e){var t=e.height,n=e.swatches,r=e.assetType,o=e.gradientProps,i=e.accessibilityData,c="";switch(r){case j.g.GRADIENT:c=a.a.createElement(G.a,{stops:n,gradientProps:o,foregroundSwatchTextClass:!0});break;default:c=i.wcagLevel?a.a.createElement(V.a,{foregroundSwatch:Object(z.v)(n[0]),backgroundSwatch:Object(z.v)(n[1]),foregroundSwatchTextClassName:X.a.foregroundSwatchText}):n.map((function(e,t){return a.a.createElement(W.a,J({key:t},e))}))}return a.a.createElement("div",{className:X.a.theme,style:{height:t}},c)};q.propTypes={swatches:c.a.arrayOf(c.a.object.isRequired).isRequired,height:c.a.oneOfType([c.a.string,c.a.number])};var Y=q,Q=n(988),Z=n(37),$=n.n(Z),ee=n(46),te=n.n(ee),ne=n(24),re=n(793),ae=n.n(re),oe=function(e){return a.a.createElement("div",{className:ae.a.cardInfo},a.a.createElement("div",{className:ae.a.assetNameContainer},a.a.createElement("span",{className:ae.a.assetName},e.name),(e.metadata.isAccessible||e.accessibilityData.colorBlindSafe)&&a.a.createElement($.a,{className:ae.a.tooltip,placement:"bottom",trigger:["hover"]},a.a.createElement("div",{className:ae.a.blindSafeIconContainer},a.a.createElement("img",{src:ne.j})),a.a.createElement(te.a,null,a.a.createElement(o.a,{id:"app.mythemes.assettype.accessibility"})))),a.a.createElement("div",{className:ae.a.assetTypeInfo},e.assetTypeInfo))},ie=n(126),ce=n(23),se=n(940),ue=n(963),le=n(127),pe=n(53),fe=n.n(pe),he=n(794),de=n.n(he);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var a=Oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?ve(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ee(ve(r=t.call(this,e)),"manageShowCardState",(function(e){r.setState({showCard:e})})),Ee(ve(r),"deleteTheme",(function(e,t){switch(e.source){case j.Rb:return r.props.deleteTheme(e,t);default:return r.props.deleteTheme(e,t).then((function(){r.manageShowCardState(!0)})).catch((function(){r.props.notification({variant:j.lb,message:e.assetType===j.g.THEME?r.props.intl.formatMessage({id:"app.themedelete.toast.error.message"}):r.props.intl.formatMessage({id:"app.gradientdelete.toast.error.message"})}),r.manageShowCardState(!0)}))}})),Ee(ve(r),"deleteAssetFromView",(function(){return r.manageShowCardState(!1)})),Ee(ve(r),"undoDelete",(function(){return function(){var e=r.props,t=e.notificationsData,n=e.notificationEnd,a=e.id;r.manageShowCardState(!0),t.forEach((function(e){Object(h.s)(e.themeData)||e.themeData.id!==a||n({id:e.id})}))}})),Ee(ve(r),"onExtractionComplete",(function(e){var t={},n=e.finalColor;t.uniqueID=r.props.uniqueID,t.swatches=[],n.forEach((function(e){t.swatches.push(Object(z.w)("rgb",[e.rgb.r,e.rgb.g,e.rgb.b]))})),r.props.updateThemeSwatchData(r.props.criteria,r.props.source,t)})),Ee(ve(r),"extractColors",(function(){if(0===r.props.swatches.length&&r.props.image.src){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d"),a=ve(r);e.crossOrigin="anonymous",e.src=r.props.source===j.i?"".concat(r.props.image.src,"?cachebuster=").concat(Date.now()):r.props.image.src,e.onload=function(){t.height=r.props.source===j.i?j.j:e.naturalHeight,t.width=r.props.source===j.i?j.k:e.naturalWidth,n.drawImage(e,0,0);var o={onExtractionComplete:function(e){a.onExtractionComplete(e)},startMessage:{imageData:n.getImageData(0,0,t.width,t.height),width:t.width,height:t.height,swatchCount:5,colorMood:"Colorful"}};t=null,e=null,ue.a.queueTask(o)}}})),r.sendOneUpIngestEvent=r.sendOneUpIngestEvent.bind(ve(r)),r.state={showCard:!0},r.deleteTheme=r.deleteTheme.bind(ve(r)),r.closeOneUp=r.closeOneUp.bind(ve(r)),r.cardRef=a.a.createRef(),r}return function(e,t,n){t&&ye(e.prototype,t)}(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.showCard!==t.showCard||this.props.themeSavedToCCLibraries.value!==e.themeSavedToCCLibraries.value||this.props.swatches.length!==e.swatches.length||e.uniqueID!==this.props.uniqueID||void 0!==this.props.like.user&&this.props.like.user!==e.like.user||this.props.intl.locale!==e.intl.locale||this.props.tags!==e.tags||this.props.name!==e.name}},{key:"sendOneUpIngestEvent",value:function(){if(0!==this.props.swatches.length){var e={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:j.Hb.NAVIGATION},t=Object(ie.a)(this.props),n="";switch(this.props.assetType){case j.g.GRADIENT:n=j.Fb.GRADIENT_ONE_UP;break;default:n=j.Fb.THEME_ONE_UP}Object(ce.a)(n,{event:e,content:t},this.props.ingestWorkflow)}}},{key:"closeOneUp",value:function(){var e={workflow:Object(h.e)(this.props.ingestWorkflow[0]),subcategory:j.Hb.ONEUP};Object(ce.a)(j.Fb.CLOSE,{event:e},[j.Hb.ONEUP]),this.cardRef.current.click()}},{key:"componentDidMount",value:function(){var e=this;this.props.extractOnlyIfVisible?new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&(e.extractColors(),n.unobserve(t.target))}))})).observe(this.cardRef.current):this.extractColors()}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.criteria,i=r.image,c=r.isUserLoggedIn,s=r.ingestWorkflow,u=r.notification,l=r.reportAbuse,p=r.saveThemeToLibrary,f=r.updateThemeLike,h=r.userId,d=r.swatches,m=r.assetType,b=r.gradientProps,y=r.accessibilityData,v=void 0!==this.props.like.user&&this.props.like.user,E=void 0===this.props.cardType?j.n:this.props.cardType,w=this.props.history,S=this.deleteTheme,k=this.closeOneUp,C=this.deleteAssetFromView,P=this.undoDelete,T=j.Pb?parseInt(fe.a.actionsMenuHeight,10):0,N={};void 0===i?(t=parseInt(j.Nb?fe.a.paletteSwatchLargeHeight:fe.a.paletteSwatchHeight,10),n=0):(t=parseInt(j.Nb?fe.a.imageSwatchLargeHeight:fe.a.imageSwatchHeight,10),n=parseInt(i.height/i.width*parseInt(j.Nb?fe.a.cardWidthLarge:fe.a.cardWidth,10),10),N={width:i.width,height:i.height,src:i.src}),e=t+n;var I=a.a.createElement("div",{className:de.a.card,style:{height:e+T},ref:this.cardRef},void 0!==i&&a.a.createElement(F.a,be({cardType:E},N)),0===d.length?a.a.createElement("div",{className:de.a.themeLoader},a.a.createElement(H.a,{spinnerType:j.hb})):a.a.createElement(Y,{swatches:d,assetType:m,gradientProps:b,accessibilityData:y}),0!==d.length&&a.a.createElement(U,{pageName:this.props.pageName,themeData:this.props,cardHeight:e,isImageCard:void 0!==i,showAddToLibrary:this.props.showAddToLibrary,readOnly:this.props.readOnly,criteria:o,isUserLoggedIn:c,ingestWorkflow:s,notification:u,reportAbuse:l,saveThemeToLibrary:p,updateThemeLike:f,userLikeStatus:v,userId:h})),R={criteria:o,deleteTheme:S,themeData:this.props,pageName:this.props.pageName,ingestWorkflow:s,isImageCard:void 0!==i,isUserLoggedIn:c,loggedInUser:this.props.loggedInUser,notification:u,readOnly:this.props.readOnly,reportAbuse:l,saveThemeToLibrary:p,showAddToLibrary:this.props.showAddToLibrary,updateThemeLike:f,userId:h,userLikeStatus:v,history:w,closeOneUp:k,showQuickView:!0,isAllowedToPublish:this.props.isAllowedToPublish,showPantoneMatches:this.props.assetType===j.g.THEME&&!Object(le.b)(d),featureFlags:this.props.featureFlags,deleteAssetFromView:C,undoDelete:P},_=a.a.createElement(O.a,{className:de.a.oneUp,backdropClickable:!0},a.a.createElement(Q.a,R)),M=this.props.name;return this.state.showCard&&a.a.createElement("div",{className:de.a.cardWrapper,onClick:this.sendOneUpIngestEvent},d.length?a.a.createElement(g,{backdropClass:de.a.modalScrim,onClose:k},I,_):I,this.props.displayCardInfo&&a.a.createElement(oe,{assetTypeInfo:this.props.assetTypeInfo,name:M,metadata:this.props.metadata,accessibilityData:this.props.accessibilityData}))}}]),n}();we.propTypes={image:c.a.shape({src:c.a.string.isRequired,height:c.a.number.isRequired,width:c.a.number.isRequired})},t.a=Object(f.b)((function(e){return{featureFlags:e.user.featureFlags}}),(function(e){return Object(E.b)({updateThemeSwatchData:se.l},e)}))(Object(o.d)(we))},976:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(1),a=n(940),o=n(76),i=n(3);function c(e){return Object(a.b)(e,r.Bc)}function s(e){return e.themes=e.files,delete e.files,e}function u(){return{"x-api-key":config("CLIENT_ID"),"x-product":config("STOCK_ENDPOINT").productId}}function l(e){return Object(o.c)(e,u()).then((function(e){return s(e).themes.length>0})).catch((function(e){return!1}))}function p(e,t){return function(n,c){var l=c().criteriaDataCollection;if(!Object(i.s)(l[e])&&!Object(i.B)(l[e].stock.fetchStatus))return n(Object(a.h)(e,r.Bc)),Object(o.c)(t.endPoint,u()).then((function(t){var o=s(t);n(Object(a.d)(e,r.Bc,o)),n(Object(a.f)(e,r.Bc))})).catch((function(t){var o=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),n(Object(a.g)(e,r.Bc,o))}))}}function f(e,t){return function(t,n){var o={},c=n().criteriaDataCollection;Object(i.s)(c[e])||c[e].stock.fetchStatus===r.h.COMPLETED_SUCCESSFULLY||(o.themes=[],r.N.forEach((function(e){o.themes.push({title:e})})),t(Object(a.d)(e,r.Bc,o)),t(Object(a.f)(e,r.Bc)))}}},977:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(1),a=n(2),o=n(940),i=n(76),c=n(3);function s(e){return Object(o.b)(e,r.i)}function u(e){return e.projects&&(e.themes=e.projects,delete e.projects),e.entities&&(e.themes=e.entities,delete e.entities),e.categories&&(e.themes=[],e.categories.forEach((function(t){r.L.includes(t.label_en)&&e.themes.push(t)})),delete e.categories),e}function l(){return{"x-api-key":config("CLIENT_ID")}}function p(e){return Object(i.c)(e,l()).then((function(e){return u(e).themes.length>0})).catch((function(e){return!1}))}function f(e,t,n){return{type:a.X,payload:n,srcName:t,criteria:e}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,s){var p=s().criteriaDataCollection;return Object(c.s)(p[e])||Object(c.B)(p[e].behance.fetchStatus)?n?Object(i.c)(t.endPoint,l()).then((function(e){var t=u(e);if(t.gallery){var n=s(),o=n.gallery,i=n.galleries;o.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==t.gallery.id||(a(f(JSON.stringify(i.criteria[0]),r.i,t)),0))}))}})).catch((function(t){console.log("error ".concat(t));var n=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),a(Object(o.g)(e,r.i,n))})):void 0:(a(Object(o.h)(e,r.i)),Object(i.c)(t.endPoint,l()).then((function(t){var n=u(t);if(n.gallery){var i=s(),c=i.gallery,l=i.galleries;c.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==n.gallery.id||(a(f(JSON.stringify(l.criteria[0]),r.i,n)),0))}))}a(Object(o.d)(e,r.i,n)),a(Object(o.f)(e,r.i))})).catch((function(t){console.log("error ".concat(t));var n=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),a(Object(o.g)(e,r.i,n))})))}}function d(e,t){return function(n,a){var s=a().criteriaDataCollection;if(!Object(c.s)(s[e])&&s[e].behance.fetchStatus!==r.h.COMPLETED_SUCCESSFULLY)return n(Object(o.h)(e,r.i)),Object(i.c)(t.endPoint,l()).then((function(t){var a=u(t);n(Object(o.d)(e,r.i,a)),n(Object(o.f)(e,r.i))})).catch((function(t){console.log("error ".concat(t)),n(Object(o.g)(e,r.i,t))}))}}},978:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(36),c=n(40),s=n.n(c),u=n(1),l=n(23),p=n(948),f=n(999),h=n.n(f),d=n(949),m=n(939),b=n(101),y=n(103),g=n(946),v=n(3),O=n(33),E=n(768),w=n.n(E);function S(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=Object(o.d)((function(e){var t=j(Object(r.useState)(!1),2),n=t[0],c=t[1],f=j(Object(r.useState)(!1),2),E=f[0],k=f[1],C=j(Object(r.useState)(!1),2),P=C[0],T=C[1],N=Object(i.d)((function(e){return e.user.IMSReady})),I=Object(i.d)((function(e){return e.user.isLoggedIn})),R=Object(i.d)((function(e){return e.create.assetType})),_=Object(i.d)((function(e){return e.create})),M=Object(v.q)()?u.J.COLOR_CONTRAST:Object(i.d)((function(e){return e.create.workflow})),A=Object(i.d)((function(e){return e.create.isAccessible})),D=Object(d.a)(R,e.intl,Object(v.q)()).assetName,L=Object(i.d)((function(e){return e.create.isEditWorkflow})),x=Object(i.d)((function(e){return e.colorContrast.isEditWorkflow})),B=Object(i.d)((function(e){return e.save.publishToKuler})),U=!Object(v.q)()&&Object(i.d)((function(e){return 0===e.create.swatches.length})),F=Object(p.a)(!0,!1),H=F.libraries,W=F.haveLibrariesBeenFetched&&H.length,G=Object(i.d)((function(e){return e.save.library})),z=e.ingestWorkflow,V=L||x,K=Object(i.d)((function(e){return e.colorContrast.contrastRatio})),X=Object(v.o)(K),J=Object(i.c)(),q=function(){var t=e.intl.formatMessage({id:"app.savepanel.save"}),r=e.intl.formatMessage({id:"app.savepanel.update"});return n&&(t=e.intl.formatMessage({id:"app.savepanel.saving"})),E&&(r=e.intl.formatMessage({id:"app.savepanel.updating"})),{saveText:t,updateText:r}},Y=function(){var t={workflow:Object(v.e)(z[0]),subcategory:"".concat(u.Hb.SAVE_PANEL,":").concat(z[1]),value:B?u.Hb.PUBLIC:u.Hb.PRIVATE};if(N)if(I){c(!0);var n="app.addtolibararynotification.toast.success.message",r="app.addtolibararynotification.toast.error.message",i="".concat(window.location.origin,"/").concat(e.intl.locale,"/mythemes?viewTheme"),s=u.Dc;R===u.g.GRADIENT?(n="app.gradient.addtolibararynotification.toast.success.message",r="app.gradient.addtolibararynotification.toast.error.message"):M===u.J.ACCESSIBILITY&&!1===A&&(n="app.create.accessibility.success.toast",s=u.Eb),J(m.e(R,M)).then((function(e){J(y.a({variant:s,message:a.a.createElement("div",{style:{display:"grid",justifyItems:"end"}},a.a.createElement(o.a,{id:n,values:{name:e}}),a.a.createElement("a",{style:{color:"white",textDecoration:"none",marginTop:"5px"},href:i,target:"_blank"},a.a.createElement(o.a,{id:"app.savetoast.view"})))})),Object(v.q)()?J(g.b(!1)):J(b.setEditWorkflow(!1)),c(!1),T(!1)})).catch((function(){J(y.a({variant:u.lb,message:a.a.createElement(o.a,{id:r})})),Object(v.q)()?J(g.b(!1)):J(b.setEditWorkflow(!1)),c(!1),T(!1)}));var p=S(z);p[1]===u.Hb.ACCESSIBILITY_COLORWHEEL&&(p[1]=A?u.Hb.ACCESSIBILITY_COLORWHEEL_NO_CONFLICTS:u.Hb.ACCESSIBILITY_COLORWHEEL_CONFLICTS),p[1]===u.Hb.ACCESSIBILITY_COLOR_CONTRAST&&(t.value=X);var f={event:t};"colorwheel"===z[1]&&(f.harmony=_.harmonyRule),Object(l.a)(u.Fb.SAVE,f,p)}else window.adobeIMS&&(O.a.setItem("restore-create-after-signin",JSON.stringify(_)),Object(l.a)(u.Fb.SAVE_FAIL,{event:t},z),window.adobeIMS.signIn())},Q=!!I&&(U||!W||n||E||0===D.length);return!e.showSplitButton&&V?a.a.createElement("div",{className:w.a.splitButton},a.a.createElement(s.a,{label:q().saveText,variant:"cta",onClick:Y,className:w.a.saveButton,disabled:Q}),P?a.a.createElement(s.a,{label:q().updateText,variant:"cta",onClick:function(){var t={workflow:Object(v.e)(e.ingestWorkflow[0]),subcategory:"".concat(u.Hb.SAVE_PANEL,":").concat(e.ingestWorkflow[1]),value:B?u.Hb.PUBLIC:u.Hb.PRIVATE};if(N)if(I){k(!0);var n="app.updatecclibrarythemenotification.toast.success.message",r=u.Dc;M===u.J.ACCESSIBILITY&&!1===A&&(n="app.create.accessibility.update.toast",r=u.Eb),J(m.j({main:G.id,name:G.name,pageName:u.ec},M)).then((function(){J(y.a({variant:r,message:a.a.createElement(o.a,{id:n})})),J(m.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),Object(v.q)()?J(g.b(!1)):J(b.setEditWorkflow(!1)),k(!1)})).catch((function(){J(y.a({variant:u.lb,message:a.a.createElement(o.a,{id:"app.addtolibararynotification.toast.error.message"})})),J(m.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),Object(v.q)()?J(g.b(!1)):J(b.setEditWorkflow(!1)),k(!1)})),Object(l.a)(u.Fb.UPDATE,{event:t},z)}else window.adobeIMS&&(Object(l.a)(u.Fb.SAVE_FAIL,{event:t},z),window.adobeIMS.signIn())},disabled:Q}):a.a.createElement(s.a,{variant:"cta",onClick:function(){T(!P)},icon:a.a.createElement(h.a,null)})):a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{label:q().saveText,variant:"cta",onClick:Y,className:w.a.saveButton,disabled:Q}),e.showSplitButton&&a.a.createElement(s.a,{variant:"cta",onClick:function(){e.onSplitButtonClick();var t={workflow:Object(v.e)(e.ingestWorkflow[0]),subcategory:u.Fb.SHOW_SAVE_PANEL,value:u.Fb.SHOW_SAVE_PANEL};Object(l.a)(u.Fb.SHOW_SAVE_PANEL,{event:t},z)},disabled:Q,icon:a.a.createElement(h.a,null)}))}))},979:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),a.a.createElement("title",null,"S AlertCircle 18 N"),a.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),a.a.createElement("path",{class:"a",d:"M7.84555,12.88618a1.13418,1.13418,0,0,1,1.1161-1.15195q.042-.00064.08391.00178a1.116,1.116,0,0,1,1.2,1.15017,1.09065,1.09065,0,0,1-1.2,1.11661,1.0908,1.0908,0,0,1-1.2-1.11661ZM10.0625,4.39771a.20792.20792,0,0,1,.09966.183V5.62212c0,1.40034-.28322,3.98034-.33305,4.48067,0,.04984-.01678.09967-.11695.09967H8.379a.11069.11069,0,0,1-.11695-.09967c-.03305-.46678-.3-3.0305-.3-4.43084V4.6306a.1773.1773,0,0,1,.08339-.18306,2.88262,2.88262,0,0,1,1.00017-.20033A3.27435,3.27435,0,0,1,10.0625,4.39771ZM17.50005,9A8.50005,8.50005,0,1,1,9,.5H9A8.50008,8.50008,0,0,1,17.50005,9ZM15.67484,9A6.67485,6.67485,0,1,0,9,15.6748H9A6.67479,6.67479,0,0,0,15.67484,9Z"}))}},980:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(987),c=n.n(i),s=n(40),u=n.n(s),l=n(1),p=n(796),f=n.n(p);t.a=Object(o.d)((function(e){var t=e.history,n=e.intl,r="",i="",s="",p="";switch(e.pageName){case l.gc:r=a.a.createElement(o.a,{id:"app.mythemes.emptylibraries.lineone"}),i=a.a.createElement(o.a,{id:"app.mythemes.emptylibraries.linetwo"}),s=a.a.createElement(u.a,{variant:"cta",label:n.formatMessage({id:"app.mythemes.emptylibraries.redirectbutton"}),onClick:function(){return t.push("create")},className:f.a.redirectButton}),p=f.a.emptyMyThemes;break;case l.K.EXPLORE.MY_PUBLISHED:r=a.a.createElement(o.a,{id:"app.mypublished.emptypage.line1"});break;case l.K.EXPLORE.MY_APPRECIATIONS:r=a.a.createElement(o.a,{id:"app.myappreciations.emptypage.line1"}),i=a.a.createElement(o.a,{id:"app.myappreciations.emptypage.line2",values:{heart:a.a.createElement(c.a,{className:f.a.heartIcon})}});break;case l.uc:default:r=a.a.createElement(o.a,{id:"app.search.emptypage.line1"})}return a.a.createElement("div",{className:""!==p?p:f.a.emptyPageContainer},a.a.createElement("div",{className:f.a.lineOne},r),a.a.createElement("div",{className:f.a.lineTwo},i),a.a.createElement("div",{className:f.a.redirect},s))}))},983:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(30),c=n(236),s=n.n(c),u=n(777),l=n.n(u),p=n(941),f=n(127),h=n(3),d=n(962),m=n.n(d),b=n(7),y=n(36),g=n(52),v=n(103),O=n(23);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var a=N(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?T(e):t}(this,n)}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){var t=Object(i.f)(e);return Object.keys(e).forEach((function(n){switch(n){case"hex":Object(f.a)(e)&&(t[n]="".concat(e.hex));break;case"rgb":t[n]="RGB ".concat(t.rgb.r,", ").concat(t.rgb.g,", ").concat(t.rgb.b);break;case"hsv":t[n]="HSV ".concat(t.hsv.h,", ").concat(t.hsv.s,", ").concat(t.hsv.v);break;case"cmyk":t[n]="CMYK ".concat(t.cmyk.c,", ").concat(t.cmyk.m,", ").concat(t.cmyk.y,", ").concat(t.cmyk.k);break;case"lab":t[n]="LAB ".concat(t.lab.l,", ").concat(t.lab.a,", ").concat(t.lab.b);break;default:t[n]=e[n]}})),t},_=function(e){var t=e.swatch,n=e.textColor,r=e.isGradient,o=e.isCreate;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:l.a.colorValues,style:{color:n}},(r||Object(f.a)(t))&&a.a.createElement("div",{className:l.a.colorValue},"#",t.hex),a.a.createElement("div",{className:l.a.colorValue},t.rgb),a.a.createElement("div",{className:l.a.colorValue},t.hsv),a.a.createElement("div",{className:l.a.colorValue},t.cmyk),a.a.createElement("div",{className:l.a.colorValue},t.lab)),r&&o&&a.a.createElement("div",{className:l.a.copyHexContainer,style:{color:n}},a.a.createElement("div",{className:l.a.colorValue},a.a.createElement(m.a,{size:"S",className:l.a.copyIcon}),a.a.createElement(b.a,{styles:{paddingLeft:5},id:"app.oneup.copy"})),a.a.createElement("div",{className:l.a.colorValue},"#",t.hex)))},M=function(e){C(n,r.PureComponent);var t=P(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return I(T(e=t.call.apply(t,[this].concat(i))),"onClick",(function(t){return function(){if(e.props.isCreate){var n=R(t).hex,r=Object(h.h)("#".concat(n)),i={workflow:Object(h.e)(e.props.ingestWorkflow[0]),subcategory:"".concat(o.Hb.GRADIENT,"_").concat(o.Hb.IMAGE),value:n},c=o.Fb.COPY_HEX;r?(e.props.notification({variant:o.Dc,message:a.a.createElement(b.a,{id:"app.oneupactions.toast.success.message"})}),Object(O.a)(c,{event:i},[o.Hb.GRADIENT,o.Hb.IMAGE])):e.props.notification({variant:o.lb,message:a.a.createElement(b.a,{id:"app.oneupactions.toast.error.message"})})}}})),I(T(e),"selectedClass",(function(t){var n=e.props,r=n.assetType,a=n.activeSwatch,i=n.isCreate,c=n.order,s=n.gradientProps,u="";switch(r){case o.g.GRADIENT:u=i&&a===c[t]||!Object(h.s)(s)&&s.isOneUp&&a===t?l.a.themeDetailsCardContainerSelected:i?l.a.gradientDetailsCard:l.a.themeDetailsCard}return u})),e}return k(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.swatches,r=t.isCreate,c=this.props.assetType===o.g.GRADIENT;return a.a.createElement("div",{className:c?[r?l.a.themeDetailsCardContainerOnCreate:l.a.themeDetailsCardContainerOneUp]:l.a.themeDetailsCardContainer},n.map((function(t,n){return a.a.createElement(p.a,w({key:n},t,{onClick:e.onClick(t),className:e.selectedClass(n)}),a.a.createElement(_,{textColor:Object(i.s)(t.rgb)>o.zb.RGB?"".concat(s.a.oneUpThemeDetailsTextColorDark):"".concat(s.a.oneUpThemeDetailsTextColorLight),swatch:R(t),isGradient:c,isCreate:r}))})))}}]),n}(),A=function(e){C(n,r.Component);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return k(n,[{key:"render",value:function(){return a.a.createElement(M,w({},this.props.themeData,{closeOneUp:this.props.closeOneUp,activeSwatch:this.props.activeSwatch,notification:this.props.notification,ingestWorkflow:this.props.ingestWorkflow}))}}]),n}(),D=Object(y.b)((function(e){return{activeSwatch:e.create.activeSwatch}}),(function(e){return Object(g.b)({notification:v.a},e)}))(A);t.a=D},985:function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var r=n(0),a=n.n(r),o=n(7),i=n(36),c=n(941),s=n(970),u=n(965),l=n(949),p=n(1),f=n(939),h=n(30),d=n(3),m=n(971),b=n(979),y=n(78),g=n(993),v=n(65),O=n(87),E=function(e){return e.reduce((function(e,t){return e&&t>0&&t<1}),!0)},w=new O.a,S=function(e,t,n){return function(e,t,n){var r=Object(v.b)(e).Y/100,a=Object(v.b)(t),o=n;n>1?o+=.01:o=1/(1/o+.01);var i=o*(r+.05)-.05;a.Y=100*i;var c=Object(v.c)(a),s=E([c.r,c.g,c.b]);if(!s){var u=function(e,t,n){var r=Object(v.b)(e).Y/100,a=Object(v.b)(t),o=[.3127,.329],i=[a.x,a.y],c=[o[0]-i[0],o[1]-i[1]],s=Math.sqrt(c.reduce((function(e,t){return e+t*t}),0)),u=a.Y/100;c=c.map((function(e){return e/s}));var l=!1,p={r:1,g:1,b:1},f=n*(r+.05)-.05;if(f>1)return{outsRGB:p={r:1,g:1,b:1},valid:l=!1};if(f<0)return{outsRGB:p={r:1,g:0,b:0},valid:l=!1};w.setColors("rgb",[t.r,t.g,t.b],"rgb",[e.r,e.g,e.b]);for(var h=w.computeContrastRatio(!1),d=1;d<=1e3;d++){if(h<n){u=a.Y/100+.01;var m=Object(v.c)({x:a.x,y:a.y,Y:100*u});if(E([m.r,m.g,m.b]))a.Y=100*u;else if("break"===function(){var e=c.map((function(e){return.005*e}));i=[i[0]+e[0],i[1]+e[1]];var t=[o[0]-a.x,o[1]-a.y],n=Math.sqrt(t.reduce((function(e,t){return e+t*t}),0)),r=t.map((function(e){return e/n}));t=[o[0]-i[0],o[1]-i[1]],n=Math.sqrt(t.reduce((function(e,t){return e+t*t}),0));var s=t.map((function(e){return e/n}));if(s[0]*r[0]+s[1]*r[1]<0)return l=!1,p={r:1,g:1,b:1},"break";a.x=i[0],a.y=i[1]}())break}else{if(!(h>n)){p=Object(v.c)(a),l=!0;break}f>=0&&(a.Y=100*f)}var b=Object(v.d)(Object(v.c)(a));w.setColors("rgb",[b.r,b.g,b.b],"rgb",[e.r,e.g,e.b]),h=w.computeContrastRatio(!1)}return{outsRGB:p,valid:l}}(e,t,o);c=u.outsRGB,s=u.valid}return{outsRGB:Object(v.d)(c),valid:s}}(t,e,n)},j=n(957),k=n(40),C=n.n(k),P=n(1e3),T=n.n(P),N=n(102),I=n.n(N),R=n(994),_=n.n(R),M=n(946),A=n(103),D=n(46),L=n.n(D),x=n(37),B=n.n(x),U=n(768),F=n.n(U),H=n(236),W=n.n(H);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ee=new O.a,te=function(e){var t=e.foregroundSwatch,n=e.backgroundSwatch,r=e.foregroundSwatchContainerClassName,o=e.foregroundSwatchTextClassName;return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,$({key:0,id:0},t,{className:r}),a.a.createElement("p",{className:o,style:{color:Object(h.s)(Object(h.o)(t).rgb)>p.zb.RGB?"".concat(W.a.contrastThemeTextColorDark):"".concat(W.a.contrastThemeTextColorLight)}},"T")),a.a.createElement(c.a,$({key:1,id:1},n)))},ne=function(){var e,t,n=Object(i.d)((function(e){return e.user.isLoggedIn})),r=p.Kb&&n,c=Object(i.d)((function(e){return e.colorContrast.contrastRatio}));switch(Object(d.o)(c)){case"AAA":e=a.a.createElement(o.a,{id:"app.savepanel.colorcontrast.all.checked.message"}),t=a.a.createElement(m.a,{className:F.a.displayMessageIcon});break;case"AA":e=a.a.createElement(o.a,{id:"app.savepanel.colorcontrast.aa.checked.message",values:{level:a.a.createElement("b",null,a.a.createElement(o.a,{id:"app.savepanel.level2"}))}}),t=a.a.createElement(m.a,{className:F.a.displayMessageIcon});break;default:e=a.a.createElement(o.a,{id:"app.savepanel.colorcontrast.fail.message"}),t=a.a.createElement(b.a,{className:F.a.displayMessageIcon})}return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement("div",{className:F.a.savePanelDisplayMessageContainer},t,a.a.createElement("div",{className:F.a.displayMessage},e)))},re=function(){var e=Object(i.d)((function(e){return e.colorContrast.foregroundSwatch})),t=Object(i.d)((function(e){return e.colorContrast.backgroundSwatch}));return a.a.createElement("div",{className:[F.a.themeContainer,"FFFFFF"===e.hex||"FFFFFF"===t.hex?F.a.borderForWhiteSwatch:""].join(" ")},a.a.createElement(te,{foregroundSwatch:e,backgroundSwatch:t,foregroundSwatchContainerClassName:F.a.foregroundSwatchContainer,foregroundSwatchTextClassName:F.a.foregroundSwatchText}))},ae=function(e){var t=e.intl,n=e.setIsApplied,r=e.isApplied,o=e.idx,c=e.backgroundSwatch,s=e.foregroundSwatch,u=e.notification,l=e.notificationMessage,f=Object(i.c)();ee.setColors("hex",s.hex,"hex",c.hex);var h=ee.compute().contrastRatio.toFixed(1);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:F.a.suggestedThemeContainer},a.a.createElement("div",{className:[F.a.suggestedTheme,"FFFFFF"===s.hex||"FFFFFF"===c.hex?F.a.borderForWhiteSwatch:""].join(" ")},a.a.createElement(te,{foregroundSwatch:s,backgroundSwatch:c,foregroundSwatchContainerClassName:F.a.foregroundSwatchContainer,foregroundSwatchTextClassName:F.a.foregroundSwatchText})),a.a.createElement("div",{className:F.a.suggestedThemeActions},r?a.a.createElement("div",{className:F.a.appliedContainer},a.a.createElement(_.a,{className:F.a.checkMarkIcon}),t.formatMessage({id:"app.savepanel.contrast.applied"})):a.a.createElement(T.a,{onClick:function(e){e.preventDefault(),n&&n(o),f(Object(M.c)({foregroundSwatch:s,backgroundSwatch:c})),f(Object(M.d)({foregroundSwatch:s,backgroundSwatch:c})),u&&f(u({variant:p.Dc,message:l}))}},t.formatMessage({id:"app.savepanel.contrast.apply"})),a.a.createElement("div",null," ",t.formatMessage({id:"app.contrast.ratio"})," ",a.a.createElement("b",null,h,":1")))))},oe=function(e,t,n){var r=[],a=parseFloat(e,10);if(!isNaN(a)&&!Object(d.s)(a)){var o=S(n.rgb,t.rgb,a);o.valid&&r.push({foregroundSwatch:Object(h.q)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b]),backgroundSwatch:t}),(o=S(n.rgb,t.rgb,1/a)).valid&&r.push({foregroundSwatch:Object(h.q)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b]),backgroundSwatch:t}),(o=S(t.rgb,n.rgb,a)).valid&&r.push({foregroundSwatch:n,backgroundSwatch:Object(h.q)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b])}),(o=S(t.rgb,n.rgb,1/a)).valid&&r.push({foregroundSwatch:n,backgroundSwatch:Object(h.q)([o.outsRGB.r,o.outsRGB.g,o.outsRGB.b])})}return r},ie=function(e){for(var t=e.intl,n=e.currentRatio,r=e.backgroundSwatch,i=e.foregroundSwatch,c=Math.ceil(n),s=[],u=Math.max(c+1,5);u<Math.min(21,c+4);u++){var l=oe(u,r,i);if((s=s.concat(l)).length>=p.bc){s.length=p.bc;break}}return 0===s.length?a.a.createElement("div",{className:F.a.noResultFound},t.formatMessage({id:"app.savepanel.contrast.no.result.found"})):a.a.createElement(a.a.Fragment,null,s.map((function(e,n){return a.a.createElement(ae,$({intl:t},e,{isApplied:!1,idx:n,notification:A.a,notificationMessage:a.a.createElement(o.a,{id:"app.contrast.applied"})}))})))},ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var a=Q(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Y(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Z(Y(r=t.call(this,e)),"compute",(function(){var e=r.props,t=e.inputContrastRatio,n=e.backgroundSwatch,a=e.foregroundSwatch;r.setState({suggestions:oe(t,n,a),isAppliedId:null})})),r.state={isAppliedId:null,suggestions:[]},r.setIsAppliedId=r.setIsAppliedId.bind(Y(r)),r}return function(e,t,n){t&&J(e.prototype,t)}(n,[{key:"setIsAppliedId",value:function(e){this.setState({isAppliedId:e})}},{key:"componentDidUpdate",value:function(e){this.props.shouldComputeResults&&(this.compute(),this.setState({isAppliedId:null}),this.props.setShouldComputeResults(!1))}},{key:"render",value:function(){var e=this,t=this.props.intl;return 0!==this.state.suggestions.length||this.props.isInputSelected?a.a.createElement(a.a.Fragment,null,this.state.suggestions.map((function(n,r){return a.a.createElement(ae,$({},n,{intl:t,isApplied:r===e.state.isAppliedId,setIsApplied:e.setIsAppliedId,idx:r}))}))):a.a.createElement("div",{className:F.a.noResultFound},t.formatMessage({id:"app.savepanel.contrast.no.result.found"}))}}]),n}(),se=function(e){var t=e.onTabChange,n=e.intl,c=Object(i.d)((function(e){return e.colorContrast.history.present.contrastRatio})),s=Object(i.d)((function(e){return e.colorContrast.history.present.backgroundSwatch})),u=Object(i.d)((function(e){return e.colorContrast.history.present.foregroundSwatch})),l=K(Object(r.useState)(null),2),f=l[0],h=l[1],d=K(Object(r.useState)(!0),2),m=d[0],b=d[1],y=K(Object(r.useState)(!1),2),g=y[0],v=y[1],O=K(Object(r.useState)(!0),2),E=O[0],w=O[1],S=function(){f&&(b(!1),w(!0))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(j.Accordion,{defaultSelectedIndex:0,onChange:function(){return h(null)},className:F.a.accordian},a.a.createElement(j.AccordionItem,{header:n.formatMessage({id:"app.savepanel.contrast.suggestions"})},a.a.createElement(ie,{intl:n,currentRatio:c.contrastRatio,backgroundSwatch:s,foregroundSwatch:u})),a.a.createElement(j.AccordionItem,{header:n.formatMessage({id:"app.savepanel.contrast.setratio"})},a.a.createElement("div",{className:F.a.inputContrastContainer},a.a.createElement("div",{className:[F.a.inputContrastRatioBox,g?F.a.isSelected:""].join(" ")},a.a.createElement(I.a,Z({autoFocus:!1,className:F.a.inputContrastRatio,quiet:!0,value:f||"",onChange:function(e){return h(e)},onFocus:function(){b(!0),v(!0)},onBlur:function(){return v(!1)},onKeyPress:function(e){e.charCode===p.Qb.ENTER&&(e.target.blur(),S())}},"autoFocus",!0)),a.a.createElement("div",{className:F.a.colon},":"),a.a.createElement("div",{className:F.a.inputContrastFixedField},"1")),m?a.a.createElement(B.a,{className:F.a.buttonTooltip,placement:"bottom",trigger:["hover"]},a.a.createElement(C.a,{className:F.a.setResetButton,label:n.formatMessage({id:"app.go"}),onClick:S,disabled:!f}),a.a.createElement(L.a,null,a.a.createElement(o.a,{id:"app.go"}))):a.a.createElement(B.a,{className:F.a.buttonTooltip,placement:"bottom",trigger:["hover"]},a.a.createElement(C.a,{className:F.a.setResetButton,label:n.formatMessage({id:"app.refresh"}),onClick:function(){w(!0)}}),a.a.createElement(L.a,null,a.a.createElement(o.a,{id:"app.refresh"})))),a.a.createElement(ce,{intl:n,backgroundSwatch:s,isInputSelected:g,foregroundSwatch:u,inputContrastRatio:f,shouldComputeResults:E,setShouldComputeResults:w}))),a.a.createElement(C.a,{className:F.a.saveToLibraries,label:n.formatMessage({id:"app.savepanel.contrast.save.to.libraries"}),onClick:function(){t(1)}}))};t.b=Object(o.d)((function(e){var t=e.intl,n=e.showLargeView,o=e.ingestWorkflow,c=e.closeDialog,h=V(V({},Object(l.a)(p.g.THEME,t,!0)),{},{isUserLoggedIn:Object(i.d)((function(e){return e.user.isLoggedIn})),isEditWorkflow:Object(i.d)((function(e){return e.colorContrast.isEditWorkflow})),isSwatchesEmpty:!1,signintocreativecloudmessage:t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.h2"}),usageMessage:t.formatMessage({id:"app.savepanel.theme.pageDescription.h3"}),isAllowedToPublish:!1,showLargeView:n,ingestWorkflow:o,closeDialog:c,message:a.a.createElement(ne,null),tags:a.a.createElement(s.a,{showLargeView:n,ingestWorkflow:o})}),d=Object(i.c)(),m=K(Object(r.useState)(0),2),b=m[0],v=m[1],O=function(e){e!==b&&v(e)};return Object(r.useEffect)((function(){d(Object(f.g)(!1))}),[]),a.a.createElement(g.TabView,{className:F.a.saveAndRecommendation,selectedIndex:b,onSelect:O},a.a.createElement(y.Tab,{label:t.formatMessage({id:"app.savepanel.recommendations"})},a.a.createElement(se,{intl:t,onTabChange:O})),a.a.createElement(y.Tab,{label:t.formatMessage({id:"app.savepanel.save"})},a.a.createElement("div",{className:F.a.colorContrastSaveContainer},a.a.createElement(u.a,h,a.a.createElement(re,null)))))}))},986:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(778),i=n.n(o);t.a=a.a.memo((function(e){return a.a.createElement("div",{className:i.a.gridWrapper},e.children)}))},988:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(957),c=n(1008),s=n.n(c),u=n(958),l=n.n(u),p=n(86),f=n.n(p),h=n(24),d=n(1),m=n(3),b=n(36),y=n(52),g=n(40),v=n.n(g),O=function(){return a.a.createElement("svg",{className:"spectrum-Icon",xmlns:"http://www.w3.org/2000/svg","data-name":"S_ColorThemeEdit_18_N@2x",height:"36",id:"S_ColorThemeEdit_18_N_2x",viewBox:"0 0 36 36",width:"36"},a.a.createElement("path",{d:"M35.645,16.685l-4.324-4.323a.912.912,0,0,0-.65-.265h-.028a1.035,1.035,0,0,0-.7.3L14.711,27.639a.736.736,0,0,0-.188.315l-2.444,7.34c-.085.282.345.638.588.638a.231.231,0,0,0,.046-.005c.207-.048,6.26-2.118,7.344-2.444a.733.733,0,0,0,.31-.187L35.6,18.059a1.03,1.03,0,0,0,.3-.662A.916.916,0,0,0,35.645,16.685ZM14.039,33.973l1.978-5.519,3.54,3.531C17.936,32.472,15.439,33.555,14.039,33.973Z"}),a.a.createElement("path",{d:"M20,18.956V4.5a.5.5,0,0,0-.5-.5h-3a.5.5,0,0,0-.5.5v17a.5.5,0,0,0,.5.5h.456Z"}),a.a.createElement("path",{d:"M26,12.955V4.5a.5.5,0,0,0-.5-.5h-3a.5.5,0,0,0-.5.5V16.955Z"}),a.a.createElement("path",{d:"M28.251,10.705A3.4,3.4,0,0,1,30.55,9.7l.075,0h.046A3.335,3.335,0,0,1,32,9.976V5a1,1,0,0,0-1-1H28.5a.5.5,0,0,0-.5.5v6.455Z"}),a.a.createElement("path",{d:"M5,4H7.5a.5.5,0,0,1,.5.5v17a.5.5,0,0,1-.5.5H5a1,1,0,0,1-1-1V5A1,1,0,0,1,5,4Z"}),a.a.createElement("rect",{height:"18",rx:"0.5",width:"4",x:"10",y:"4"}))},E=n(30),w=n(23),S=n(101),j=n(939),k=n(946);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(N(r)),r}return function(e,t,n){t&&P(e.prototype,t)}(n,[{key:"onClick",value:function(){var e={workflow:Object(m.e)(this.props.ingestWorkflow[0]),subcategory:d.Hb.ONEUP},t=[];if(this.props.onClick&&this.props.onClick(),this.props.swatches.forEach((function(e,n){var r=[e.rgb.r,e.rgb.g,e.rgb.b];t.push(Object(E.f)(Object(E.w)("rgb",r)))})),this.props.isForContrastChecker?(this.props.setContrastColors({foregroundSwatch:t[0],backgroundSwatch:t[1]}),this.props.setContrastColorsHistory({foregroundSwatch:t[0],backgroundSwatch:t[1]}),this.props.setThemeNameAndIsUserEnteredName({themeName:this.props.name,isUserEnteredName:!0})):(this.props.setInitialOrder({order:Object(m.k)(this.props.swatches.length)}),this.props.setColorMode(this.props.colorMode.toUpperCase()),(this.props.metadata||this.props.accessibilityData)&&this.props.setIsAccessible(Object(m.s)(this.props.metadata.isAccessible)?!Object(m.s)(this.props.accessibilityData.colorBlindSafe)&&this.props.accessibilityData.colorBlindSafe:this.props.metadata.isAccessible),this.props.setInitialSwatches(t),this.props.setThemeNameAndIsUserEnteredName({themeName:this.props.name,isUserEnteredName:!0}),this.props.setHarmonyRule()),this.props.source.toLowerCase()===d.p.toLowerCase()){var n=JSON.parse(this.props.criteria),r=n.main;this.props.setSaveLibrary({id:r,name:n.name}),this.props.isForContrastChecker?this.props.setContrastColorEditWorkflow(!0):this.props.setEditWorkflow(!0),this.props.cclibraryUpdateThemeFlow({cclibraryThemeUpdateLibId:r,cclibraryThemeUpdateAssetId:this.props.id}),Object(w.a)(d.Fb.THEME_EDIT,{event:e},[d.Hb.ONEUP])}else this.props.setAssetType(d.g.THEME),this.props.setWorkflow(d.J.COLORWHEEL),Object(w.a)(d.Fb.THEME_CREATE,{event:e},[d.Hb.ONEUP]);this.props.updateTagsToSave(this.props.tags),this.props.history.push("/".concat(this.props.locale).concat(this.props.route))}},{key:"render",value:function(){return a.a.createElement(v.a,{onClick:this.onClick,icon:a.a.createElement(O,null),label:a.a.createElement(o.a,{id:this.props.labelText}),value:d.kb,variant:"primary",quiet:!0})}}]),n}(),_=Object(b.b)((function(e){return{locale:e.user.locale}}),(function(e){return Object(y.b)({setAssetType:S.setAssetType,setSwatch:S.setSwatch,setWorkflow:S.setWorkflow,setThemeNameAndIsUserEnteredName:j.h,updateTagsToSave:j.i,cclibraryUpdateThemeFlow:j.a,setColorMode:S.setColorMode,setEditWorkflow:S.setEditWorkflow,setHarmonyRule:S.setHarmonyRule,setInitialOrder:S.setInitialOrder,setSaveLibrary:j.f,setInitialSwatches:S.setInitialSwatches,setIsAccessible:S.setIsAccessible,setContrastColors:k.c,setContrastColorsHistory:k.d,setContrastColorEditWorkflow:k.b},e)}))(R),M=n(1009),A=n.n(M),D=n(953);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?U(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(U(r)),r.onViewPublishedClicked=r.onViewPublishedClicked.bind(U(r)),r.state={showPublished:!1,showButton:!0},r.kulerId=null,r}return function(e,t,n){t&&x(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){var e=this;this.props.isThemePublished(this.props.id).then((function(t){t.length>0&&(e.kulerId=t[0].id,e.setState({showPublished:!0})),e.setState({showButton:!1})}))}},{key:"onViewPublishedClicked",value:function(){window.open("/".concat(this.props.locale,"/").concat(encodeURIComponent(this.props.name),"-color-theme-").concat(this.kulerId),"_blank")}},{key:"onClick",value:function(e){var t=this,n={};n.name=this.props.name,n.tags=this.props.tags,n.swatches=this.props.swatches,n.harmony=this.props.harmony,n.libraryid=JSON.parse(this.props.criteria).main,n.colorMode=this.props.colorMode,this.props.publishThemeFromOneUp(n,{id:this.props.id}).then((function(e){t.props.notification({variant:d.Dc,message:a.a.createElement(o.a,{id:"app.publish.toast.success.message"})}),t.kulerId=e.id,t.setState({showPublished:!0})})).catch((function(){t.props.notification({variant:d.lb,message:a.a.createElement(o.a,{id:"app.publish.toast.error.message"})})}))}},{key:"render",value:function(){return a.a.createElement(v.a,{onClick:this.state.showPublished?this.onViewPublishedClicked:this.onClick,icon:a.a.createElement(A.a,null),label:this.state.showPublished?this.props.intl.formatMessage({id:"app.oneup.actions.viewpublished"}):this.props.intl.formatMessage({id:"app.oneup.actions.publish"}),value:d.sc,variant:"primary",quiet:!0,disabled:this.state.showButton})}}]),n}(),W=Object(b.b)(null,(function(e){return Object(y.b)({isThemePublished:D.h,publishThemeFromOneUp:D.i},e)}))(H),G=Object(o.d)(W),z=n(943),V=n.n(z),K=n(239),X=n.n(K),J=n(237),q=n(962),Y=n.n(q),Q=n(950);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?te(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).buttonClicked=r.buttonClicked.bind(te(r)),r.themeToLess=r.themeToLess.bind(te(r)),r.themeToCSS=r.themeToCSS.bind(te(r)),r.themeToSCSS=r.themeToSCSS.bind(te(r)),r.themeToXML=r.themeToXML.bind(te(r)),r}return function(e,t,n){t&&$(e.prototype,t)}(n,[{key:"themeToXML",value:function(e){var t="<palette>\n";return e.swatches.forEach((function(n,r){Object(E.t)(n.rgb),t+="<color name='".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(r+1,"' rgb='").concat(n.hex,"' ")+"r='".concat(parseInt(n.rgb.r*d.z.MAX.RGB.R,10),"'")+" g='".concat(parseInt(n.rgb.g*d.z.MAX.RGB.G,10),"'")+" b='".concat(parseInt(n.rgb.b*d.z.MAX.RGB.B,10),"' />\n")})),t+="</palette>",Object(m.h)(t)}},{key:"themeToSCSS",value:function(e){var t="",n={};return t="/* Color Theme Swatches in Hex */\n",e.swatches.forEach((function(n,r){t+="$".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(r+1,"-hex: #").concat(n.hex,";\n")})),t+="\n/* Color Theme Swatches in RGBA */\n",e.swatches.forEach((function(n,r){t+="$".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(r+1,"-rgba:")+" rgba(".concat(parseInt(n.rgb.r*d.z.MAX.RGB.R,10),",")+"".concat(parseInt(n.rgb.g*d.z.MAX.RGB.G,10),",")+"".concat(parseInt(n.rgb.b*d.z.MAX.RGB.B,10),", 1);\n")})),t+="\n/* Color Theme Swatches in HSLA */\n",e.swatches.forEach((function(r,a){n=Object(E.t)(r.rgb),t+="$".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(a+1,"-hsla:")+" hsla(".concat(parseInt(n.h*d.z.MAX.HSL.H,10),",")+" ".concat(parseInt(n.s*d.z.MAX.HSL.S,10),",")+" ".concat(parseInt(n.l*d.z.MAX.HSL.L,10),", 1);\n")})),Object(m.h)(t)}},{key:"themeToCSS",value:function(e){var t="",n={};switch(e.assetType){case d.g.GRADIENT:var r=Object(Q.b)(e.swatches),a=r.linearGradientDataHEX,o=r.linearGradientDataRGBA;t="/* Gradient in Hex */\n",t+="linear-gradient(to right, ".concat(a,");\n"),t+="\n/* Gradient in RGBA */\n",t+="linear-gradient(to right, ".concat(o,");\n");break;default:t="/* Color Theme Swatches in Hex */\n",e.swatches.forEach((function(n,r){t+=".".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(r+1,"-hex { color: #").concat(n.hex,"; }\n")})),t+="\n/* Color Theme Swatches in RGBA */\n",e.swatches.forEach((function(n,r){t+=".".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(r+1,"-rgba { ")+"color: rgba(".concat(parseInt(n.rgb.r*d.z.MAX.RGB.R,10),",")+" ".concat(parseInt(n.rgb.g*d.z.MAX.RGB.G,10),",")+" ".concat(parseInt(n.rgb.b*d.z.MAX.RGB.B,10),", 1); }\n")})),t+="\n/* Color Theme Swatches in HSLA */\n",e.swatches.forEach((function(r,a){n=Object(E.t)(r.rgb),t+=".".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(a+1,"-hsla { ")+"color: hsla(".concat(parseInt(n.h*d.z.MAX.HSL.H,10),",")+" ".concat(parseInt(n.s*d.z.MAX.HSL.S,10),",")+" ".concat(parseInt(n.l*d.z.MAX.HSL.L,10),", 1); }\n")}))}return Object(m.h)(t)}},{key:"themeToLess",value:function(e){var t="",n={};return t="/* Color Theme Swatches in Hex */\n",e.swatches.forEach((function(n,r){t+="@".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(r+1,"-hex: #").concat(n.hex,";\n")})),t+="\n/* Color Theme Swatches in RGBA */\n",e.swatches.forEach((function(n,r){t+="@".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(r+1,"-rgba:")+" rgba(".concat(parseInt(n.rgb.r*d.z.MAX.RGB.R,10),",")+" ".concat(parseInt(n.rgb.g*d.z.MAX.RGB.G,10),",")+" ".concat(parseInt(n.rgb.b*d.z.MAX.RGB.B,10),", 1);\n")})),t+="\n/* Color Theme Swatches in HSLA */\n",e.swatches.forEach((function(r,a){n=Object(E.t)(r.rgb),t+="@".concat(""===e.name?"colortheme-color":e.name.replace(/ /g,"-"),"-").concat(a+1,"-hsla:")+" hsla(".concat(parseInt(n.h*d.z.MAX.HSL.H,10),",")+" ".concat(parseInt(n.s*d.z.MAX.HSL.S,10),",")+" ".concat(parseInt(n.l*d.z.MAX.HSL.L,10),", 1);\n")})),Object(m.h)(t)}},{key:"buttonClicked",value:function(e){var t=!1,n={workflow:Object(m.e)(this.props.ingestWorkflow[0]),subcategory:d.Hb.ONEUP,value:e},r={type:this.props.themeData.assetType};switch(Object(w.a)(d.Fb.COPY,{event:n,content:r},[d.Hb.ONEUP]),e){case d.nb.LESS:t=this.themeToLess(this.props.themeData);break;case d.nb.CSS:t=this.themeToCSS(this.props.themeData);break;case d.nb.SASS:t=this.themeToSCSS(this.props.themeData);break;case d.nb.XML:t=this.themeToXML(this.props.themeData)}return t?this.props.notification({variant:d.Dc,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.success.message"})}):this.props.notification({variant:d.lb,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.error.message"})}),!0}},{key:"render",value:function(){var e=this,t=!0,n=!0,r=!0,i=this.props.isExpanded;return this.props.themeData.assetType===d.g.GRADIENT&&(t=!1,n=!1,r=!1),a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(v.a,{icon:a.a.createElement(Y.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.less"}):"",value:d.nb.LESS,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(d.nb.LESS)}}),a.a.createElement(v.a,{icon:a.a.createElement(Y.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.css"}):"",value:d.nb.CSS,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(d.nb.CSS)}}),n&&a.a.createElement(v.a,{icon:a.a.createElement(Y.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.sass"}):"",value:d.nb.SASS,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(d.nb.SASS)}}),r&&a.a.createElement(v.a,{icon:a.a.createElement(Y.a,null),label:i?a.a.createElement(o.a,{id:"app.copy.xml"}):"",value:d.nb.XML,variant:"primary",quiet:!0,onClick:function(){return e.buttonClicked(d.nb.XML)}}))}}]),n}(),ae=Object(o.d)(re),oe=n(954),ie=n(966),ce=n(37),se=n.n(ce),ue=n(46),le=n.n(ue),pe=n(945),fe=n(767),he=n.n(fe);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var a=ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?ye(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(ye(r)),r}return function(e,t,n){t&&me(e.prototype,t)}(n,[{key:"onClick",value:function(e,t){var n=t.ingestWorkflow,r=t.isUserLoggedIn,a=t.themeData;e.stopPropagation(),Object(pe.a)(n,r,a,this.props.ingestSubcategory)}},{key:"render",value:function(){var e=this,t=!Object(m.u)(),n=a.a.createElement(v.a,{className:this.props.className,icon:a.a.createElement(V.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:this.props.actionText}):"",onClick:function(t){return e.onClick(t,e.props)},variant:"primary",quiet:!0});return this.props.isExpanded?t&&n:t&&a.a.createElement(se.a,{className:he.a.tooltip,placement:"bottom",trigger:["hover"]},n,a.a.createElement(le.a,null,a.a.createElement(o.a,{id:this.props.actionText})))}}]),n}();ve.defaultProps={actionText:"app.grid.card.actionsmenu.downloadaction"};var Oe=Object(o.d)(ve),Ee=n(1010),we=n(92),Se=n.n(we),je=n(238),ke=n.n(je),Ce=n(102),Pe=n.n(Ce),Te=n(88),Ne=n.n(Te),Ie=n(131),Re=n.n(Ie),_e=n(1011),Me=n.n(_e),Ae=n(784),De=n.n(Ae);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&Ue(e.prototype,t),n&&Ue(e,n),e}function He(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var a=ze(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?Ge(e):t}(this,n)}}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=function(e){He(n,r.Component);var t=We(n);function n(e){var r;return Be(this,n),(r=t.call(this,e)).state={name:e.loggedInUser.name,email:e.loggedInUser.email,report:r.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"}),reason:r.props.intl.formatMessage({id:"app.reportabuse.dialog.reason1"}),description:""},r.getFormData=r.getFormData.bind(Ge(r)),r}return Fe(n,[{key:"getFormData",value:function(){var e=this.state.report===this.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"})?d.Fc:d.Ec,t=this.state;return{name:t.name,email:t.email,report:t.report,reportedOn:e,reason:t.reason,description:t.description}}},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(o.a,{id:"app.reportabuse.message",values:{termsOfUse:a.a.createElement("a",{className:De.a.redirectLink,href:"".concat(this.props.intl.formatMessage({id:"app.url.termsofuse"})),target:"_blank"},a.a.createElement(o.a,{id:"app.footer.termsofuse"})),communityGuidelines:a.a.createElement("a",{className:De.a.redirectLink,target:"_blank",href:"/".concat(this.props.intl.locale,"/communityguidelines")},a.a.createElement(o.a,{id:"app.footer.communityguidelines"}))}})),a.a.createElement(Ee.Form,{className:De.a.form},a.a.createElement(Ee.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.name"}),className:De.a.formItem},a.a.createElement(Pe.a,{placeholder:this.props.intl.formatMessage({id:"app.reportabuse.dialog.name.placeholder"}),value:this.state.name,onChange:function(t){return e.setState({name:t})}})),a.a.createElement(Ee.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.email"}),className:De.a.formItem},a.a.createElement(Pe.a,{placeholder:this.props.intl.formatMessage({id:"app.reportabuse.dialog.email.placeholder"}),value:this.state.email,onChange:function(t){return e.setState({email:t})}})),a.a.createElement(Ee.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report"}),className:De.a.formItem},a.a.createElement(ke.a,{value:this.state.report,style:{width:"100%"},options:[{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report1"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report2"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.report2"})}],onChange:function(t){return e.setState({report:t})}})),a.a.createElement(Ee.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason"}),className:De.a.formItem},a.a.createElement(ke.a,{value:this.state.reason,style:{width:"100%"},options:[{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason1"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason1"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason2"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason2"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason3"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason3"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason4"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason4"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason5"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason5"})},{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason6"}),value:this.props.intl.formatMessage({id:"app.reportabuse.dialog.reason6"})}],onChange:function(t){return e.setState({reason:t})}})),a.a.createElement(Ee.FormItem,{label:this.props.intl.formatMessage({id:"app.reportabuse.dialog.description"}),className:De.a.formItem},a.a.createElement(Se.a,{value:this.state.description,onChange:function(t){return e.setState({description:t})}}))))}}]),n}(),Ke=function(e){He(n,r.Component);var t=We(n);function n(e){var r;return Be(this,n),(r=t.call(this,e)).state={cancelClicked:!1},r.onSubmit=r.onSubmit.bind(Ge(r)),r.sendIngestEvent=r.sendIngestEvent.bind(Ge(r)),r}return Fe(n,[{key:"onSubmit",value:function(e){var t=this;if(this.state.cancelClicked)return!0;var n=e.themeData,r=e.reportAbuse,a=this.dialogRef.getFormData();if(0===a.name.length||!Object(m.p)(a.email))return!1;r({themeData:n,dialog:a}).then((function(){t.props.notification({variant:d.Dc,message:t.props.intl.formatMessage({id:"app.reportabuse.notification.success"})})})).catch((function(){t.props.notification({variant:d.lb,message:t.props.intl.formatMessage({id:"app.reportabuse.notification.failure"})})}))}},{key:"sendIngestEvent",value:function(){var e={workflow:Object(m.e)(this.props.ingestWorkflow[0]),subcategory:d.Hb.ONEUP,value:d.Hb.ABUSE};Object(w.a)(d.Fb.REPORT_ABUSE,{event:e},[d.Hb.ONEUP])}},{key:"render",value:function(){var e=this;return a.a.createElement(Re.a,null,a.a.createElement(v.a,{icon:a.a.createElement(Me.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:"app.theme.action.reportabuse"}):"",variant:"primary",quiet:!0,onClick:function(){return e.sendIngestEvent()}}),a.a.createElement(Ne.a,{className:De.a.reportAbuseModal,title:this.props.intl.formatMessage({id:"app.theme.action.reportabuse"}),confirmLabel:this.props.intl.formatMessage({id:"app.reportabuse.dialog.submit"}),cancelLabel:this.props.intl.formatMessage({id:"app.reportabuse.dialog.cancel"}),onClose:function(){return e.onSubmit(e.props)},onCancel:function(){return e.setState({cancelClicked:!0})},ref:function(t){e.reportAbuseDialogRef=t}},a.a.createElement(Ve,xe({ref:function(t){e.dialogRef=t}},this.props))))}}]),n}(),Xe=Object(o.d)(Ke),Je=n(770),qe=n.n(Je),Ye=n(1012),Qe=n.n(Ye),Ze=n(126),$e=Object(o.d)((function(e){var t=a.a.createElement(v.a,{value:d.eb,className:e.className,icon:a.a.createElement(Qe.a,null),label:e.isExpanded?e.intl.formatMessage({id:"app.grid.card.actionsmenu.deleteaction"}):"",onClick:function(t){return function(e,t){e.stopPropagation(),t.onClick&&t.onClick();var n=t.criteria,r=t.deleteTheme,i=t.isUserLoggedIn,c=t.ingestWorkflow,s=t.notification,u=t.themeData,l=t.ingestSubcategory,p=t.deleteAssetFromView,f=t.undoDelete;if(i){var h={workflow:Object(m.e)(c[0]),subcategory:Object(m.s)(l)?c[0]:l,value:u.source===d.Rb?d.Hb.PUBLIC:d.Hb.PRIVATE},b=Object(Ze.a)(u);b.type=u.assetType,Object(w.a)(d.Fb.DELETE,{event:h,content:b},c);var y=a.a.createElement(o.a,{id:"app.themedelete.toast.success.message"}),g=a.a.createElement(o.a,{id:"app.notifcation.assetType.theme"});if(u.source===d.p){switch(u.assetType){case d.g.GRADIENT:g=a.a.createElement(o.a,{id:"app.notifcation.assetType.gradient"})}y=a.a.createElement(o.a,{id:"app.delete.confirmationtoast.message",values:{assetType:g}}),p(),s({variant:d.Dc,message:a.a.createElement("div",{style:{display:"grid",justifyItems:"end"}},y,a.a.createElement("div",{onClick:f(),style:{cursor:"pointer"}},a.a.createElement(o.a,{id:"app.delete.confirmationtoast.option.undo"}))),workflow:d.jc.THEME_DELETION,themeData:u,criteria:n,deleteTheme:function(){return r(u,n)}})}else r(u,n).then((function(){s({variant:d.Dc,message:y})})).catch((function(){s({variant:d.lb,message:a.a.createElement(o.a,{id:"app.themedelete.toast.error.message"})})}))}else if(window.adobeIMS){var v={workflow:Object(m.e)(c[0]),subcategory:d.Hb.NAVIGATION};Object(w.a)(d.Fb.USER_SIGN_IN,{event:v},c),window.adobeIMS.signIn()}else console.error("window.adobeIMS is not defined")}(t,e)},variant:"primary",quiet:!0});return e.isExpanded?t:a.a.createElement(se.a,{className:he.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(le.a,null,a.a.createElement(o.a,{id:"app.grid.card.actionsmenu.deleteaction"})))})),et=n(127),tt=n(968);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var a=it(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?ot(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(ot(r)),r}return function(e,t,n){t&&rt(e.prototype,t)}(n,[{key:"onClick",value:function(e){e.stopPropagation();var t=this.props,n=t.ingestWorkflow,r=t.isUserLoggedIn,a=t.themeData,o=t.ingestSubcategory;(0,t.downloadAsPNG)(n,r,a,o)}},{key:"render",value:function(){var e=a.a.createElement(v.a,{className:this.props.className,icon:a.a.createElement(V.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:this.props.actionText}):"",onClick:this.onClick,variant:"primary",quiet:!0});return this.props.isExpanded?e:a.a.createElement(se.a,{className:he.a.tooltip,placement:"bottom",trigger:["hover"]},e,a.a.createElement(le.a,null,a.a.createElement(o.a,{id:this.props.actionText})))}}]),n}();ct.defaultProps={actionText:"app.oneup.gradientactions.downloadaspng"};var st=Object(o.d)(ct);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ht(e);if(t){var a=ht(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?ft(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(ft(r)),r}return function(e,t,n){t&&lt(e.prototype,t)}(n,[{key:"onClick",value:function(e){e.stopPropagation();var t=this.props,n=t.ingestWorkflow,r=t.isUserLoggedIn,a=t.themeData,o=t.ingestSubcategory;(0,t.downloadAsSVG)(n,r,a,d.f,o)}},{key:"render",value:function(){var e=this,t=a.a.createElement(v.a,{className:this.props.className,icon:a.a.createElement(V.a,null),label:this.props.isExpanded?this.props.intl.formatMessage({id:this.props.actionText}):"",onClick:function(t){return e.onClick(t,e.props)},variant:"primary",quiet:!0});return this.props.isExpanded?t:a.a.createElement(se.a,{className:he.a.tooltip,placement:"bottom",trigger:["hover"]},t,a.a.createElement(le.a,null,a.a.createElement(o.a,{id:this.props.actionText})))}}]),n}();dt.defaultProps={actionText:"app.oneup.gradientactions.downloadassvg"};var mt=Object(o.d)(dt);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),e}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var a=Ct(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?kt(e):t}(this,n)}}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pt=function(e){St(n,r.PureComponent);var t=jt(n);function n(e){var r;return Ot(this,n),(r=t.call(this,e)).onButtonClick=r.onButtonClick.bind(kt(r)),r.ingestSubcategory=d.Hb.ONEUP,r}return wt(n,[{key:"onButtonClick",value:function(){this.props.closeOneUp&&this.props.closeOneUp()}},{key:"render",value:function(){var e,t=this.props,n=!(t.isImageCard||t.isUserLoggedIn&&t.themeData.author.guid===t.userId||t.themeData.source===d.p),r=!!Object(m.s)(t.showAddToLibrary)||t.showAddToLibrary,o=Object(et.b)(t.themeData.swatches),i=t.history,c=t.isInline,s=void 0!==c&&c,u=d.Kb&&t.themeData.source===d.p&&!Object(m.s)(t.themeData.accessibilityData.wcagLevel),l=!1,p=!0,h=!1,b=this.props.themeData.assetType===d.g.GRADIENT;if(t.themeData.source===d.Rb?l=t.isUserLoggedIn&&t.themeData.author.guid===t.userId:t.themeData.source===d.p&&(l=!t.readOnly,p=!(b||u||t.readOnly||o),h=!u&&!b&&!t.readOnly&&t.isAllowedToPublish&&!o),e=p&&d.Kb&&t.themeData.source===d.p,s){var y=[].concat(gt(b?[{value:"png",component:a.a.createElement(st,yt({actionText:"app.oneup.gradientactions.downloadaspng",className:qe.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsPNG:pe.b}))}]:[]),gt(b?[{value:"svg",component:Object(m.u)()?null:a.a.createElement(mt,yt({actionText:"app.oneup.gradientactions.downloadassvg",className:qe.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsSVG:pe.c}))}]:[]),gt(b?[]:[{value:"ase",component:Object(m.u)()?null:a.a.createElement(Oe,yt({actionText:"app.oneup.pantoneactions.downloadasase",className:qe.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory}))}]),gt(b?[]:[{value:"jpeg",component:a.a.createElement(tt.a,yt({className:qe.a.buttonHeight},t,{ingestSubcategory:this.ingestSubcategory}))}])),g=(y=y.filter((function(e){return null!==e.component}))).length>0;return a.a.createElement("div",{className:qe.a.inlineThemeActions},r&&a.a.createElement(oe.a,yt({},t,{isExpanded:!s,ingestSubcategory:this.ingestSubcategory})),n&&a.a.createElement(ie.a,yt({},t,{isExpanded:!s,ingestSubcategory:this.ingestSubcategory})),g&&a.a.createElement(X.a,{closeOnSelect:!0},a.a.createElement(v.a,{icon:a.a.createElement(V.a,null),label:"",variant:"primary",quiet:!0,dropdownTrigger:!0}),a.a.createElement(J.Menu,{dropdownMenu:!0},y.map((function(e){return a.a.createElement(J.MenuItem,{role:"menuitemradio",value:e.value},e.component)})))),t.themeData.source===d.Rb&&a.a.createElement(Xe,yt({},t,{isExpanded:!s})))}return a.a.createElement("div",{className:qe.a.actions},r&&a.a.createElement(oe.a,yt({},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory})),n&&a.a.createElement(ie.a,yt({},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory})),!b&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Oe,yt({actionText:"app.oneup.pantoneactions.downloadasase",className:qe.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory})),a.a.createElement(tt.a,yt({className:qe.a.buttonHeight},t,{ingestSubcategory:this.ingestSubcategory}))),b&&a.a.createElement(a.a.Fragment,null,a.a.createElement(st,yt({actionText:"app.oneup.gradientactions.downloadaspng",className:qe.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsPNG:pe.b})),a.a.createElement(mt,yt({actionText:"app.oneup.gradientactions.downloadassvg",className:qe.a.buttonHeight},t,{isExpanded:!0,ingestSubcategory:this.ingestSubcategory,downloadAsSVG:pe.c}))),a.a.createElement(ae,yt({},t,{isExpanded:!0})),(l||p||h)&&a.a.createElement(f.a,{variant:"small",className:qe.a.separator}),h&&a.a.createElement(G,yt({},t.themeData,{notification:t.notification})),p&&a.a.createElement(_,yt({},t.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:i,onClick:this.onButtonClick,route:d.tc.CREATE,labelText:t.themeData.source.toLowerCase()===d.p.toLowerCase()?"app.edit.a.copy":"app.create.using.theme"})),e&&a.a.createElement(_,yt({},t.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:i,onClick:this.onButtonClick,route:d.tc.CREATEACCESSIBLE,labelText:"app.edit.a.copy.accessibility"})),u&&a.a.createElement(_,yt({},t.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:i,onClick:this.onButtonClick,route:d.tc.CREATE_COLOR_CONTRAST,isForContrastChecker:!0,labelText:"app.edit.a.copy.contrastChecked"})),l&&a.a.createElement($e,yt({},t,{isExpanded:!0,onClick:this.onButtonClick,ingestSubcategory:this.ingestSubcategory,className:qe.a.deleteAction})),t.themeData.source===d.Rb&&a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{variant:"small",className:qe.a.separator}),a.a.createElement(Xe,yt({},t,{isExpanded:!0}))))}}]),n}(),Tt=function(e){St(n,r.PureComponent);var t=jt(n);function n(){return Ot(this,n),t.apply(this,arguments)}return wt(n,[{key:"render",value:function(){return a.a.createElement(Pt,this.props)}}]),n}();function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=At(e);if(t){var a=At(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?Mt(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onButtonClick=r.onButtonClick.bind(Mt(r)),r.ingestSubcategory=d.Hb.ONEUP,r}return function(e,t,n){t&&Rt(e.prototype,t)}(n,[{key:"onButtonClick",value:function(){this.props.closeOneUp&&this.props.closeOneUp()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.themeData,r=this.props.themeData.assetType===d.g.GRADIENT,o=!1;n.accessibilityData&&n.accessibilityData.wcagLevel&&!d.Kb&&(o=!0);var i=!1,c=!0,s=!1;return e.themeData.source===d.Rb?i=e.isUserLoggedIn&&e.themeData.author.guid===e.userId:e.themeData.source===d.p&&(i=!e.readOnly,c=!(r||o||e.readOnly||Object(et.b)(e.themeData.swatches)),s=!r&&!e.readOnly&&e.isAllowedToPublish&&!Object(et.b)(e.themeData.swatches)),a.a.createElement("div",{className:"".concat(qe.a.actions," ").concat(qe.a.moreactions)},a.a.createElement(ae,It({},e,{isExpanded:!0})),s&&a.a.createElement(G,It({},e.themeData,{notification:e.notification})),c&&a.a.createElement(_,It({},e.themeData,{ingestWorkflow:this.props.ingestWorkflow,history:t,onClick:this.onButtonClick,route:d.tc.CREATE,labelText:e.themeData.source.toLowerCase()===d.p.toLowerCase()?"app.edit.a.copy":"app.create.using.theme"})),i&&a.a.createElement($e,It({},e,{isExpanded:!0,onClick:this.onButtonClick,ingestSubcategory:this.ingestSubcategory,className:qe.a.deleteButton})))}}]),n}(),Lt=n(785),xt=n.n(Lt),Bt=n(786),Ut=n.n(Bt),Ft=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"S_Close_18_N@2x",height:"36",id:"S_Close_18_N_2x",viewBox:"0 0 36 36",width:"36"},a.a.createElement("path",{className:Ut.a.fill,d:"M26.485,6.686,18,15.172,9.515,6.686a1,1,0,0,0-1.414,0L6.686,8.1a1,1,0,0,0,0,1.414L15.172,18,6.686,26.485a1,1,0,0,0,0,1.414L8.1,29.314a1,1,0,0,0,1.414,0L18,20.828l8.485,8.485a1,1,0,0,0,1.414,0L29.314,27.9a1,1,0,0,0,0-1.414L20.828,18l8.485-8.485a1,1,0,0,0,0-1.414L27.9,6.686A1,1,0,0,0,26.485,6.686Z"}))},Ht=n(236),Wt=n.n(Ht),Gt=n(941),zt=n(964);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,n){return t&&Jt(e.prototype,t),n&&Jt(e,n),e}function Yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);if(t){var a=$t(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?Zt(e):t}(this,n)}}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var en=function(e){Yt(n,r.PureComponent);var t=Qt(n);function n(){var e;Xt(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Zt(e=t.call.apply(t,[this].concat(i))),"onClick",(function(t){return function(){var n=Object(et.a)(t)?t.pantone:"#".concat(t.hex),r=Object(m.h)(n),i={workflow:Object(m.e)(e.props.ingestWorkflow[0]),subcategory:d.Hb.ONEUP,value:n},c=Object(Ze.a)(e.props.themeData),s=Object(et.a)(t)?d.Fb.COPY_PANTONE:d.Fb.COPY_HEX;r?(e.props.notification({variant:d.Dc,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.success.message"})}),Object(w.a)(s,{content:c,event:i},[d.Hb.ONEUP])):e.props.notification({variant:d.lb,message:a.a.createElement(o.a,{id:"app.oneupactions.toast.error.message"})})}})),e}return qt(n,[{key:"render",value:function(){var e=this,t=this.props.themeData,n=t.gradientProps;return n.isOneUp=!0,a.a.createElement("div",{className:qe.a.theme},t.assetType!==d.g.GRADIENT?t.swatches.map((function(n,r){return a.a.createElement(Gt.a,Kt({key:r},n,{onClick:e.onClick(n),className:t.accessibilityData.wcagLevel?qe.a.contrastCheckedLongSwatchWithHex:qe.a.longSwatchWithHex,children:a.a.createElement("div",{className:qe.a.hexColorValue,style:{color:Object(E.s)(n.rgb)>d.zb.RGB?"".concat(Wt.a.oneUpThemeDetailsTextColorDark):"".concat(Wt.a.oneUpThemeDetailsTextColorLight)}},!d.Pb&&a.a.createElement("div",{className:qe.a.copyHex},a.a.createElement(Y.a,{size:"S",className:qe.a.copyIcon}),a.a.createElement(o.a,{styles:{paddingLeft:5},id:"app.oneup.copy"})),t.accessibilityData.wcagLevel?a.a.createElement("div",{className:[qe.a.contrastCheckedSwatch,Object(E.s)(n.rgb)>d.zb.RGB?"".concat(Wt.a.oneUpThemeDetailsTextColorDark):"".concat(Wt.a.oneUpThemeDetailsTextColorLight)].join(" ")},a.a.createElement("p",null,e.props.intl.formatMessage({id:0===r?"app.contrastChecker.colortype.text":"app.contrastChecker.colortype.background"})),a.a.createElement("span",null,"#".concat(n.hex))):a.a.createElement("div",{className:qe.a.hex},Object(et.a)(n)?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"".concat(et.d)),a.a.createElement("div",null,"".concat(n.pantone.split(et.d).join(" ")))):"#".concat(n.hex)))}))})):a.a.createElement(zt.a,{stops:t.swatches,gradientProps:n,themeData:t,notification:this.props.notification}))}}]),n}(),tn=function(e){return a.a.createElement("div",{className:qe.a.sidePanel},a.a.createElement(Tt,e))},nn=function(e){Yt(n,r.PureComponent);var t=Qt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return qt(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(en,Kt({},this.props,{ingestWorkflow:this.props.ingestWorkflow})),!d.Nb&&a.a.createElement(tn,Kt({},this.props,{isInline:!1})))}}]),n}(),rn=n(787),an=n.n(rn),on=a.a.memo((function(e){var t="avatar-default";return"lg"===e.size?t=an.a.avatarLarge:"sm"===e.size&&(t=an.a.avatarSmall),a.a.createElement("div",{className:"".concat(an.a.avatar," ").concat(t)},e.src?a.a.createElement("img",{src:e.src}):a.a.createElement("p",null,e.name.charAt(0).toUpperCase()))})),cn=n(14),sn=n(969),un=n(981),ln=n.n(un),pn=n(788),fn=n.n(pn);function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yn(e);if(t){var a=yn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?bn(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onKeyPress=r.onKeyPress.bind(bn(r)),r.updateTags=r.updateTags.bind(bn(r)),r.updateThemeName=r.updateThemeName.bind(bn(r)),r.state={tags:r.props.themeData.tags.filter((function(e){if(e&&!Object(m.s)(e.value))return e})).map((function(e){return e.value})),name:r.props.themeData.name},r}return function(e,t,n){t&&dn(e.prototype,t)}(n,[{key:"updateTags",value:function(e){var t=this.props.themeData,n={name:this.state.name,tags:e.map((function(e){return{value:e}})),swatches:t.swatches,harmony:t.harmony,cclibraryThemeUpdateAssetId:t.id,cclibraryThemeUpdateLibId:JSON.parse(t.criteria).main,colorMode:t.colorMode,accessibilityData:t.metadata&&t.metadata.isAccessible?{colorBlindSafe:!0}:t.accessibilityData},r={uniqueID:t.uniqueID,tags:e};this.setState({tags:e}),this.props.updateThemeTags(t.criteria,r),this.props.updateAssetFromOneUp(t.criteria,n,d.g.THEME)}},{key:"updateThemeName",value:function(e){this.setState({name:e.target.value})}},{key:"onKeyPress",value:function(e){var t=this;if(e.which===d.Qb.ENTER&&this.state.name!==this.props.themeData.name){var n=this.props,r=n.themeData,i=n.ingestWorkflow,c={uniqueID:r.uniqueID,name:this.state.name,assetType:this.props.themeData.assetType},s={},u=d.g.THEME,l="app.mythemes.oneup.updtaename.success.message",p="app.mythemes.oneup.updtaename.error.message";this.props.themeData.assetType===d.g.GRADIENT?(s={name:this.state.name,cclibraryThemeUpdateAssetId:r.id,cclibraryThemeUpdateLibId:JSON.parse(r.criteria).main},u=d.g.GRADIENT,l="app.gradients.oneup.updatename.success.message",p="app.gradients.oneup.updatename.error.message"):s={name:this.state.name,tags:this.state.tags.map((function(e){return{value:e}})),swatches:r.swatches,harmony:r.harmony,cclibraryThemeUpdateAssetId:r.id,cclibraryThemeUpdateLibId:JSON.parse(r.criteria).main,colorMode:r.colorMode,accessibilityData:r.metadata&&r.metadata.isAccessible?{colorBlindSafe:!0}:r.accessibilityData};var f={workflow:Object(m.e)(i[0]),subcategory:d.Hb.ONEUP,value:d.Hb.PRIVATE},h=Object(Ze.a)(r);h.type=r.assetType,Object(w.a)(d.Fb.RENAME,{event:f,content:h},i),this.props.updateThemeName(r.criteria,c),this.props.updateAssetFromOneUp(r.criteria,s,u).then((function(){t.props.notification({variant:d.Dc,message:a.a.createElement(o.a,{id:l})})})).catch((function(){t.props.notification({variant:d.lb,message:a.a.createElement(o.a,{id:p})})}))}}},{key:"render",value:function(){var e=this.props,t=e.intl,n=(e.readOnly,"");switch(e.themeData.assetType){case d.g.GRADIENT:n=this.props.intl.formatMessage({id:"app.mythemes.oneup.info.gradientname.placeholder"});break;default:n=this.props.intl.formatMessage({id:"app.mythemes.oneup.info.name.placeholder"})}return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:fn.a.themeNameContainer},a.a.createElement(o.a,{id:"app.mythemes.oneup.info.name"}),a.a.createElement("input",{className:"".concat(fn.a.themeName," spectrum-Textfield"),placeholder:n,value:this.state.name,onChange:this.updateThemeName,onKeyPress:this.onKeyPress,disabled:this.props.themeData.readOnly})),this.props.themeData.assetType===d.g.THEME&&a.a.createElement("div",{className:fn.a.tagsContainer},a.a.createElement(o.a,{id:"app.mythemes.oneup.info.tags"}),a.a.createElement(ln.a,{closeable:!1,placeholder:t.formatMessage({id:"app.mythemes.oneup.info.tags.placeholder"}),value:this.state.tags,onChange:this.updateTags,className:fn.a.tagsBox,disabled:this.props.themeData.readOnly})))}}]),n}(),vn=Object(b.b)(null,(function(e){return Object(y.b)({updateThemeName:D.k,updateThemeTags:D.l,updateAssetFromOneUp:D.j},e)}))(gn),On=Object(o.d)(vn),En=n(789),wn=n.n(En),Sn=n(989);function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t,n){return t&&Cn(e.prototype,t),n&&Cn(e,n),e}function Tn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rn(e);if(t){var a=Rn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?In(e):t}(this,n)}}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _n=function(e){var t=new URL(e);return"".concat(t.origin,"/").concat(d.Cc[Object(cn.b)(d.xc)]).concat(t.pathname,"/").concat(t.search)},Mn=function(e,t,n){var r={workflow:Object(m.e)(t[0]),subcategory:d.Hb.NAVIGATION,value:e},a=Object(Ze.a)(n);Object(w.a)(d.Fb.NAV_SOURCE,{content:a,event:r},[d.Hb.ONEUP])},An=function(e,t,n){var r={workflow:Object(m.e)(t[0]),subcategory:d.Hb.NAVIGATION,value:e},a=Object(Ze.a)(n);Object(w.a)(d.Fb.NAV_UNAME,{content:a,event:r},[d.Hb.ONEUP])},Dn=function(e){var t,n,r=e.ingestWorkflow,o=e.themeData,i=e.intl;switch(o.source){case d.i:t=h.h,n=o.href;break;case d.Bc:case d.Qc:t=h.A,n=_n(o.href,i.locale);break;default:n=o.href}return a.a.createElement("a",{target:"_blank",className:wn.a.redirectIcon,href:n,onClick:function(){return Mn("icon",r,o)}},t)},Ln=function(e){var t=e.ingestWorkflow,n=e.themeData;if(n.source===d.Rb)return a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{className:wn.a.divider}),a.a.createElement("div",{className:wn.a.authorInfo},a.a.createElement(on,{name:n.author.name}),a.a.createElement("div",{className:wn.a.authorName},n.author.name)));if(!Object(m.s)(n.image)&&!Object(m.s)(n.image.creator)){var r=n.image.creator.profileUrl?n.image.creator.profileUrl:"";return n.source===d.Bc&&(r=_n(r)),a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{className:wn.a.divider}),a.a.createElement("div",{className:wn.a.authorInfo},a.a.createElement("a",{target:"_blank",href:r,onClick:function(){return An("avatar",t,n)}},a.a.createElement(on,{name:n.image.creator.name,src:n.image.creator.imageUrl})),a.a.createElement("a",{className:wn.a.authorName,target:"_blank",href:r,onClick:function(){return An("name",t,n)}},n.image.creator.name)))}return""},xn=function(e){var t=e.ingestWorkflow,n=e.themeData,r=e.intl,o=e.noLinkToBookmarkable,i=e.notification;return a.a.createElement("div",{className:"".concat(wn.a.infoContainer," ").concat(n.source===d.p?wn.a.ccLibraryInfo:"")},a.a.createElement(Bn,{ingestWorkflow:t,intl:r,themeData:n,noLinkToBookmarkable:o,notification:i}),a.a.createElement(Ln,{ingestWorkflow:t,themeData:n}))},Bn=function(e){Tn(n,r.PureComponent);var t=Nn(n);function n(e){var r;return kn(this,n),(r=t.call(this,e)).getSourceHref=r.getSourceHref.bind(In(r)),r}return Pn(n,[{key:"getSourceHref",value:function(e){var t="";switch(e){case d.Bc:t=_n(this.props.themeData.href);break;case d.Rb:t=function(e,t){return"/".concat(Object(cn.b)(d.xc),"/").concat(e,"-color-theme-").concat(t)}(encodeURIComponent(this.props.themeData.name),this.props.themeData.id);break;default:t=this.props.themeData.href}return t}},{key:"render",value:function(){var e=this.props,t=e.ingestWorkflow,n=e.themeData,r=e.intl;if(n.source===d.p)return a.a.createElement("div",{className:wn.a.cclibInfoOuterContiner},a.a.createElement("div",null,a.a.createElement(On,this.props)),n.accessibilityData.wcagLevel&&a.a.createElement("div",{className:wn.a.cclibMetadataContainer},a.a.createElement(Sn.a,{accessibilityData:n.accessibilityData,placement:"top"})),(n.metadata.isAccessible||n.accessibilityData.colorBlindSafe)&&a.a.createElement("div",{className:wn.a.cclibMetadataContainer},a.a.createElement("img",{src:h.j})));if(n.source===d.Rb){var i=this.props.noLinkToBookmarkable?a.a.createElement("div",{className:wn.a.projectName},n.name):a.a.createElement("a",{href:this.getSourceHref(n.source),className:wn.a.projectName,target:"_blank",onClick:function(){return Mn("name",t,n)}},n.name);return a.a.createElement("div",{className:wn.a.themeInfoAndIconContainer},a.a.createElement("div",{className:wn.a.imageInfo},i,a.a.createElement("div",{className:wn.a.themeTags},Object(m.n)(n.tags))))}return a.a.createElement("div",{className:wn.a.themeInfoAndIconContainer},a.a.createElement("div",{className:wn.a.imageInfo},a.a.createElement("div",{className:wn.a.supportText},a.a.createElement(o.a,{id:"app.oneup.supporttext"})),a.a.createElement("a",{href:this.getSourceHref(n.source),className:wn.a.projectName,target:"_blank",onClick:function(){return Mn("name",t,n)}},n.name)),a.a.createElement(Dn,{ingestWorkflow:t,intl:r,themeData:n}))}}]),n}(),Un=function(e){Tn(n,r.PureComponent);var t=Nn(n);function n(){return kn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"render",value:function(){var e=this.props,t=e.ingestWorkflow,n=e.themeData,r=e.intl,o=e.noLinkToBookmarkable,i=e.notification;return void 0===n.image?a.a.createElement("div",{className:"".concat(wn.a.imageAndInfo," ").concat(wn.a.singleCol)},a.a.createElement(xn,{ingestWorkflow:t,themeData:n,intl:r,noLinkToBookmarkable:o,notification:i})):a.a.createElement("div",{className:wn.a.imageAndInfo},!d.Nb&&a.a.createElement(sn.a,{className:wn.a.image,cardType:d.oc,width:n.image.width,height:n.image.height,src:n.image.src}),a.a.createElement(xn,{ingestWorkflow:t,themeData:n,intl:r,notification:i}))}}]),n}(),Fn=n(983),Hn=n(956),Wn=n(1002),Gn=n(1049),zn=n(2),Vn="production"===config("ENVIRONMENT")?{USERNAME:"adbcolor@adobe.com",PASSWORD:"candlecliffGilbert3$"}:{USERNAME:"pantone.api.beta@gmail.com",PASSWORD:"tryAPIbeta1"};Hn.k.configure({Auth:{identityPoolId:config("PANTONE").IDENTITY_POOL_ID,region:config("PANTONE").REGION,userPoolId:config("PANTONE").USER_POOL_ID,userPoolWebClientId:config("PANTONE").CLIENT_ID},aws_appsync_graphqlEndpoint:config("PANTONE").API_ENDPOINT,aws_appsync_region:config("PANTONE").REGION,aws_appsync_authenticationType:config("PANTONE").AUTH_TYPE});var Kn=Wn.a.signIn(Vn.USERNAME,Vn.PASSWORD);function Xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kn.then((function(){return Gn.a.graphql(Object(Gn.b)(e,t))}))}function Jn(e){return{type:zn.nb,payload:e}}function qn(e){return{type:zn.ab,payload:e}}function Yn(){return function(e,t){var n=t().pantone.books;return Object(m.b)(n.fetchStatus)?new Promise((function(e,t){return e()})):(e(Jn(d.h.REQUESTED)),Xn("{\n                getBooks {\n                    id\n                    title\n                    group\n                    sortIndex\n                    info {\n                        en {\n                            description\n                        }\n                    }\n                }\n            }").then((function(t){e(function(e){return{type:zn.y,payload:e}}(t.data.getBooks)),e(Jn(d.h.COMPLETED_SUCCESSFULLY));var n=t.data.getBooks.find((function(e){return"pantoneSolidCoatedV3M2"===e.id}));Object(m.s)(n)&&(n=t.data.getBooks[0]),e(qn({id:n.id,name:n.title}))})).catch((function(t){var n=d.h.COMPLETED_WITH_GENERIC_ERROR;throw t.response&&t.response.status&&(n=t.response.status),console.log("error ".concat(t)),e(Jn(n)),new Error})))}}function Qn(e){return function(t,n){var r=n().pantone.selectedBook;return Xn('{\n            getClosestColors(bookId: "'.concat(r.id,'", colorHex: "').concat(e.hex.toString(),'") {\n                code\n                hex\n                lab {l a b}\n                cmyk {c m y k}\n            }\n        }')).then((function(e){return e.data.getClosestColors})).catch((function(e){return console.log("error ".concat(e))}))}}var Zn=n(790),$n=n.n(Zn);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ar(e);if(t){var a=ar(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?rr(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={hex:e.swatch.hex,pantoneColorCode:""},r.fetchPantoneMatch=r.fetchPantoneMatch.bind(rr(r)),r}return function(e,t,n){t&&tr(e.prototype,t)}(n,[{key:"fetchPantoneMatch",value:function(){var e=this;this.props.fetchClosestPantoneMatch(this.props.swatch).then((function(t){var n={},r=t[0],a=Object(m.s)(r.lab)?null:Object(E.m)(Object.values(r.lab)),o=Object(m.s)(r.cmyk)?null:Object(E.l)(Object.values(r.cmyk));n=Object(E.w)("rgb",Object(E.n)(Object.values(Object(E.h)(r.hex)))),a&&(n.lab={l:a[0],a:a[1],b:a[2]}),o&&(n.cmyk={c:o[0],m:o[1],y:o[2],k:o[3]}),n.pantone=r.code,n.isSpotColor=!0,""!==e.props.selectedBook.name&&Object.keys(d.qc).includes(e.props.selectedBook.name)&&(n.isSpotColor=!1),e.props.updateSwatchesWithPantoneColorCode(n,e.props.order),e.setState({hex:r.hex,pantoneColorCode:r.code})}))}},{key:"componentDidMount",value:function(){null!==this.props.selectedBook.id&&this.fetchPantoneMatch()}},{key:"componentDidUpdate",value:function(e){e.selectedBook.id!==this.props.selectedBook.id&&null!==this.props.selectedBook.id&&this.fetchPantoneMatch()}},{key:"render",value:function(){return a.a.createElement("div",{className:$n.a.pantoneCard},a.a.createElement(Gt.a,{hex:this.state.hex,className:$n.a.swatch}),a.a.createElement("div",{className:$n.a.pantoneDetails},a.a.createElement("img",{src:h.y,className:$n.a.logo}),a.a.createElement("div",{className:$n.a.pantoneColorCode},this.state.pantoneColorCode)))}}]),n}(),ir=Object(b.b)((function(e){return{selectedBook:e.pantone.selectedBook}}),(function(e){return Object(y.b)({fetchClosestPantoneMatch:Qn},e)}))(or),cr=n(791),sr=n.n(cr);function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dr(e);if(t){var a=dr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?hr(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e),e.fetchPantoneBooks().catch((function(){return e.triggerErrorState()})),r.onSelect=r.onSelect.bind(hr(r)),r.pantoneBookHeading=r.pantoneBookHeading.bind(hr(r)),r.pantoneBooks=r.pantoneBooks.bind(hr(r)),r}return function(e,t,n){t&&pr(e.prototype,t)}(n,[{key:"pantoneBookHeading",value:function(e){return a.a.createElement(J.MenuHeading,{label:JSON.parse(e).bookName})}},{key:"pantoneBooks",value:function(e){var t=this;return this.props.pantoneBooks[e].map((function(e,n){return a.a.createElement(J.MenuItem,{selected:t.props.selectedBook.id===e.id,role:"menuitemradio",value:{id:e.id,name:e.name},key:n},e.name)}))}},{key:"onSelect",value:function(e){this.props.setUnsetTick(!1),this.props.hidePantoneAction(),this.props.setSelectedPantoneBook(e);var t={workflow:Object(m.e)(this.props.ingestWorkflow[0]),subcategory:d.Hb.ONEUP,value:e},n=Object(Ze.a)(this.props.themeData);Object(w.a)(d.Fb.PANTONE_BOOKS,{content:n,event:t},this.props.ingestWorkflow)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:sr.a.dropdown},a.a.createElement("span",{className:sr.a.viewLabel},this.props.intl.formatMessage({id:"app.oneup.filter.pantonebooks"})),a.a.createElement(X.a,{className:sr.a.dropdownMain,onSelect:this.onSelect},a.a.createElement(v.a,{dropdownTrigger:!0,quiet:!0,className:sr.a.dropDownButton,label:this.props.selectedBook.name,icon:a.a.createElement(l.a,{size:"S"}),disabled:this.props.disabled}),a.a.createElement(J.Menu,{dropdownMenu:!0},Object.keys(this.props.pantoneBooks).map((function(t){return[e.pantoneBookHeading(t)].concat(function(e){return function(e){if(Array.isArray(e))return lr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.pantoneBooks(t)))})))))}}]),n}(),br=Object(b.b)((function(e){var t=e.pantone,n={};return n[JSON.stringify({bookName:"New Books"})]=[],t.books.bookList.forEach((function(e){null===e.group?n[JSON.stringify({bookName:"New Books"})].push({id:e.id,name:e.title}):void 0!==n[JSON.stringify({bookName:e.group})]?n[JSON.stringify({bookName:e.group})].push({id:e.id,name:e.title}):n[JSON.stringify({bookName:e.group})]=[{id:e.id,name:e.title}]})),{pantoneBooks:n,selectedBook:t.selectedBook,disabled:!(Object(m.b)(t.books.fetchStatus)&&t.books.bookList.length>0)}}),(function(e){return Object(y.b)({fetchPantoneBooks:Yn,setSelectedPantoneBook:qn},e)}))(Object(o.d)(mr)),yr=n(242),gr=n.n(yr),vr=n(792),Or=n.n(vr),Er=n(241),wr=n.n(Er),Sr=n(1016),jr=n.n(Sr),kr=n(967);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return t&&_r(e.prototype,t),n&&_r(e,n),e}function Ar(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xr(e);if(t){var a=xr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?Lr(e):t}(this,n)}}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ur=function(e){Ar(n,r.PureComponent);var t=Dr(n);function n(){var e;Rr(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return Br(Lr(e=t.call.apply(t,[this].concat(a))),"onClick",(function(){var t={worflow:Object(m.e)(e.props.ingestWorkflow[0]),subcategory:d.Hb.NAVIGATION};Object(w.a)(d.Fb.PANTONE_HELPX,{event:t},e.props.ingestWorkflow),window.open(e.props.intl.formatMessage({id:"app.oneup.pantone.helpx"}),"_blank")})),e}return Mr(n,[{key:"render",value:function(){return a.a.createElement(wr.a,{icon:a.a.createElement(jr.a,null,a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},a.a.createElement("path",{d:"M9.112,11.9735a.94049.94049,0,0,0-.97819.90123q-.00188.04563.00069.09127a.93047.93047,0,0,0,.9775,1.0075.91649.91649,0,0,0,.977-1.0075.941.941,0,0,0-.8873-.99179Q9.15689,11.97171,9.112,11.9735ZM8.975,4a4.61648,4.61648,0,0,0-2.259.536c-.059.0315-.059.0925-.059.1535V6.175a.0745.0745,0,0,0,.1185.061A3.69051,3.69051,0,0,1,8.648,5.731c.906,0,1.263.383,1.263.9345,0,.475-.2825.7965-.7725,1.3C8.425,8.7015,7.994,9.16,7.994,9.88a1.70752,1.70752,0,0,0,.357,1.057.243.243,0,0,0,.193.0615H9.8365a.0655.0655,0,0,0,.0595-.1075,1.65,1.65,0,0,1-.238-.843c0-.4585.55-.964,1.13-1.531a2.73748,2.73748,0,0,0,.95-2.113C11.739,5.0575,10.758,4,8.975,4ZM9,.5A8.5,8.5,0,1,0,17.5,9,8.5,8.5,0,0,0,9,.5ZM9,15.675a6.675,6.675,0,1,1,6.6735-6.6765V9A6.675,6.675,0,0,1,9,15.675Z"}))),className:Or.a.buttonHeight,variant:"primary",quiet:!0,onClick:this.onClick,label:this.props.intl.formatMessage({id:"app.oneup.learnmore"})})}}]),n}(),Fr=function(e){Ar(n,r.PureComponent);var t=Dr(n);function n(e){var r;return Rr(this,n),Br(Lr(r=t.call(this,e)),"onSelect",(function(e){var t=Lr(r).props;switch(e){case"ASE":Object(pe.a)(t.ingestWorkflow,t.isUserLoggedIn,t.themeData,r.ingestSubcategory);break;case"JPEG":Object(pe.d)(t.ingestWorkflow,t.isUserLoggedIn,t.themeData,r.ingestSubcategory)}})),r.ingestSubcategory=d.Hb.ONEUP,r}return Mr(n,[{key:"render",value:function(){var e=!!Object(m.s)(this.props.showAddToLibrary)||this.props.showAddToLibrary,t=[].concat(function(e){return function(e){if(Array.isArray(e))return Ir(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(m.u)()?[]:["ASE"]),["JPEG"]),n=""!==this.props.selectedPantoneBook&&Object.keys(d.qc).includes(this.props.selectedPantoneBook);return a.a.createElement("div",{className:Or.a.actions},e&&a.a.createElement(oe.a,Nr({disabled:n,isPantone:!0,className:Or.a.firstButton,isExpanded:!0,ingestSubcategory:this.ingestSubcategory},this.props)),a.a.createElement(kr.a,{className:Or.a.downloadAs,overlayTriggerAction:"click",menuHeader:"app.oneup.pantoneactions.download",buttonLabel:"app.oneup.pantoneactions.download",buttonIcon:a.a.createElement(V.a,null),labels:t,onSelect:this.onSelect}),a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{variant:"small",className:Or.a.separator}),a.a.createElement(Ur,{ingestWorkflow:this.props.ingestWorkflow,intl:this.props.intl})))}}]),n}(),Hr=function(e){Ar(n,r.PureComponent);var t=Dr(n);function n(){return Rr(this,n),t.apply(this,arguments)}return Mr(n,[{key:"render",value:function(){var e=this.props.isUserLoggedIn;return window.adobeIMS&&!e?(window.adobeIMS.signIn(),""):a.a.createElement(Wr,this.props)}}]),n}(),Wr=function(e){Ar(n,r.PureComponent);var t=Dr(n);function n(e){var r;return Rr(this,n),Br(Lr(r=t.call(this,e)),"hidePantoneAction",(function(){return r.setState({showPantoneActions:!1})})),Br(Lr(r),"setUnsetTick",(function(e){return r.setState({showTick:e})})),r.swatchesWithPantone=[],r.numberOfupdatedSwatches=0,r.state={showPantoneActions:!1,showPantoneErrorState:!1,showTick:!1},r.updateSwatchesWithPantoneColorCode=r.updateSwatchesWithPantoneColorCode.bind(Lr(r)),r.triggerErrorState=r.triggerErrorState.bind(Lr(r)),r}return Mr(n,[{key:"triggerErrorState",value:function(){this.setState({showPantoneErrorState:!0})}},{key:"updateSwatchesWithPantoneColorCode",value:function(e,t){this.swatchesWithPantone[t]=e,this.numberOfupdatedSwatches++,this.numberOfupdatedSwatches===this.props.themeData.swatches.length&&(this.updatedThemeData=Object.assign({},this.props.themeData),this.updatedThemeData.swatches=this.swatchesWithPantone,this.updatedThemeData.colorMode=d.x.LAB,""!==this.props.selectedPantoneBook&&Object.keys(d.qc).includes(this.props.selectedPantoneBook)&&(this.updatedThemeData.colorMode=d.qc[this.props.selectedPantoneBook]),this.setState({showPantoneActions:!0}),this.numberOfupdatedSwatches=0)}},{key:"render",value:function(){var e=this,t=Object.assign({},this.updatedThemeData),n=Tr(Tr({},this.props),{},{themeData:t,showTickIcon:this.state.showTick}),r=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Or.a.container},a.a.createElement(br,{hidePantoneAction:this.hidePantoneAction,triggerErrorState:this.triggerErrorState,themeData:this.updatedThemeData,ingestWorkflow:this.props.ingestWorkflow,setUnsetTick:this.setUnsetTick}),a.a.createElement("div",{className:Or.a.theme},this.props.themeData.swatches.map((function(t,n){return a.a.createElement(Gt.a,Nr({key:n},t,{className:Or.a.swatch,children:a.a.createElement(ir,{triggerErrorState:e.triggerErrorState,order:n,updateSwatchesWithPantoneColorCode:e.updateSwatchesWithPantoneColorCode,swatch:t})}))})))),a.a.createElement("div",{className:Or.a.sidePanel},this.state.showPantoneActions&&a.a.createElement(Fr,Nr({},n,{setUnsetTick:this.setUnsetTick})))),i=a.a.createElement("div",{className:Or.a.error},a.a.createElement(gr.a,{size:"S",style:{marginRight:9}}),a.a.createElement(o.a,{id:"app.oneup.pantonematches.error"}));return a.a.createElement(a.a.Fragment,null,this.state.showPantoneErrorState?i:r)}}]),n}(),Gr=Object(b.b)((function(e){return{featureFlags:e.user.featureFlags,selectedPantoneBook:e.pantone.selectedBook.name}}),null)(Hr),zr=Object(o.d)(Gr);function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qr=a.a.createElement("div",{className:xt.a.accordionItemHeader},a.a.createElement("div",{className:xt.a.libraryName},a.a.createElement(s.a,{size:"S",className:"Safari"===Object(m.c)()?xt.a.codeIconSafari:xt.a.codeIcon}),a.a.createElement(o.a,{id:"app.oneup.colormodes"})),a.a.createElement(l.a,{size:"S",className:xt.a.accordionOpenCloseChevron})),Zr=a.a.createElement("div",{className:xt.a.accordionItemHeader},a.a.createElement("div",{className:xt.a.libraryName},a.a.createElement("div",{className:"Safari"===Object(m.c)()?xt.a.codeIconSafari:xt.a.codeIcon},h.z),a.a.createElement(o.a,{id:"app.oneup.pantonematches"})),a.a.createElement("div",{className:xt.a.chevronWithNewLabel},a.a.createElement(l.a,{size:"S",className:xt.a.accordionOpenCloseChevron}))),$r=a.a.createElement("div",{className:xt.a.accordionItemHeader},a.a.createElement("div",{className:xt.a.libraryName},a.a.createElement(o.a,{id:"app.label.moreactions"})),a.a.createElement(l.a,{size:"S",className:xt.a.accordionOpenCloseChevron})),ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yr(e);if(t){var a=Yr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?qr(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(qr(r)),r}return function(e,t,n){t&&Xr(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){var e=this;this.props.pantoneOnBoarding&&new Promise((function(t,n){e.pantoneRef.props.onItemClick(),t()})).then((function(){document.querySelector("[data-scroll-container]").scrollTop=document.querySelector("[data-scroll-container]").scrollHeight})).catch((function(){return reject()}))}},{key:"onChange",value:function(e,t){if(!Object(m.s)(e)&&e<1){var n=[d.Fb.PANTONE_MATCHES,d.Fb.COLOR_MODES],r={workflow:Object(m.e)(this.props.ingestWorkflow[0]),subcategory:d.Hb.ONEUP},a={type:""};n[e]===d.Fb.COLOR_MODES&&(a.type=this.props.themeData.assetType),Object(w.a)(n[e],{event:r,content:a},this.props.ingestWorkflow)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.showQuickView,r=t.isUserLoggedIn,o=t.showPantoneMatches;return a.a.createElement("div",{className:xt.a.oneUp},a.a.createElement("div",{className:xt.a.row},a.a.createElement(nn,this.props)),a.a.createElement("div",{className:xt.a.row},a.a.createElement(Un,this.props)),d.Nb&&a.a.createElement("div",{className:xt.a.themeActionsWrapper},a.a.createElement(Tt,Kr({},this.props,{isInline:!0}))),a.a.createElement(i.Accordion,{className:xt.a.accordion,onChange:function(t){return e.onChange(t,e.props)},defaultSelectedIndex:d.Nb&&r&&o?0:null},this.props.showPantoneMatches&&a.a.createElement(i.AccordionItem,{ref:function(t){e.pantoneRef=t},className:xt.a.accordionItem,header:Zr},a.a.createElement(zr,this.props)),a.a.createElement(i.AccordionItem,{className:xt.a.accordionItem,header:Qr},a.a.createElement(Fn.a,this.props)),d.Nb&&a.a.createElement(i.AccordionItem,{className:xt.a.accordionItem,header:$r},a.a.createElement(Dt,this.props))),n&&a.a.createElement("div",{className:xt.a.closeButton,onClick:this.props.closeOneUp},a.a.createElement(Ft,null)))}}]),n}();ea.defaultProps={showPantoneMatches:!0,showQuickView:!1},t.a=Object(o.d)(ea)},989:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var r=n(0),a=n.n(r),o=n(957),i=n(1003),c=n.n(i),s=n(1004),u=n.n(s),l=n(7),p=n(986),f=n(26),h=n(3),d=n(1),m=n(975),b=n(238),y=n.n(b),g=n(795),v=n.n(g);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?S(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(S(r)),r}return function(e,t,n){t&&E(e.prototype,t)}(n,[{key:"onChange",value:function(e){this.props.fetchWithSort(e),this.props.changeSortOption(e)}},{key:"shouldComponentUpdate",value:function(e){return this.props.locale!==e.locale||this.props.sortOption!==e.sortOption}},{key:"render",value:function(){var e=this,t=this.props.disabled,n=d.fc.map((function(t){return{label:e.props.intl.formatMessage({id:d.jb[t]}),value:t}}));return a.a.createElement("div",{className:v.a.myThemesSortDropDown},a.a.createElement("div",{className:t?[v.a.disabled,v.a.dropDownLabel].join(" "):v.a.dropDownLabel},this.props.intl.formatMessage({id:"app.mythemes.sortoption.label"})),a.a.createElement(y.a,{options:n,quiet:!0,disabled:t,value:this.props.sortOption,onChange:function(t){return e.onChange(t)},flexible:!0}))}}]),n}(),C=Object(l.d)(k),P=n(980),T=n(86),N=n.n(T),I=n(127),R=n(36),_=n(771),M=n.n(_),A=n(948),D=n(23),L=n(984),x=n(990),B=n(982),U=n(953);function F(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}var H=Object(l.d)((function(e){var t=Object(A.a)(!1,!0,!1),n=t.libraries,r=(t.haveLibrariesBeenFetched,t.fetchData),o=t.initialLibFetchUrl,i=n.map((function(e){return{label:e.name,value:e.id}})),c=Object(R.c)(),s=Object(f.g)(),u=s.location.pathname.split("/"),p=u[u.length-1],m=Object(B.a)({load:function(e){return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,c,"next",e)}function c(e){F(o,r,a,i,c,"throw",e)}i(void 0)}))}}(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.signal,a=e.cursor,t.next=3,r(a||o,n);case 3:return i=t.sent,t.abrupt("return",{items:i.listData,cursor:i.hrefNext});case 5:case"end":return t.stop()}}),t)})))()}});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:M.a.dropDownLabel},e.intl.formatMessage({id:"app.mythemes.dropdown.label"})),a.a.createElement(L.a,{width:"100%",marginStart:"5px",marginEnd:"25px","aria-label":a.a.createElement(l.a,{id:"app.savepanel.saveto"}),items:m.items,isLoading:m.isLoading,selectedKey:p,onSelectionChange:function(t){return function(t){u.pop(),u.push(t);var n={workflow:Object(h.e)(d.ec),subcategory:d.Hb.LIBRARY_SELECTOR},r=i.filter((function(e){return e.value===t}))[0];Object(D.a)(d.Fb.LIBRARY_CHANGED,{event:n},e.ingestWorkflow),c(U.a([{main:t,name:r.label}])),c(U.f()),s.push("".concat(u.join("/")))}(t)},onLoadMore:m.loadMore},(function(e){return a.a.createElement(x.a,{key:e.id},e.name)})))})),W=n(104),G=n(37),z=n.n(G),V=n(46),K=n.n(V),X=(n(40),n(797)),J=n.n(X),q=n(53),Y=n.n(q);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Z=function(e){return a.a.createElement(z.a,{className:"bottom"===e.placement?J.a.tooltip:J.a.tooltipTop,placement:e.placement,trigger:["hover"]},a.a.createElement("span",{className:"FAIL"===e.accessibilityData.wcagLevel?J.a.wcagLevelLabelFail:J.a.wcagLevelLabel},e.accessibilityData.wcagLevel),a.a.createElement(K.a,null,a.a.createElement(l.a,{id:d.Sc[e.accessibilityData.wcagLevel]})))},$=function(e){var t=e,n=parseInt(Y.a.myThemesCardImageHeight,10),r={themeHeight:void 0===e.image?parseInt(Y.a.myThemesCardImageHeight,10)+parseInt(Y.a.imageSwatchHeight,10):""},o="";switch(e.assetType){case d.g.GRADIENT:o=e.intl.formatMessage({id:"app.mythemes.assettype.gradient"});break;default:o=e.metadata.isAccessible||e.accessibilityData.colorBlindSafe?e.intl.formatMessage({id:"app.mythemes.assettype.accessibility"}):e.accessibilityData.wcagLevel?a.a.createElement("div",null,e.intl.formatMessage({id:"app.mythemes.assettype.contrastChecker"}),a.a.createElement(Z,{accessibilityData:e.accessibilityData,placement:"bottom"})):Object(I.b)(e.swatches)?e.intl.formatMessage({id:"app.mythemes.assettype.pantonetheme"}):e.intl.formatMessage({id:"app.mythemes.assettype.theme"})}return void 0!==t.image&&(t.image.width=parseInt(Y.a.cardWidth,10),t.image.height=n),a.a.createElement(m.a,Q({},t,{assetTypeInfo:o,readOnly:e.readOnly,showAddToLibrary:!1,styles:r,cardType:d.o,displayCardInfo:!0}))},ee=function(e){var t=e.collaborated,n=e.readOnly,r={marginLeft:parseInt(Y.a.myThemesCollaboratedMarginleft,10),verticalAlign:"text-top"};return t?n?a.a.createElement(u.a,{size:"XS",style:r}):a.a.createElement(c.a,{size:"XS",style:r}):""},te=function(e){return a.a.createElement("div",{className:J.a.libraryThemeCount},e.lib.themeCount," ",a.a.createElement(l.a,{id:"app.mythemes.themes"}),!d.Nb&&a.a.createElement(a.a.Fragment,null,", ",e.lib.gradientCount," ",a.a.createElement(l.a,{id:"app.mythemes.gradients"})))},ne=function(e){return a.a.createElement("div",{id:"gridWrapper",className:J.a.myThemesGrid},a.a.createElement(p.a,null,e.libFeed.map((function(t){return function(t){var n=Object.assign({},e);return n.pageName=Object(h.e)(e.pageName.toLowerCase()),a.a.createElement($,Q({},t.data,n))}({data:t})}))),a.a.createElement("div",{className:J.a.loadMorethemes},e.canLoadMore(e.elements,e.libFeed.length)&&a.a.createElement("div",{className:J.a.showMore,onClick:function(){return e.loMore(e.criteria)}},e.intl.formatMessage({id:"app.mythemes.showmore"}))))},re=function(e){var t=e.changeCriteria,n=e.changeSortOption,r=e.fetchLibraries,i=e.locale,c=e.showEmptyMyThemes,s=e.sortOption,u=e.featureFlags,l=e.fetchWithSort,p=new URLSearchParams(Object(f.h)().search).get("viewTheme"),m=Object(h.s)(p)?-1:0;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:J.a.sortedBy},a.a.createElement(C,{disabled:c,changeCriteria:t,changeSortOption:n,fetchLibraries:r,locale:i,sortOption:s,featureFlags:u,fetchWithSort:l})),a.a.createElement("div",null,c&&a.a.createElement(N.a,{className:J.a.emptyPageDivider}),a.a.createElement(o.Accordion,{defaultSelectedIndex:m},e.feed.map((function(t,n){var r=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:J.a.libraryName},t.libraryName,a.a.createElement(ee,t)),a.a.createElement(te,{featureFlags:e.featureFlags,lib:t}));return a.a.createElement(o.AccordionItem,{header:r,key:n,className:J.a.accordionItem},a.a.createElement(ne,Q({},e,{readOnly:t.readOnly,libFeed:t.libraryFeed,criteria:t.criteria,elements:t.totalElements})))}))),c&&a.a.createElement(P.a,{pageName:d.gc,history:e.history})))},ae=function(e){var t=e.intl,n=e.showEmptyMyThemes,r=e.feed[0];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:J.a.stickyHeader},a.a.createElement("h1",{className:J.a.title},t.formatMessage({id:"app.header.mylibraries"})),a.a.createElement("div",{className:J.a.dropdownContainer},a.a.createElement(H,{ingestWorkflow:e.ingestWorkflow})),n&&a.a.createElement(N.a,{className:J.a.emptyPageDivider}),r&&a.a.createElement(te,{featureFlags:e.featureFlags,lib:r})),a.a.createElement("div",{className:J.a.libraryContent},!e.feed.length&&!n&&a.a.createElement(W.a,{style:{position:"absolute"},size:"L"}),r&&a.a.createElement(ne,Q({},e,{readOnly:r.readOnly,libFeed:r.libraryFeed,criteria:r.criteria,elements:r.totalElements})),n&&a.a.createElement(P.a,{pageName:d.gc,history:e.history})))};t.b=Object(l.d)((function(e){return a.a.createElement("div",{className:J.a.myThemesContainer},d.Nb?a.a.createElement(ae,e):a.a.createElement(re,e))}))},995:function(e,t){}}]);